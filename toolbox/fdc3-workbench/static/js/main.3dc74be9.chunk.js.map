{"version":3,"sources":["components/common/TabPanel.tsx","components/Header.tsx","store/SnackbarStore.ts","store/SystemLogStore.ts","fixtures/logMessages.ts","store/ChannelStore.ts","fixtures/codeExamples.ts","components/common/CopyToClipboard.tsx","fixtures/contexts.ts","store/ContextStore.ts","components/common/TemplateTextField.tsx","components/ContextLinking.tsx","components/ContextTemplates.tsx","components/Channels.tsx","components/common/AccordionContent.tsx","components/common/AccordionList.tsx","components/Workbench/ContextListeners.tsx","fixtures/intentTypes.ts","store/IntentStore.ts","components/Workbench/IntentListeners.tsx","store/AppChannelStore.tsx","components/Workbench/AppChannelListeners.tsx","components/Workbench/SystemLogItem.tsx","components/Workbench/SystemLog.tsx","components/Workbench/Workbench.tsx","components/common/JsonInput.tsx","components/common/DialogModal.tsx","components/ContextCreate.tsx","components/Intents.tsx","components/AppChannels.tsx","App.tsx","index.tsx"],"names":["useStyles","makeStyles","theme","createStyles","tabPanel","padding","spacing","TabPanel","props","classes","children","value","index","other","role","hidden","id","className","root","flexGrow","toolbar","backgroundColor","paddingBottom","link","color","palette","common","white","textDecoration","info","marginLeft","minWidth","fontSize","fdc3","headerCube","width","height","backgroundHeader","background","left","top","position","zIndex","Header","useState","appInfo","setAppInfo","useEffect","fdc3Available","implInfo","displayInfo","fdc3Version","provider","providerVersion","e","console","error","AppBar","elevation","style","Toolbar","Typography","variant","src","scope","snackbarStore","snackbarData","makeObservable","this","observable","setSnackbar","action","clearSnackbarData","data","nanoid","SystemLogStore","logList","addLog","name","type","body","message","logMessages","getFdc3","getChannels","success","getCurrentChannel","joinChannel","leaveChannel","warning","broadcast","appbroadcast","raiseIntent","raiseIntentForContext","addContextListener","removeContextListener","removeAppChannelContextListener","addIntentListener","removeIntentListener","receivedContextListener","receivedAppContextListener","addAppContextListener","receivedIntentListener","saveTemplate","deleteTemplate","copyToClipboard","getOrCreateChannel","getLogMessage","push","systemLogStore","ChannelStore","systemChannels","currentChannel","channel","runInAction","fdc3Ready","then","JSON","stringify","catch","reason","channelId","isSuccess","channelStore","codeExamples","text","navigator","clipboard","writeText","contexts","template","email","schemaUrl","URL","contacts","ticker","RIC","ISIN","instruments","LEI","FDS_ID","ISOALPHA3","instrument","holding","positions","ContextStore","contextsList","currentContext","contextListeners","setContext","deleteContextItem","addContextItem","saveContextItem","localStorageContextList","localStorage","getItem","usingDefaultContexts","parsedListFromStorage","parse","Array","isArray","err","log","updateLocalStorage","contextItem","sort","a","b","localeCompare","selectedId","context","find","Object","keys","forEach","key","filter","c","setItem","toJS","contextType","listenerId","contactListener","window","toLowerCase","currentListener","lastReceivedContext","listener","listenerIndex","findIndex","unsubscribe","splice","contextStore","TemplateTextField","withStyles","borderBottomColor","borderColor","TextField","form","display","flexWrap","marginTop","marginRight","controls","spread","flexDirection","justifyContent","contextListenerName","rightAlign","listenerFilter","createFilterOptions","ContextLinking","observer","contextListener","setContextListener","contextError","setContextError","contextListenersOptionsAll","map","title","unshift","setValue","setError","contextListenersOptions","from","Map","reverse","item","values","Grid","xs","noValidate","autoComplete","container","direction","Autocomplete","size","selectOnFocus","blurOnSelect","clearOnBlur","handleHomeEndKeys","onChange","event","newValue","inputValue","filterOptions","options","params","filtered","getOptionLabel","option","renderOption","renderInput","label","placeholder","helperText","Button","onClick","isContextListenerExists","Tooltip","IconButton","contextName","cursor","contextFilter","ContextTemplates","handleTabChange","contextStateSetter","contextsOptions","isInitialMount","useRef","current","selectedContext","getOptionSelected","alignItems","margin","paddingLeft","channelsSelect","border","marginBottom","centerChildren","Channels","setChannelId","isError","setIsError","broadcastContext","setBroadcastContext","sm","FormControl","InputLabel","Select","labelId","target","MenuProps","anchorOrigin","vertical","horizontal","transformOrigin","getContentAnchorEl","length","MenuItem","disabled","FormHelperText","accordion","boxShadow","accordionSummary","minHeight","accordionDetails","paddingTop","accordionTitle","expand_icon","icon","AccordionContent","Accordion","defaultExpanded","AccordionSummary","expandIcon","AccordionDetails","list","listItem","paddingRight","listAction","transform","AccordionList","listItems","noItemsText","onDelete","handleDelete","List","textPrimary","afterEachElement","ListItem","disableGutters","ListItemText","disableTypography","primary","secondary","ListItemSecondaryAction","edge","textField","input","ContextListeners","receivedContextListenerValue","undefined","contextField","InputLabelProps","shrink","contentEditable","fullWidth","multiline","InputProps","intentTypes","IntentStore","intentsList","intentListeners","intent","intentListener","app","appIntent","intentStore","IntentListeners","AppChannelStore","appChannelsList","currentAppChannel","appChannelListeners","newListener","appChannelStore","AppChannelListeners","SystemLogItem","logItem","borderTop","dark","divider","SystemLog","component","paper","systemLog","maxHeight","overflowY","indicator","tabs","borderBottomStyle","borderBottomWidth","a11yProps","Workbench","tabValue","setTabValue","Tabs","indicatorColor","scrollButtons","Tab","borderRadius","shape","grey","jsonInput","errorText","bottom","main","JsonInput","jsoneditor","setJsoneditor","initialSettings","mode","mainMenuBar","statusBar","indentation","onChangeText","onValidationError","onJsonError","errorMsg","schema","$RefParser","dereference","circular","href","editor","JSONEditor","json","destroy","setSchema","set","tabIndex","ref","DialogModal","onClose","onAgree","open","selectedValue","handleClose","Dialog","DialogTitle","DialogActions","autoFocus","templateSelect","multilineField","button","delete","copy","margins","tableContainer","emptyJson","ContextCreate","templateName","setTemplateName","duplicateName","setDuplicateName","contextValue","setContextValue","setOpen","deleteContext","setDeleteContext","setDisabled","gridRef","handleChangeTemplate","found","tempName","reduce","count","handleCreateTemplate","handleDuplicateTemplate","copyName","newContext","scrollIntoView","behavior","block","contextId","TableContainer","Table","TableBody","TableRow","hover","selected","TableCell","align","handleClickOpen","resetContextList","field","errors","currContext","h4","bottomMargin","removeSidePadding","targetSelect","rightPadding","Intents","intentValue","setIntentValue","raiseIntentError","setRaiseIntentError","setIntentListener","intentsForContext","setIntentsForContext","intentTargets","setIntentTargets","targetApp","setTargetApp","contextTargetApp","setContextTargetApp","intentObjects","setIntentObjects","contextIntentObjects","setContextIntentObjects","raiseIntentContext","setRaiseIntentContext","raiseIntentWithContextContext","setRaiseIntentWithContextContext","intentError","setIntentError","intentListenersOptions","handleChangeListener","fetchIntents","appIntents","includes","split","targets","obj","displayName","apps","appIntentsForContext","pairObject","targetObject","topMargin","h6","AppChannels","render","setRender","currentAppChannelId","setCurrentAppChannelId","handleContextStateChange","foundChannel","handleBroadcast","listenerError","addChannelListener","handleAddContextListener","mainTheme","createTheme","light","contrastText","MuiLink","underline","typography","fontFamily","h5","body1","fontWeight","lineHeight","letterSpacing","marginBlockStart","marginBlockEnd","header","tabIndicator","footer","fontStyle","code","workbench","breakpoints","down","openAPIDocs","preventDefault","openSpecAccessDocs","openSupportedPlatformsDocs","App","setFdc3Available","openSnackbar","setOpenSnackbar","setTabIndex","setContextName","newIndex","setTimeout","ThemeProvider","md","flex","Paper","Link","Snackbar","autoHideDuration","Alert","severity","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3dc74be9.chunk.js","sourcesContent":["import React from \"react\";\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\n\ninterface TabPanelProps {\n\tchildren?: React.ReactNode;\n\tindex: any;\n\tvalue: any;\n}\n\nconst useStyles = makeStyles((theme: Theme) =>\n\tcreateStyles({\n\t\ttabPanel: {\n\t\t\tpadding: theme.spacing(2),\n\t\t},\n\t})\n);\n\nexport const TabPanel: React.FC<TabPanelProps> = (props: TabPanelProps) => {\n\tconst classes = useStyles();\n\n\tconst { children, value, index, ...other } = props;\n\n\treturn (\n\t\t<div\n\t\t\trole=\"tabpanel\"\n\t\t\thidden={value !== index}\n\t\t\tid={`scrollable-auto-tabpanel-${index}`}\n\t\t\taria-labelledby={`scrollable-auto-tab-${index}`}\n\t\t\t{...other}\n\t\t>\n\t\t\t{value === index && <div className={classes.tabPanel}>{children}</div>}\n\t\t</div>\n\t);\n};\n","import React, { useEffect, useState } from \"react\";\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\nimport { AppBar, Toolbar, Typography } from \"@material-ui/core\";\nimport * as fdc3 from \"@finos/fdc3\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n\tcreateStyles({\n\t\troot: {\n\t\t\tflexGrow: 1,\n\t\t},\n\t\ttoolbar: {\n\t\t\tbackgroundColor: \"transparent\",\n\t\t\tpadding: theme.spacing(2, 4),\n\t\t\tpaddingBottom: \"0px\",\n\t\t},\n\t\tlink: {\n\t\t\tcolor: theme.palette.common.white,\n\t\t\ttextDecoration: \"underline\",\n\t\t\t\"&:hover\": {\n\t\t\t\tcolor: theme.palette.common.white,\n\t\t\t},\n\t\t},\n\t\tinfo: {\n\t\t\tmarginLeft: \"auto\",\n\t\t\tminWidth: \"200px\",\n\t\t\tfontSize: \"12px\",\n\t\t},\n\t\tfdc3: {},\n\t\theaderCube: {\n\t\t\twidth: \"350px\",\n\t\t\theight: \"50px\",\n\t\t},\n\t\tbackgroundHeader: {\n\t\t\tbackground: \"linear-gradient(to bottom, #0086bf, #00bbe1)\",\n\t\t\theight: \"200px\",\n\t\t\twidth: \"100%\",\n\t\t\tleft: \"0px\",\n\t\t\ttop: \"0px\",\n\t\t\tposition: \"absolute\",\n\t\t\tzIndex: -10,\n\t\t},\n\t})\n);\n\nexport const Header = (props: { fdc3Available: boolean }) => {\n\tconst classes = useStyles();\n\tconst [appInfo, setAppInfo] = useState<fdc3.ImplementationMetadata>();\n\n\tuseEffect(() => {\n\t\tif (props.fdc3Available) {\n\t\t\t//getInfo is not available in FDC3 < v1.2, handle any errors thrown when trying to use it\n\t\t\ttry {\n\t\t\t\tlet implInfo = fdc3.getInfo();\n\t\t\t\tlet displayInfo = {\n\t\t\t\t\tfdc3Version: \"not specified\", \n\t\t\t\t\tprovider: \"not specified\", \n\t\t\t\t\tproviderVersion: \"not specified\"\n\t\t\t\t};\n\t\t\t\tif (implInfo.fdc3Version) {displayInfo.fdc3Version = implInfo.fdc3Version; } \n\t\t\t\tif (implInfo.provider) {displayInfo.provider = implInfo.provider; } \n\t\t\t\tif (implInfo.providerVersion) {displayInfo.providerVersion = implInfo.providerVersion; } \n\t\t\t\tsetAppInfo(displayInfo);\n\t\t\t} catch (e) {\n\t\t\t\tconsole.error(\"Failed to retrieve FDC3 implementation info\",e);\n\t\t\t}\n\t\t}\n\t}, [props.fdc3Available]);\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<div className={classes.backgroundHeader}></div>\n\t\t\t<AppBar position=\"static\" elevation={0} style={{ backgroundColor: \"transparent\" }}>\n\t\t\t\t<Toolbar className={classes.toolbar}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Typography variant=\"h3\" color=\"inherit\" className={classes.fdc3}>\n\t\t\t\t\t\t\t<img src=\"./fdc3-logo.svg\" className={classes.headerCube} />\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className={classes.info}>\n\t\t\t\t\t\t<table id=\"providerInfo\">\n\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<th scope=\"row\">FDC3 Version</th>\n\t\t\t\t\t\t\t\t\t<td>{appInfo?.fdc3Version ? appInfo.fdc3Version : \"unknown\"}</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<th scope=\"row\">Provider</th>\n\t\t\t\t\t\t\t\t\t<td>{appInfo?.provider ? appInfo.provider : \"unknown\"}</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<th scope=\"row\">Provider version</th>\n\t\t\t\t\t\t\t\t\t<td>{appInfo?.providerVersion ? appInfo.providerVersion : \"unknown\"}</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t</div>\n\t\t\t\t</Toolbar>\n\t\t\t</AppBar>\n\t\t</div>\n\t);\n};\n","import { makeObservable, observable, action } from \"mobx\";\nimport { Color } from \"@material-ui/lab/Alert\";\nimport { nanoid } from \"nanoid\";\n\ninterface SnackbarData {\n\tmessage: string;\n\ttype: Color;\n}\n\ninterface SnackbarItem extends SnackbarData {\n\tid: string;\n}\n\nclass SnackbarStore {\n\tsnackbarData: SnackbarItem | null = null;\n\n\tconstructor() {\n\t\tmakeObservable(this, {\n\t\t\tsnackbarData: observable,\n\t\t\tsetSnackbar: action,\n\t\t\tclearSnackbarData: action,\n\t\t});\n\t}\n\n\tsetSnackbar(data: SnackbarData) {\n\t\tthis.snackbarData = { ...data, id: nanoid() };\n\t}\n\n\tclearSnackbarData() {\n\t\tthis.snackbarData = null;\n\t}\n}\n\nconst snackbarStore = new SnackbarStore();\n\nexport default snackbarStore;\n","import { makeObservable, observable, action } from \"mobx\";\nimport { nanoid } from \"nanoid\";\nimport { getLogMessage } from \"../fixtures/logMessages\";\nimport snackbarStore from \"./SnackbarStore\";\n\nexport type logMessagesName =\n\t| \"getFdc3\"\n\t| \"getChannels\"\n\t| \"getCurrentChannel\"\n\t| \"joinChannel\"\n\t| \"leaveChannel\"\n\t| \"broadcast\"\n\t| \"appbroadcast\"\n\t| \"raiseIntent\"\n\t| \"raiseIntentForContext\"\n\t| \"addContextListener\"\n\t| \"removeContextListener\"\n\t| \"addIntentListener\"\n\t| \"removeIntentListener\"\n\t| \"receivedContextListener\"\n\t| \"receivedIntentListener\"\n\t| \"deleteTemplate\"\n\t| \"saveTemplate\"\n\t| \"copyToClipboard\"\n\t| \"getOrCreateChannel\"\n\t| \"receivedAppContextListener\"\n\t| \"addAppContextListener\"\n\t| \"removeAppChannelContextListener\";\n\nexport type logMessagesType = \"error\" | \"success\" | \"warning\" | \"info\";\n\nexport interface LogItem {\n\tid: string;\n\tname: logMessagesName;\n\ttype: logMessagesType;\n\tmessage: string;\n\tbody?: string;\n\tvariant?: \"code\" | \"text\";\n}\n\ninterface LogItemCreator extends Omit<LogItem, \"message\" | \"id\"> {\n\tvalue?: string;\n}\n\nclass SystemLogStore {\n\tlogList: LogItem[] = [];\n\n\tconstructor() {\n\t\tmakeObservable(this, {\n\t\t\tlogList: observable,\n\t\t\taddLog: action,\n\t\t});\n\t}\n\n\taddLog({ name, type, value, body, variant }: LogItemCreator) {\n\t\tconst message = getLogMessage(name, type, value);\n\t\tsnackbarStore.setSnackbar({\n\t\t\tmessage: message,\n\t\t\ttype: type,\n\t\t});\n\n\t\tthis.logList.push({ id: nanoid(), name, type, message, body, variant: variant ?? \"text\" });\n\t}\n}\n\nconst systemLogStore = new SystemLogStore();\n\nexport default systemLogStore;\n","import { logMessagesName, logMessagesType } from \"../store/SystemLogStore\";\n\ntype LogMessages = {\n\t[name in logMessagesName]: {\n\t\t[type in logMessagesType]?: string;\n\t};\n};\n\nexport const getLogMessage = (name: logMessagesName, type: logMessagesType, value: string = \"\"): string => {\n\tconst logMessages: LogMessages = {\n\t\tgetFdc3: {\n\t\t\terror: `The FDC3 API is not ready${value ? ` (${value})` : \"\"}`,\n\t\t},\n\t\tgetChannels: {\n\t\t\tsuccess: `Successfully retrieved System channels`,\n\t\t\terror: `Failed to retrieve System channels`,\n\t\t},\n\t\tgetCurrentChannel: {\n\t\t\tsuccess: `Successfully retrieved current channel [${value}]`,\n\t\t\terror: `Failed to retrieve current channel`,\n\t\t},\n\t\tjoinChannel: {\n\t\t\tsuccess: `Successfully joined the [${value}] channel`,\n\t\t\terror: `Failed to join the [${value}] channel`,\n\t\t},\n\t\tleaveChannel: {\n\t\t\tsuccess: `Successfully left the [${value}] channel`,\n\t\t\terror: `Failed to leave the [${value}] channel`,\n\t\t\twarning: `Not currently joined to a channel`,\n\t\t},\n\t\tbroadcast: {\n\t\t\tsuccess: \"Successfully broadcasted context\",\n\t\t\terror: \"Failed to broadcast context:\",\n\t\t},\n\t\tappbroadcast: {\n\t\t\tsuccess: `Successfully broadcasted context to channel [${value}]: `,\n\t\t\terror: `Failed to broadcast context to channel [${value}]:`,\n\t\t},\n\t\traiseIntent: {\n\t\t\tsuccess: `Successfully raised intent [${value}]`,\n\t\t\terror: `Failed to raise intent [${value}]`,\n\t\t},\n\t\traiseIntentForContext: {\n\t\t\tsuccess: `Successfully raised intent for context`,\n\t\t\terror: `Failed to raise intent for context`,\n\t\t},\n\t\taddContextListener: {\n\t\t\tsuccess: `A context listener for '[${value}]' has been added`,\n\t\t\terror: `Failed to add a context listener for '[${value}]'`,\n\t\t},\n\t\tremoveContextListener: {\n\t\t\tsuccess: `A context listener for '[${value}]' has been removed`,\n\t\t\terror: `Failed to remove a context listener for '[${value}]'`,\n\t\t},\n\t\tremoveAppChannelContextListener: {\n\t\t\tsuccess: `${value}`,\n\t\t\terror: `${value}`,\n\t\t},\n\t\taddIntentListener: {\n\t\t\tsuccess: `An intent listener for '[${value}]' has been added`,\n\t\t\terror: `Failed to add an intent listener for '[${value}]'`,\n\t\t},\n\t\tremoveIntentListener: {\n\t\t\tsuccess: `An intent listener for '[${value}]' has been removed`,\n\t\t\terror: `Failed to remove an intent listener for '[${value}]'`,\n\t\t},\n\t\treceivedContextListener: {\n\t\t\tinfo: `Received context via '[${value}]' listener`,\n\t\t\terror: `Failed to receive context from '[${value}]' listener`,\n\t\t},\n\t\treceivedAppContextListener: {\n\t\t\tinfo: `${value}`,\n\t\t\terror: `${value}`\n\t\t},\n\t\taddAppContextListener: {\n\t\t\tinfo: `${value}`,\n\t\t\terror: `${value}`\n\t\t},\n\t\treceivedIntentListener: {\n\t\t\tinfo: `Received context via '[${value}]' listener.`,\n\t\t\terror: `Failed to receive context from '[${value}]' listener.`,\n\t\t},\n\t\tsaveTemplate: {\n\t\t\tsuccess: `Saved context template for '[${value}]'.`,\n\t\t\terror: `Failed to save context template.`,\n\t\t},\n\t\tdeleteTemplate: {\n\t\t\tsuccess: `Deleted context template for '[${value}]'.`,\n\t\t\terror: `Failed to delete context template.`,\n\t\t},\n\t\tcopyToClipboard: {\n\t\t\tinfo: `${value} code snippet copied to clipboard`,\n\t\t\terror: `Failed to copy code ${value} snippet to clipboard.`,\n\t\t},\n\t\tgetOrCreateChannel: {\n\t\t\tsuccess: `Successfully retrieved or created current app channel [${value}]`,\n\t\t\terror: `Failed retrieve or create app channel ${value}.`,\n\t\t},\n\t};\n\n\treturn logMessages[name][type] ?? (value != \"\" ? `${value}` : `Undefined log message ${name}.${type}`);\n};\n","import { makeObservable, observable, action, runInAction } from \"mobx\";\nimport * as fdc3 from \"@finos/fdc3\";\nimport systemLogStore from \"./SystemLogStore\";\nimport { fdc3Ready } from \"@finos/fdc3\";\n\nclass ChannelStore {\n\tsystemChannels: fdc3.Channel[] = [];\n\n\tcurrentChannel: fdc3.Channel | null = null;\n\n\tconstructor() {\n\t\tmakeObservable(this, {\n\t\t\tsystemChannels: observable,\n\t\t\tcurrentChannel: observable,\n\t\t\tgetChannels: action,\n\t\t\tjoinChannel: action,\n\t\t\tleaveChannel: action,\n\t\t\tgetCurrentChannel: action,\n\t\t});\n\n\t\tthis.getChannels();\n\t}\n\n\tasync getCurrentChannel() {\n\t\ttry {\n\t\t\tconst channel = await fdc3.getCurrentChannel();\n\t\t\trunInAction(() => {\n\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\tname: \"getCurrentChannel\",\n\t\t\t\t\ttype: \"success\",\n\t\t\t\t\tvalue: channel ? channel.id : \"none\",\n\t\t\t\t\tvariant: \"text\",\n\t\t\t\t});\n\t\t\t\tthis.currentChannel = channel;\n\t\t\t});\n\t\t} catch (e) {\n\t\t\trunInAction(() => {\n\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\tname: \"getCurrentChannel\",\n\t\t\t\t\ttype: \"error\",\n\t\t\t\t\tvariant: \"text\",\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n\n\tasync getChannels() {\n\t\t//defer retrieving channels until fdc3 API is ready\n\t\tfdc3Ready(5000).then(async () => {\n\t\t\ttry {\n\t\t\t\n\t\t\t\tconst systemChannels = await fdc3.getSystemChannels();\n\t\t\t\tconst currentChannel = await fdc3.getCurrentChannel();\n\t\n\t\t\t\trunInAction(() => {\n\t\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\t\tname: \"getChannels\",\n\t\t\t\t\t\ttype: \"success\",\n\t\t\t\t\t});\n\t\t\t\t\tthis.systemChannels = systemChannels;\n\t\t\t\t\tthis.currentChannel = currentChannel;\n\t\t\t\t});\n\t\t\t} catch (e) {\n\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\tname: \"getChannels\",\n\t\t\t\t\ttype: \"error\",\n\t\t\t\t\tvariant: \"code\",\n\t\t\t\t\tbody: JSON.stringify(e, null, 4),\n\t\t\t\t});\n\t\t\t}\n\t\t}).catch((reason) => {\n\t\t\tsystemLogStore.addLog({\n\t\t\t\tname: \"getFdc3\",\n\t\t\t\ttype: \"error\",\n\t\t\t\tvariant: \"text\",\n\t\t\t\tvalue: reason,\n\t\t\t});\n\t\t});\n\t}\n\n\tasync joinChannel(channelId: string) {\n\t\ttry {\n\t\t\tawait fdc3.joinChannel(channelId);\n\t\t\tconst currentChannel = await fdc3.getCurrentChannel();\n\t\t\tconst isSuccess = currentChannel !== null;\n\n\t\t\trunInAction(() => {\n\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\tname: \"joinChannel\",\n\t\t\t\t\ttype: isSuccess ? \"success\" : \"error\",\n\t\t\t\t\tvalue: isSuccess ? currentChannel?.id : channelId,\n\t\t\t\t\tvariant: \"text\",\n\t\t\t\t});\n\t\t\t\tthis.currentChannel = currentChannel;\n\t\t\t});\n\t\t} catch (e) {\n\t\t\tsystemLogStore.addLog({\n\t\t\t\tname: \"joinChannel\",\n\t\t\t\ttype: \"error\",\n\t\t\t\tvalue: channelId,\n\t\t\t\tvariant: \"code\",\n\t\t\t\tbody: JSON.stringify(e, null, 4),\n\t\t\t});\n\t\t}\n\t}\n\n\tasync leaveChannel() {\n\t\ttry {\n\t\t\t//check that we're on a channel\n\t\t\tlet currentChannel = await fdc3.getCurrentChannel();\n\t\t\tif (!currentChannel) {\n\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\tname: \"leaveChannel\",\n\t\t\t\t\ttype: \"warning\",\n\t\t\t\t\tvalue: \"\",\n\t\t\t\t\tvariant: \"text\",\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tawait fdc3.leaveCurrentChannel();\n\t\t\t\tcurrentChannel = await fdc3.getCurrentChannel();\n\t\t\t\tconst isSuccess = currentChannel === null;\n\n\t\t\t\trunInAction(() => {\n\t\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\t\tname: \"leaveChannel\",\n\t\t\t\t\t\ttype: isSuccess ? \"success\" : \"error\",\n\t\t\t\t\t\tvalue: this.currentChannel?.id,\n\t\t\t\t\t\tvariant: \"text\",\n\t\t\t\t\t});\n\n\t\t\t\t\tif (isSuccess) {\n\t\t\t\t\t\tthis.currentChannel = null;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tsystemLogStore.addLog({\n\t\t\t\tname: \"leaveChannel\",\n\t\t\t\ttype: \"error\",\n\t\t\t\tvalue: this.currentChannel?.id,\n\t\t\t\tvariant: \"code\",\n\t\t\t\tbody: JSON.stringify(e, null, 4),\n\t\t\t});\n\t\t}\n\t}\n}\n\nconst channelStore = new ChannelStore();\n\nexport default channelStore;\n","export const codeExamples = {\n\tchannels:\n\t\t\"// get all system channels\\n\" +\n\t\t\"const channels = await fdc3.getSystemChannels();\\n\" +\n\t\t\"\\n\" +\n\t\t\"// create UI to pick from the system channels\\n\" +\n\t\t\"\\n\" +\n\t\t\"// join the channel on selection\\n\" +\n\t\t\"fdc3.joinChannel(selectedChannel.id);\",\n\tgetCurrentChannel:\n\t\t\"// get the current channel membership\\n\" +\n\t\t\"let current = await fdc3.getCurrentChannel();\\n\" +\n\t\t\"\\n\" +\n\t\t\"//leave the current channel\\n\" +\n\t\t\"await fdc3.leaveCurrentChannel();\\n\" +\n\t\t\"//the fdc3Listener will now cease receiving context\",\n\tbroadcast:\n\t\t\"const instrument = {\\n\" +\n\t\t\"    type: 'fdc3.instrument',\\n\" +\n\t\t\"    id: {\\n\" +\n\t\t\"        ticker: 'AAPL'\\n\" +\n\t\t\"    }\\n\" +\n\t\t\"};\\n\" +\n\t\t\"\\n\" +\n\t\t\"fdc3.broadcast(instrument);\",\n\tappChannelBroadcast:\n\t\t\"const instrument = {\\n\" +\n\t\t\"    type: 'fdc3.instrument',\\n\" +\n\t\t\"    id: {\\n\" +\n\t\t\"        ticker: 'AAPL'\\n\" +\n\t\t\"    }\\n\" +\n\t\t\"};\\n\" +\n\t\t\"\\n\" +\n\t\t\"appChannelID.broadcast(instrument);\",\n\traiseIntent:\n\t\t\"//Raise an intent with a specified context\\n\" +\n\t\t'let context = {type: \"fdc3.instrument\", name: \"Tesla, inc.\", id: {ticker: \"TSLA\"}}; \\n' +\n\t\t'fdc3.raiseIntent(\"ViewChart\", context);',\n\tcontextListener:\n\t\t\"// any context\\n\" +\n\t\t\"const listener = fdc3.addContextListener(null, context => {\\n\" + \n\t\t\"    //add context handling code here\\n\" + \t\n\t\t\"});\\n\" +\n\t\t\"\\n\" +\n\t\t\"// listener for a specific type\\n\" +\n\t\t\"const contactListener = fdc3.addContextListener('fdc3.contact', contact => {\\n\" + \n\t\t\"    //add context handling code here\\n\" + \t\n\t\t\"});\",\n\tappChannelContextListener:\n\t\t\"// any context\\n\" +\n\t\t\"const listener = appChannelID.addContextListener(null, context => {\\n\" + \n\t\t\"    //add context handling code here\\n\" + \t\n\t\t\"});\\n\" +\n\t\t\"\\n\" +\n\t\t\"// listener for a specific type\\n\" +\n\t\t\"const contactListener = appChannelID.addContextListener('fdc3.contact', contact => {\\n\" + \n\t\t\"    //add context handling code here\\n\" + \t\n\t\t\"});\",\n\tintentListener:\n\t\t\"const listener = fdc3.addIntentListener('StartChat', context => {\\n\" +\n\t\t\"  // start chat has been requested by another application\\n\" +\n\t\t\"});\",\n\traiseIntentForContext: \"const intentResolution = await fdc3.raiseIntentForContext(context);\",\n};\n","import { runInAction } from \"mobx\";\nimport systemLogStore from \"../../store/SystemLogStore\";\n\nexport const copyToClipboard = (text: string, name: string) => () => {\n\tnavigator.clipboard.writeText(text);\n\trunInAction(() => {\n\t\tsystemLogStore.addLog({\n\t\t\tname: \"copyToClipboard\",\n\t\t\ttype: \"info\",\n\t\t\tvalue: name,\n\t\t\tvariant: \"text\",\n\t\t});\n\t});\n};\n","import { ContextItem } from \"../store/ContextStore\";\n\nexport const contexts: ContextItem[] = [\n\t{\n\t\tid: \"Contact example\",\n\t\ttemplate: {\n\t\t\ttype: \"fdc3.contact\",\n\t\t\tname: \"Jane Doe\",\n\t\t\tid: {\n\t\t\t\temail: \"jane.doe@mail.com\",\n\t\t\t},\n\t\t},\n\t\tschemaUrl: new URL(\"https://fdc3.finos.org/schemas/1.2/contact.schema.json\"),\n\t},\n\t{\n\t\tid: \"ContactList example\",\n\t\ttemplate: {\n\t\t\ttype: \"fdc3.contactList\",\n\t\t\tcontacts: [\n\t\t\t\t{\n\t\t\t\t\ttype: \"fdc3.contact\",\n\t\t\t\t\tname: \"Jane Doe\",\n\t\t\t\t\tid: {\n\t\t\t\t\t\temail: \"jane.doe@mail.com\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: \"fdc3.contact\",\n\t\t\t\t\tname: \"John Doe\",\n\t\t\t\t\tid: {\n\t\t\t\t\t\temail: \"john.doe@mail.com\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t},\n\t\tschemaUrl: new URL(\"https://fdc3.finos.org/schemas/1.2/contactList.schema.json\"),\n\t},\n\t{\n\t\tid: \"Instrument example\",\n\t\ttemplate: {\n\t\t\ttype: \"fdc3.instrument\",\n\t\t\tname: \"Microsoft\",\n\t\t\tid: {\n\t\t\t\tticker: \"MSFT\",\n\t\t\t\tRIC: \"MSFT.OQ\",\n\t\t\t\tISIN: \"US5949181045\",\n\t\t\t},\n\t\t},\n\t\tschemaUrl: new URL(\"https://fdc3.finos.org/schemas/1.2/instrument.schema.json\"),\n\t},\n\t{\n\t\tid: \"InstrumentList example\",\n\t\ttemplate: {\n\t\t\ttype: \"fdc3.instrumentList\",\n\t\t\tinstruments: [\n\t\t\t\t{\n\t\t\t\t\ttype: \"fdc3.instrument\",\n\t\t\t\t\tid: {\n\t\t\t\t\t\tticker: \"AAPL\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: \"fdc3.instrument\",\n\t\t\t\t\tid: {\n\t\t\t\t\t\tticker: \"MSFT\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t},\n\t\tschemaUrl: new URL(\"https://fdc3.finos.org/schemas/1.2/instrumentList.schema.json\"),\n\t},\n\t{\n\t\tid: \"Organization example\",\n\t\ttemplate: {\n\t\t\ttype: \"fdc3.organization\",\n\t\t\tname: \"Cargill, Incorporated\",\n\t\t\tid: {\n\t\t\t\tLEI: \"QXZYQNMR4JZ5RIRN4T31\",\n\t\t\t\tFDS_ID: \"00161G-E\",\n\t\t\t},\n\t\t},\n\t\tschemaUrl: new URL(\"https://fdc3.finos.org/schemas/1.2/organization.schema.json\"),\n\t},\n\t{\n\t\tid: \"Country example\",\n\t\ttemplate: {\n\t\t\ttype: \"fdc3.country\",\n\t\t\tname: \"Sweden\",\n\t\t\tid: {\n\t\t\t\tISOALPHA3: \"SWE\",\n\t\t\t},\n\t\t},\n\t\tschemaUrl: new URL(\"https://fdc3.finos.org/schemas/1.2/country.schema.json\"),\n\t},\n\t{\n\t\tid: \"Position example\",\n\t\ttemplate: {\n\t\t\ttype: \"fdc3.position\",\n\t\t\tinstrument: {\n\t\t\t\ttype: \"fdc3.instrument\",\n\t\t\t\tid: {\n\t\t\t\t\tticker: \"AAPL\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tholding: 2000000,\n\t\t},\n\t\tschemaUrl: new URL(\"https://fdc3.finos.org/schemas/1.2/position.schema.json\"),\n\t},\n\t{\n\t\tid: \"Portfolio example\",\n\t\ttemplate: {\n\t\t\ttype: \"fdc3.portfolio\",\n\t\t\tpositions: [\n\t\t\t\t{\n\t\t\t\t\ttype: \"fdc3.position\",\n\t\t\t\t\tinstrument: {\n\t\t\t\t\t\ttype: \"fdc3.instrument\",\n\t\t\t\t\t\tid: {\n\t\t\t\t\t\t\tticker: \"AAPL\",\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tholding: 2000000,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: \"fdc3.position\",\n\t\t\t\t\tinstrument: {\n\t\t\t\t\t\ttype: \"fdc3.instrument\",\n\t\t\t\t\t\tid: {\n\t\t\t\t\t\t\tticker: \"MSFT\",\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tholding: 1500000,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: \"fdc3.position\",\n\t\t\t\t\tinstrument: {\n\t\t\t\t\t\ttype: \"fdc3.instrument\",\n\t\t\t\t\t\tid: {\n\t\t\t\t\t\t\tticker: \"IBM\",\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tholding: 3000000,\n\t\t\t\t},\n\t\t\t],\n\t\t},\n\t\tschemaUrl: new URL(\"https://fdc3.finos.org/schemas/1.2/portfolio.schema.json\"),\n\t},\n];\n","import { makeObservable, observable, runInAction, action, toJS } from \"mobx\";\nimport * as fdc3 from \"@finos/fdc3\";\nimport { nanoid } from \"nanoid\";\nimport { contexts } from \"../fixtures/contexts\";\nimport systemLogStore from \"./SystemLogStore\";\n\nexport type ContextType = {\n\ttype: string;\n\tid?: {\n\t\t[key: string]: string;\n\t};\n\tname?: string;\n\t[x: string]: any;\n};\n\nexport type ContextItem = {\n\tid: string;\n\ttemplate: ContextType | null;\n\tschemaUrl?: URL;\n};\n\ninterface Fdc3Listener {\n\tid: string;\n\ttype: string;\n\tlistener: fdc3.Listener;\n\tlastReceivedContext?: ContextType | null;\n}\n\nclass ContextStore {\n\tcontextsList: ContextItem[] = contexts;\n\n\tcurrentContext: ContextType | null = null;\n\n\tcontextListeners: Fdc3Listener[] = [];\n\n\tconstructor() {\n\t\tmakeObservable(this, {\n\t\t\tcontextsList: observable,\n\t\t\tcurrentContext: observable,\n\t\t\tcontextListeners: observable,\n\t\t\tsetContext: action,\n\t\t\tdeleteContextItem: action,\n\t\t\tbroadcast: action,\n\t\t\taddContextItem: action,\n\t\t\tsaveContextItem: action,\n\t\t\taddContextListener: action,\n\t\t\tremoveContextListener: action,\n\t\t});\n\t\tconst localStorageContextList = localStorage.getItem(\"contextList\");\n\t\tlet usingDefaultContexts = true;\n\t\ttry {\n\t\t\tif(localStorageContextList)\n\t\t\t{\n\t\t\t\tconst parsedListFromStorage = JSON.parse(localStorageContextList);\n\t\t\t\tif (Array.isArray(parsedListFromStorage)){\n\t\t\t\t\tthis.contextsList = parsedListFromStorage;\n\t\t\t\t\tusingDefaultContexts = false;\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (err){\n\t\t\tconsole.log(\"Failed to parse context list from localstorage\");\n\t\t}\n\t\tif (usingDefaultContexts) {\n\t\t\tthis.updateLocalStorage(JSON.stringify(contexts));\n\t\t}\n\t}\n\n\taddContextItem(contextItem: ContextItem) {\n\t\tthis.contextsList.push(contextItem);\n\t\tthis.contextsList.sort((a, b) => a.id.localeCompare(b.id));\n\t\tthis.updateLocalStorage(this.contextsList);\n\t}\n\n\tsaveContextItem(contextItem: ContextItem, selectedId?: string) {\n\t\tconst context = this.contextsList.find(({ id }) => id === selectedId || id ===contextItem.id);\n\t\tif (context) {\n\t\t\tObject.keys(contextItem).forEach((key:any) => (context[key as keyof ContextItem] as any) = contextItem[key as keyof ContextItem]);\n\t\t}\n\t\tthis.updateLocalStorage(this.contextsList);\n\t}\n\n\tsetContext(context: ContextType) {\n\t\tthis.currentContext = context;\n\t}\n\n\tdeleteContextItem(contextItem: ContextItem) {\n\t\tthis.contextsList = this.contextsList.filter((c) => c != contextItem)\n\t\tthis.updateLocalStorage(this.contextsList);\n\t}\n\n\tresetContextList() {\n\t\tthis.contextsList = contexts\n\t\tthis.updateLocalStorage(this.contextsList);\n\t}\n\n\tupdateLocalStorage(data: any) {\n\t\tlocalStorage.setItem('contextList', JSON.stringify(data))\n\t}\n\n\tasync broadcast(context: ContextType) {\n\t\tif (context) {\n\t\t\t//check that we're on a channel\n\t\t\tlet currentChannel = await fdc3.getCurrentChannel();\n\t\t\tif (!currentChannel) {\n\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\tname: \"broadcast\",\n\t\t\t\t\ttype: \"warning\",\n\t\t\t\t\tvalue: \"You are not currently joined to a channel (no-op)\",\n\t\t\t\t\tvariant: \"text\",\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\ttry {\n\t\t\t\t\tawait fdc3.broadcast(toJS(context));\n\t\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\t\tname: \"broadcast\",\n\t\t\t\t\t\ttype: \"success\",\n\t\t\t\t\t\tbody: JSON.stringify(context, null, 4),\n\t\t\t\t\t\tvariant: \"code\",\n\t\t\t\t\t});\n\t\t\t\t} catch (e) {\n\t\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\t\tname: \"broadcast\",\n\t\t\t\t\t\ttype: \"error\",\n\t\t\t\t\t\tbody: JSON.stringify(e, null, 4),\n\t\t\t\t\t\tvariant: \"code\",\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tsystemLogStore.addLog({\n\t\t\t\tname: \"broadcast\",\n\t\t\t\ttype: \"warning\",\n\t\t\t\tvalue: \"You must set a context before you can broadcast it\",\n\t\t\t\tvariant: \"text\",\n\t\t\t});\n\t\t}\n\t}\n\n\taddContextListener(contextType: string | undefined) {\n\t\ttry {\n\t\t\tif( typeof contextType === \"string\") {\n\t\t\tconst listenerId = nanoid();\n\n\t\t\t// TODO: remove window after fixing https://github.com/finos/FDC3/issues/435\n\t\t\tconst contactListener = window.fdc3.addContextListener(contextType.toLowerCase() === \"all\" ? null : contextType, (context) => {\n\t\t\t\tconst currentListener = this.contextListeners.find(({ id }) => id === listenerId);\n\n\t\t\t\trunInAction(() => {\n\t\t\t\t\tif (currentListener) {\n\t\t\t\t\t\tcurrentListener.lastReceivedContext = context;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\tname: \"receivedContextListener\",\n\t\t\t\t\ttype: \"info\",\n\t\t\t\t\tvalue: contextType,\n\t\t\t\t\tvariant: \"code\",\n\t\t\t\t\tbody: JSON.stringify(context, null, 4),\n\t\t\t\t});\n\t\t\t});\n\n\t\t\trunInAction(() => {\n\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\tname: \"addContextListener\",\n\t\t\t\t\ttype: \"success\",\n\t\t\t\t\tvalue: contextType,\n\t\t\t\t\tvariant: \"text\",\n\t\t\t\t});\n\t\t\t\tthis.contextListeners.push({ id: listenerId, type: contextType, listener: contactListener });\n\t\t\t});\n\t\t}else {\n\t\t\trunInAction(() => {\n\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\tname: \"addContextListener\",\n\t\t\t\t\ttype: \"error\",\n\t\t\t\t\tvalue: contextType,\n\t\t\t\t\tvariant: \"code\",\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t\t} catch (e) {\n\t\t\tsystemLogStore.addLog({\n\t\t\t\tname: \"addContextListener\",\n\t\t\t\ttype: \"error\",\n\t\t\t\tvalue: contextType,\n\t\t\t\tvariant: \"code\",\n\t\t\t\tbody: JSON.stringify(e, null, 4),\n\t\t\t});\n\t\t}\n\t}\n\n\tremoveContextListener(id: string) {\n\t\tconst listenerIndex = this.contextListeners.findIndex((listener) => listener.id === id);\n\n\t\tif (listenerIndex !== -1) {\n\t\t\ttry {\n\t\t\t\tthis.contextListeners[listenerIndex].listener.unsubscribe();\n\n\t\t\t\trunInAction(() => {\n\t\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\t\tname: \"removeContextListener\",\n\t\t\t\t\t\ttype: \"success\",\n\t\t\t\t\t\tvalue: this.contextListeners[listenerIndex].type,\n\t\t\t\t\t\tvariant: \"text\",\n\t\t\t\t\t});\n\t\t\t\t\tthis.contextListeners.splice(listenerIndex, 1);\n\t\t\t\t});\n\t\t\t} catch (e) {\n\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\tname: \"removeContextListener\",\n\t\t\t\t\ttype: \"error\",\n\t\t\t\t\tvalue: this.contextListeners[listenerIndex].type,\n\t\t\t\t\tvariant: \"code\",\n\t\t\t\t\tbody: JSON.stringify(e, null, 4),\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\tisContextListenerExists(type: string | undefined) {\n\t\treturn !!this.contextListeners.find((listener) => listener.type === type);\n\t}\n}\n\nconst contextStore = new ContextStore();\n\nexport default contextStore;\n","import { withStyles } from \"@material-ui/core/styles\";\nimport { TextField } from \"@material-ui/core\";\n\nexport const TemplateTextField = withStyles({\n\troot: {\n\t\t\"& label.Mui-focused\": {\n\t\t\tcolor: \"#0086bf\",\n\t\t},\n\t\t\"& .MuiInput-underline:after\": {\n\t\t\tborderBottomColor: \"#0086bf\",\n\t\t},\n\t\t\"& .MuiOutlinedInput-root\": {\n\t\t\t\"& fieldset\": {\n\t\t\t\tborderColor: \"#0086bf\",\n\t\t\t},\n\t\t\t\"&:hover fieldset\": {\n\t\t\t\tborderColor: \"#0086bf\",\n\t\t\t},\n\t\t\t\"&.Mui-focused fieldset\": {\n\t\t\t\tborderColor: \"#0086bf\",\n\t\t\t},\n\t\t},\n\t},\n})(TextField);\n","import React, { useState } from \"react\";\nimport { observer } from \"mobx-react\";\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\nimport { Typography, Grid, Button, IconButton, Tooltip } from \"@material-ui/core\";\nimport { codeExamples } from \"../fixtures/codeExamples\";\nimport FileCopyIcon from \"@material-ui/icons/FileCopy\";\nimport Autocomplete, { createFilterOptions } from \"@material-ui/lab/Autocomplete\";\nimport contextStore from \"../store/ContextStore\";\nimport { TemplateTextField } from \"./common/TemplateTextField\";\nimport { copyToClipboard } from \"./common/CopyToClipboard\";\n\n// interface copied from lib @material-ui/lab/Autocomplete\ninterface FilterOptionsState<T> {\n\tinputValue: string;\n\tgetOptionLabel: (option: T) => string;\n}\n\ninterface ListenerOptionType {\n\ttitle: string;\n\tvalue: string;\n\ttype: string | undefined;\n}\n\ntype ListenerSetValue = (value: ListenerOptionType | null) => void;\n\ntype ListenerSetError = (error: string | false) => void;\n\nconst useStyles = makeStyles((theme: Theme) =>\n\tcreateStyles({\n\t\troot: {\n\t\t\tflexGrow: 1,\n\t\t},\n\t\tform: {\n\t\t\tdisplay: \"flex\",\n\t\t\tflexWrap: \"wrap\",\n\t\t\tmarginTop: theme.spacing(1),\n\t\t\t\"& > *\": {\n\t\t\t\tmarginRight: 0,\n\t\t\t},\n\t\t},\n\t\tcontrols: {\n\t\t\t\"& .MuiIconButton-sizeSmall\": {\n\t\t\t\tpadding: \"6px\",\n\t\t\t\tmarginLeft: theme.spacing(1),\n\t\t\t},\n\t\t},\n\t\tspread: {\n\t\t\tflexDirection: \"row\",\n\t\t\tjustifyContent: \"flex-end\",\n\t\t},\n\t\tcontextListenerName: {\n\t\t\tflexGrow: 1,\n\t\t\tmarginRight: theme.spacing(1),\n\t\t\tminWidth: \"190px\",\n\t\t},\n\t\trightAlign: {\n\t\t\tflexDirection: \"row\",\n\t\t\tjustifyContent: \"flex-end\",\n\t\t},\n\t})\n);\n\nconst listenerFilter = createFilterOptions<ListenerOptionType>();\n\nexport const ContextLinking = observer(() => {\n\tconst classes = useStyles();\n\tconst [contextListener, setContextListener] = useState<ListenerOptionType | null>(null);\n\tconst [contextError, setContextError] = useState<string | false>(false);\n\tconst contextListenersOptionsAll: ListenerOptionType[] = contextStore.contextsList.map(({ id, template }) => {\n\t\treturn {\n\t\t\ttitle: id,\n\t\t\tvalue: id,\n\t\t\ttype: template?.type\n\t\t};\n\t});\n\tcontextListenersOptionsAll.unshift({\n\t\ttitle: \"All\",\n\t\tvalue: \"all\",\n\t\ttype: \"All\"\n\t});\n\n\tconst contextListenersOptions = Array.from(new Map(contextListenersOptionsAll.reverse().map((item) => [item[\"type\"], item])).values()).reverse();\n\n\tconst handleChangeListener =\n\t\t(setValue: ListenerSetValue, setError: ListenerSetError) => (event: React.ChangeEvent<{}>, newValue: any) => {\n\t\t\tif (typeof newValue === \"string\") {\n\t\t\t\tsetValue({\n\t\t\t\t\ttitle: newValue,\n\t\t\t\t\tvalue: newValue,\n\t\t\t\t\ttype: newValue\n\t\t\t\t});\n\t\t\t} else if (newValue && newValue.inputValue) {\n\t\t\t\tsetValue({\n\t\t\t\t\ttitle: newValue.inputValue,\n\t\t\t\t\tvalue: newValue.inputValue,\n\t\t\t\t\ttype: newValue.inputValue\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tsetValue(newValue);\n\t\t\t}\n\n\t\t\tsetError(false);\n\t\t};\n\n\tconst getOptionLabel = (option: ListenerOptionType) => {\n\t\tif (option.type) {\n\t\t\treturn option.type;\n\t\t}\n\t\treturn option.title;\n\t};\n\n\tconst filterOptions = (options: ListenerOptionType[], params: FilterOptionsState<ListenerOptionType>) => {\n\t\tconst filtered = listenerFilter(options, params);\n\n\t\tif (params.inputValue !== \"\") {\n\t\t\tfiltered.push({\n\t\t\t\tvalue: params.inputValue,\n\t\t\t\ttitle: `Add \"${params.inputValue}\"`,\n\t\t\t\ttype: params.inputValue\n\t\t\t});\n\t\t}\n\n\t\treturn filtered;\n\t};\n\n\tconst handleAddContextListener = () => {\n\t\tif (contextListener) {\n\t\t\tif (contextStore.isContextListenerExists(contextListener.type)) {\n\t\t\t\tsetContextError(\"Listener already added\");\n\t\t\t} else {\n\t\t\t\tcontextStore.addContextListener(contextListener.type);\n\t\t\t\tsetContextListener(null);\n\t\t\t}\n\t\t} else {\n\t\t\tsetContextError(\"Enter context type\");\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Grid item xs={12}>\n\t\t\t\t<Typography variant=\"h5\">Add Context Listener</Typography>\n\t\t\t</Grid>\n\n\t\t\t<form className={classes.form} noValidate autoComplete=\"off\">\n\t\t\t\t<Grid\n\t\t\t\t\tcontainer\n\t\t\t\t\tdirection=\"row\"\n\t\t\t\t\tspacing={1}\n\t\t\t\t\tjustifyContent=\"space-between\"\n\t\t\t\t\tclassName={`${classes.controls} ${classes.rightAlign}`}\n\t\t\t\t>\n\t\t\t\t\t<Grid item className={classes.contextListenerName}>\n\t\t\t\t\t\t<Autocomplete\n\t\t\t\t\t\t\tid=\"context-listener\"\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tselectOnFocus\n\t\t\t\t\t\t\tblurOnSelect\n\t\t\t\t\t\t\tclearOnBlur\n\t\t\t\t\t\t\thandleHomeEndKeys\n\t\t\t\t\t\t\tvalue={contextListener}\n\t\t\t\t\t\t\tonChange={handleChangeListener(setContextListener, setContextError)}\n\t\t\t\t\t\t\tfilterOptions={filterOptions}\n\t\t\t\t\t\t\toptions={contextListenersOptions}\n\t\t\t\t\t\t\tgetOptionLabel={getOptionLabel}\n\t\t\t\t\t\t\trenderOption={(option) => option.type}\n\t\t\t\t\t\t\trenderInput={(params) => (\n\t\t\t\t\t\t\t\t<TemplateTextField\n\t\t\t\t\t\t\t\t\tlabel=\"CONTEXT TYPE\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"Enter Context Type\"\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t{...params}\n\t\t\t\t\t\t\t\t\terror={!!contextError}\n\t\t\t\t\t\t\t\t\thelperText={contextError}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item className={classes.controls}>\n\t\t\t\t\t\t<Button variant=\"contained\" color=\"primary\" onClick={handleAddContextListener}>\n\t\t\t\t\t\t\tAdd Listener\n\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t<Tooltip title=\"Copy code example\" aria-label=\"Copy code example\">\n\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\taria-label=\"Copy code example\"\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\tonClick={copyToClipboard(codeExamples.contextListener, \"addContextListener\")}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<FileCopyIcon />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</form>\n\t\t</div>\n\t);\n});\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { observer } from \"mobx-react\";\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\nimport { Grid } from \"@material-ui/core\";\nimport Autocomplete, { createFilterOptions } from \"@material-ui/lab/Autocomplete\";\nimport contextStore from \"../store/ContextStore\";\nimport { TemplateTextField } from \"./common/TemplateTextField\";\n\ninterface FilterOptionsState<T> {\n\tinputValue: string;\n\tgetOptionLabel: (option: T) => string;\n}\n\ninterface OptionType {\n\ttitle: string;\n\tvalue: string;\n}\n\ntype SetValue = (value: OptionType | null) => void;\n\ntype SetError = (error: string | false) => void;\n\nconst useStyles = makeStyles((theme: Theme) =>\n\tcreateStyles({\n\t\troot: {\n\t\t\tflexGrow: 1,\n\t\t},\n\t\tform: {\n\t\t\tdisplay: \"flex\",\n\t\t\tflexWrap: \"wrap\",\n\t\t\t\"& > *\": {\n\t\t\t\tmarginRight: 0,\n\t\t\t},\n\t\t},\n\t\tcontrols: {\n\t\t\t\"& .MuiIconButton-sizeSmall\": {\n\t\t\t\tpadding: \"6px\",\n\t\t\t\tmarginLeft: theme.spacing(1),\n\t\t\t},\n\t\t},\n\t\tcontextName: {\n\t\t\tflexGrow: 1,\n\t\t\tminWidth: \"190px\",\n\t\t},\n\t\trightAlign: {\n\t\t\tflexDirection: \"row\",\n\t\t\tjustifyContent: \"flex-end\",\n\t\t},\n\t\tlink: {\n\t\t\tcursor: \"pointer\",\n\t\t\tcolor: \"black\"\n\t\t}\n\t})\n);\n\nconst contextFilter = createFilterOptions<OptionType>();\n\nexport const ContextTemplates = observer(({handleTabChange, contextStateSetter, channel} : {handleTabChange:any, contextStateSetter:any, channel?: any}) => {\t\n\tconst classes = useStyles();\n\tconst [context, setContext] = useState<OptionType | null>(null);\n\tconst [contextError, setContextError] = useState<string | false>(false);\n\tconst contextsOptions: OptionType[] = contextStore.contextsList.map(({ id }) => {\n\t\treturn {\n\t\t\ttitle: id,\n\t\t\tvalue: id,\n\t\t};\n\t});\n\tconst isInitialMount = useRef(true);\n\n\tconst handleChange =\n\t\t(setValue: SetValue, setError: SetError) => (event: React.ChangeEvent<{}>, newValue: any) => {\n\t\t\tconst selectedContext = contextStore.contextsList.find(({ id }) => id === newValue?.value);\n\t\t\tif (selectedContext) contextStateSetter(selectedContext.template, channel)\n\n\t\t\tif (typeof newValue === \"string\") {\n\t\t\t\tsetValue({\n\t\t\t\t\ttitle: newValue,\n\t\t\t\t\tvalue: newValue,\n\t\t\t\t});\n\t\t\t} else if (newValue && newValue.inputValue) {\n\t\t\t\tsetValue({\n\t\t\t\t\ttitle: newValue.inputValue,\n\t\t\t\t\tvalue: newValue.inputValue,\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tsetValue(newValue);\n\t\t\t}\n\n\t\t\tsetError(false);\n\t\t};\n\n\tconst getOptionLabel = (option: OptionType) => {\n\t\tif (option.value) {\n\t\t\treturn option.value;\n\t\t}\n\t\treturn option.title;\n\t};\n\n\tconst filterOptions = (options: OptionType[], params: FilterOptionsState<OptionType>) => {\n\t\tconst filtered = contextFilter(options, params);\n\n\t\tif (params.inputValue !== \"\") {\n\t\t\tfiltered.push({\n\t\t\t\tvalue: params.inputValue,\n\t\t\t\ttitle: `Add \"${params.inputValue}\"`,\n\t\t\t});\n\t\t}\n\n\t\treturn filtered;\n\t};\n\n\tuseEffect(() => {\n\t\tif (isInitialMount.current) {\n\t\t\tisInitialMount.current = false;\n\t\t } else {\n\t\t\tconst selectedContext = contextStore.contextsList.find(({ id }) => id === context?.value);\n\t\t\tif(!selectedContext) handleTabChange(null, 0, context?.value);\n\t\t }\n\t}, [context])\n\t\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<form className={classes.form} noValidate autoComplete=\"off\">\n\t\t\t\t<Grid\n\t\t\t\t\tcontainer\n\t\t\t\t\tdirection=\"row\"\n\t\t\t\t\tspacing={1}\n\t\t\t\t\tjustifyContent=\"space-between\"\n\t\t\t\t\tclassName={`${classes.controls} ${classes.rightAlign}`}\n\t\t\t\t>\n\t\t\t\t\t<Grid item className={classes.contextName}>\n\t\t\t\t\t\t<Autocomplete\n\t\t\t\t\t\t\tid=\"context-\"\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tselectOnFocus\n\t\t\t\t\t\t\tblurOnSelect\n\t\t\t\t\t\t\tclearOnBlur\n\t\t\t\t\t\t\thandleHomeEndKeys\n\t\t\t\t\t\t\tvalue={context}\n\t\t\t\t\t\t\tonChange={handleChange(setContext, setContextError)}\n\t\t\t\t\t\t\tgetOptionSelected={(option, value) => option.value === value.value}\n\t\t\t\t\t\t\tfilterOptions={filterOptions}\n\t\t\t\t\t\t\toptions={contextsOptions}\n\t\t\t\t\t\t\tgetOptionLabel={getOptionLabel}\n\t\t\t\t\t\t\trenderOption={(option) => option.title}\n\t\t\t\t\t\t\trenderInput={(params) => (\n\t\t\t\t\t\t\t\t<TemplateTextField\n\t\t\t\t\t\t\t\t\tlabel=\"CONTEXT \"\n\t\t\t\t\t\t\t\t\tplaceholder=\"Enter Context Type\"\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t{...params}\n\t\t\t\t\t\t\t\t\terror={!!contextError}\n\t\t\t\t\t\t\t\t\thelperText={contextError}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</form>\n\t\t</div>\n\t);\n});\n","import React, { useState } from \"react\";\nimport { observer } from \"mobx-react\";\nimport {\n\tTypography,\n\tButton,\n\tFormControl,\n\tInputLabel,\n\tSelect,\n\tMenuItem,\n\tFormHelperText,\n\tIconButton,\n\tTooltip,\n\tGrid,\n} from \"@material-ui/core\";\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\nimport FileCopyIcon from \"@material-ui/icons/FileCopy\";\nimport channelStore from \"../store/ChannelStore\";\nimport { codeExamples } from \"../fixtures/codeExamples\";\nimport { copyToClipboard } from \"./common/CopyToClipboard\";\nimport { ContextLinking } from \"./ContextLinking\";\nimport contextStore, { ContextType } from \"../store/ContextStore\";\nimport { ContextTemplates } from \"./ContextTemplates\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n\tcreateStyles({\n\t\troot: {\n\t\t\tflexGrow: 1,\n\t\t},\n\t\tform: {\n\t\t\tdisplay: \"flex\",\n\t\t\tflexWrap: \"wrap\",\n\t\t\talignItems: \"center\",\n\t\t\tmarginTop: theme.spacing(1),\n\t\t\t\"& > *\": {\n\t\t\t\tmargin: theme.spacing(1),\n\t\t\t},\n\t\t\t\"& > *:first-child\": {\n\t\t\t\tmarginLeft: 0,\n\t\t\t\tpaddingLeft: 0,\n\t\t\t},\n\t\t\t\"& > * > *:first-child\": {\n\t\t\t\tmarginLeft: 0,\n\t\t\t\tpaddingLeft: 0,\n\t\t\t},\n\t\t},\n\t\tchannelsSelect: {\n\t\t\twidth: \"100%\",\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t\tcontrols: {\n\t\t\t\"& .MuiIconButton-sizeSmall\": {\n\t\t\t\tpadding: \"6px\",\n\t\t\t},\n\t\t},\n\t\tborder: {\n\t\t\theight: \"1px\",\n\t\t\twidth: \"100%\",\n\t\t\tbackgroundColor: \"#acb2c0\",\n\t\t\tmarginTop: \"24px\",\n\t\t\tmarginBottom: \"16px\",\n\t\t},\n\t\tcenterChildren: {\n\t\t\tdisplay: \"flex\",\n\t\t\talignItems: \"center\",\n\t\t},\n\t})\n);\n\nexport const Channels = observer(({handleTabChange} : {handleTabChange:any}) => {\n\tconst classes = useStyles();\n\tconst [channelId, setChannelId] = useState<string>(\"\");\n\tconst [isError, setIsError] = useState<boolean>(false);\n\tconst [broadcastContext, setBroadcastContext] = useState<ContextType | null>(null)\n\n\tconst handleSelectChange = (event: React.ChangeEvent<{ value: unknown }>) => {\n\t\tsetChannelId(event.target.value as string);\n\t\tsetIsError(false);\n\t};\n\n\tconst handleJoinChannel = () => {\n\t\tif (channelId) {\n\t\t\tchannelStore.joinChannel(channelId);\n\t\t\tsetChannelId(\"\");\n\t\t} else {\n\t\t\tsetIsError(true);\n\t\t}\n\t};\n\n\tconst handleLeaveChannel = () => {\n\t\tchannelStore.leaveChannel();\n\t};\n\n\tconst handleRefreshChannel = () => {\n\t\tchannelStore.getCurrentChannel();\n\t};\n\n\tconst handleBroadcast = () => {\n\t\tif(broadcastContext) contextStore.broadcast(broadcastContext);\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Grid item xs={12}>\n\t\t\t\t<Typography variant=\"h5\">Current Channel</Typography>\n\t\t\t</Grid>\n\n\t\t\t<form className={classes.form} noValidate autoComplete=\"off\">\n\t\t\t\t<Grid container direction=\"row\" spacing={1}>\n\t\t\t\t\t<Grid item xs={12} sm={5}>\n\t\t\t\t\t\t<Typography variant=\"body1\">{channelStore.currentChannel?.id ?? \"None\"}</Typography>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} sm={7}>\n\t\t\t\t\t\t<Grid container direction=\"row\" justifyContent=\"flex-end\" spacing={1}>\n\t\t\t\t\t\t\t<Grid item className={classes.controls}>\n\t\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"primary\" onClick={handleRefreshChannel}>\n\t\t\t\t\t\t\t\t\tRefresh\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item className={classes.controls}>\n\t\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"primary\" onClick={handleLeaveChannel}>\n\t\t\t\t\t\t\t\t\tLeave\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item className={classes.controls}>\n\t\t\t\t\t\t\t\t<Tooltip title=\"Copy code example\" aria-label=\"Copy code example\">\n\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\taria-label=\"Copy code example\"\n\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\tonClick={copyToClipboard(codeExamples.getCurrentChannel, \"getCurrentChannel\")}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<FileCopyIcon />\n\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</form>\n\n\t\t\t<div className={classes.border}></div>\n\n\t\t\t<Grid item xs={12}>\n\t\t\t\t<Typography variant=\"h5\">Join System Channels</Typography>\n\t\t\t</Grid>\n\n\t\t\t<form className={classes.form} noValidate autoComplete=\"off\">\n\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t<Grid item xs={12} sm={9}>\n\t\t\t\t\t\t<FormControl variant=\"outlined\" className={classes.channelsSelect} size=\"small\" error={isError}>\n\t\t\t\t\t\t\t<InputLabel id=\"channel\">Channel</InputLabel>\n\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\tlabelId=\"channel\"\n\t\t\t\t\t\t\t\tid=\"channel-select\"\n\t\t\t\t\t\t\t\tvalue={channelId ?? \"\"}\n\t\t\t\t\t\t\t\tonChange={handleSelectChange}\n\t\t\t\t\t\t\t\tlabel=\"Channel\"\n\t\t\t\t\t\t\t\tMenuProps={{\n\t\t\t\t\t\t\t\t\tanchorOrigin: {\n\t\t\t\t\t\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\ttransformOrigin: {\n\t\t\t\t\t\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tgetContentAnchorEl: null,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{!channelStore.systemChannels.length && (\n\t\t\t\t\t\t\t\t\t<MenuItem value=\"\" disabled>\n\t\t\t\t\t\t\t\t\t\tNo channels received\n\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{channelStore.systemChannels.length && <MenuItem value=\"\" style={{ height: \"0\", padding: \"0\" }} />}\n\t\t\t\t\t\t\t\t{channelStore.systemChannels.length &&\n\t\t\t\t\t\t\t\t\tchannelStore.systemChannels.map(({ id }) => (\n\t\t\t\t\t\t\t\t\t\t<MenuItem key={id} value={id}>\n\t\t\t\t\t\t\t\t\t\t\t{id}\n\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t{isError && <FormHelperText>Select channel from list</FormHelperText>}\n\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} sm={3} className={classes.centerChildren}>\n\t\t\t\t\t\t<Grid container direction=\"row\" justifyContent=\"flex-end\" spacing={1}>\n\t\t\t\t\t\t\t<Grid item className={classes.controls}>\n\t\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"primary\" onClick={handleJoinChannel}>\n\t\t\t\t\t\t\t\t\tJoin\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item className={classes.controls}>\n\t\t\t\t\t\t\t\t<Tooltip title=\"Copy code example\" aria-label=\"Copy code example\">\n\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\taria-label=\"Copy code example\"\n\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\tonClick={copyToClipboard(codeExamples.channels, \"joinChannel\")}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<FileCopyIcon />\n\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</form>\n\n\t\t\t<div className={classes.border}></div>\n\n\t\t\t<Grid item xs={12}>\n\t\t\t\t<Typography variant=\"h5\">Broadcast context</Typography>\n\t\t\t</Grid>\n\n\t\t\t<Grid container direction=\"row\" spacing={1}>\n\t\t\t\t\t<Grid item sm={9}>\n\t\t\t\t\t\t<ContextTemplates handleTabChange={handleTabChange} contextStateSetter={setBroadcastContext} />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item sm={3} className={classes.centerChildren}>\n\t\t\t\t\t\t<Grid container direction=\"row\" justifyContent=\"flex-end\" spacing={1}>\n\t\t\t\t\t\t\t<Grid item className={classes.controls} >\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tdisabled={!broadcastContext}\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tonClick={handleBroadcast}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tBroadcast Context\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item className={classes.controls} >\n\t\t\t\t\t\t\t\t<Tooltip title=\"Copy code example\" aria-label=\"Copy code example\">\n\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\taria-label=\"Copy code example\"\n\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\tonClick={copyToClipboard(codeExamples.broadcast, \"broadcast\")}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<FileCopyIcon />\n\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\t\t\t\t\n\t\t\t\t\t<div className={classes.border}></div>\n\n\t\t\t\t\t<ContextLinking />\n\t\t\t\t</Grid>\n\t\t</div>\n\t);\n});\n","import React from \"react\";\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\nimport { Accordion, AccordionDetails, AccordionSummary, Typography } from \"@material-ui/core\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport { Tooltip } from \"@material-ui/core\";\nimport InfoIcon from '@material-ui/icons/Info';\n\nexport interface AccordionContentProps {\n\ttitle: string;\n\tchildren: React.ReactNode;\n\ticon?: string;\n}\n\nconst useStyles = makeStyles((theme: Theme) =>\n\tcreateStyles({\n\t\taccordion: {\n\t\t\tmargin: theme.spacing(1, 0, 0, 0),\n\t\t\tboxShadow: \"none\",\n\t\t\t\"&::before\": {\n\t\t\t\tdisplay: \"none\",\n\t\t\t},\n\t\t\t\"&.Mui-expanded\": {\n\t\t\t\tmargin: theme.spacing(1, 0, 0, 0),\n\t\t\t}\n\t\t},\n\t\taccordionSummary: {\n\t\t\tborder: \"none\",\n\t\t\tpadding: 0,\n\t\t\tminHeight: \"initial\",\n\t\t\t\"&.Mui-expanded\": {\n\t\t\t\tminHeight: \"initial\",\n\t\t\t},\n\t\t\t\"& .MuiAccordionSummary-content\": {\n\t\t\t\tmargin: \"0 12px 0 0\",\n\t\t\t\t\"&.Mui-expanded\": {\n\t\t\t\t\tmargin: \"0 12px 0 0\",\n\t\t\t\t},\n\t\t\t},\n\t\t\t\"& .MuiAccordionSummary-expandIcon\": {\n\t\t\t\tpadding: \"6px\",\n\t\t\t},\n\t\t},\n\t\taccordionDetails: {\n\t\t\tpaddingTop: 0,\n\t\t\tpaddingLeft: 0,\n\t\t\tflexDirection: \"column\",\n\t\t},\n\t\taccordionTitle: {\n\t\t\tcolor: \"#0086bf\",\n\t\t\tfontSize: \"16px\",\n\t\t},\n\t\texpand_icon: {\n\t\t\tcolor: \"#0086bf\",\n\t\t},\n\t\ticon: {\n\t\t\tmarginBottom: \"-1px !important\",\n\t\t\tfontSize: \"15px\",\n\t\t\tmarginLeft: \"5px\"\n\t\t}\n\t})\n);\n\nexport const AccordionContent: React.FC<AccordionContentProps> = ({ icon, title, children }: AccordionContentProps) => {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<Accordion className={classes.accordion} defaultExpanded>\n\t\t\t<AccordionSummary\n\t\t\t\tclassName={classes.accordionSummary}\n\t\t\t\texpandIcon={<ExpandMoreIcon className={classes.expand_icon} />}\n\t\t\t\taria-label=\"Expand\"\n\t\t\t\taria-controls=\"additional-actions1-content\"\n\t\t\t\tid=\"additional-actions1-header\"\n\t\t\t>\n\t\t\t\t<Typography variant=\"h5\" className={classes.accordionTitle}>\n\t\t\t\t\t{title}\n\t\t\t\t\t{icon && <Tooltip title={icon} aria-label={icon}>\n\t\t\t\t\t\t<InfoIcon className={classes.icon}/>\n\t\t\t\t\t</Tooltip>}\n\t\t\t\t</Typography>\n\t\t\t</AccordionSummary>\n\n\t\t\t<AccordionDetails className={classes.accordionDetails}>{children}</AccordionDetails>\n\t\t</Accordion>\n\t);\n};\n","import React from \"react\";\nimport { List, ListItem, ListItemText, Typography, ListItemSecondaryAction, IconButton } from \"@material-ui/core\";\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\nimport { AccordionContent } from \"./AccordionContent\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\n\nexport interface AccordionListItem {\n\tid: string;\n\ttextPrimary: string;\n\tafterEachElement?: React.ReactNode;\n}\n\nexport interface AccordionListProps {\n\ttitle: string;\n\ticon?: string;\n\tlistItems: AccordionListItem[];\n\tnoItemsText: string;\n\tonDelete?: (id: string) => void;\n}\n\nconst useStyles = makeStyles((theme: Theme) =>\n\tcreateStyles({\n\t\tlist: {\n\t\t\tpadding: 0,\n\t\t\twidth: \"100%\",\n\t\t},\n\t\tlistItem: {\n\t\t\tpadding: 0,\n\t\t\t\"&.MuiListItem-secondaryAction\": {\n\t\t\t\tpaddingRight: theme.spacing(6),\n\t\t\t},\n\t\t},\n\t\tlistAction: {\n\t\t\ttop: \"2px\",\n\t\t\ttransform: \"none\",\n\t\t},\n\t})\n);\n\nexport const AccordionList: React.FC<AccordionListProps> = ({\n\ttitle,\n\ticon,\n\tlistItems,\n\tnoItemsText,\n\tonDelete,\n}: AccordionListProps) => {\n\tconst classes = useStyles();\n\n\tconst handleDelete = (id: string) => () => {\n\t\tif (onDelete) {\n\t\t\tonDelete(id);\n\t\t}\n\t};\n\n\treturn (\n\t\t<AccordionContent title={title} icon={icon}>\n\t\t\t{!listItems.length && <Typography variant=\"body1\">{noItemsText}</Typography>}\n\t\t\t{!!listItems.length && (\n\t\t\t\t<List className={classes.list}>\n\t\t\t\t\t{listItems.map(({ id, textPrimary, afterEachElement }) => (\n\t\t\t\t\t\t<ListItem key={id} className={classes.listItem} disableGutters>\n\t\t\t\t\t\t\t<ListItemText disableTypography primary={textPrimary} secondary={afterEachElement} />\n\t\t\t\t\t\t\t<ListItemSecondaryAction className={classes.listAction}>\n\t\t\t\t\t\t\t\t{onDelete && (\n\t\t\t\t\t\t\t\t\t<IconButton size=\"small\" edge=\"end\" aria-label=\"delete\" onClick={handleDelete(id)}>\n\t\t\t\t\t\t\t\t\t\t<DeleteIcon />\n\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</ListItemSecondaryAction>\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t))}\n\t\t\t\t</List>\n\t\t\t)}\n\t\t</AccordionContent>\n\t);\n};\n","import React from \"react\";\nimport { observer } from \"mobx-react\";\nimport contextStore from \"../../store/ContextStore\";\nimport { AccordionList, AccordionListItem } from \"../common/AccordionList\";\nimport { TextField } from \"@material-ui/core\";\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n\tcreateStyles({\n\t\ttextField: {\n\t\t\tmarginTop: theme.spacing(2),\n\t\t\twidth: \"100%\",\n\t\t},\n\t\tinput: {\n\t\t\tfontSize: \"14px\",\n\t\t},\n\t})\n);\n\nexport const ContextListeners = observer(() => {\n\tconst classes = useStyles();\n\tconst contextListeners: AccordionListItem[] = contextStore.contextListeners.map(\n\t\t({ id, type, lastReceivedContext }) => {\n\t\t\tconst receivedContextListenerValue = lastReceivedContext ? JSON.stringify(lastReceivedContext, undefined, 4) : \"\";\n\n\t\t\tconst contextField = (\n\t\t\t\t<TextField\n\t\t\t\t\tdisabled\n\t\t\t\t\tlabel={\"LAST RECEIVED CONTEXT\"}\n\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\tInputLabelProps={{\n\t\t\t\t\t\tshrink: true,\n\t\t\t\t\t}}\n\t\t\t\t\tcontentEditable={false}\n\t\t\t\t\tfullWidth\n\t\t\t\t\tmultiline\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tvalue={receivedContextListenerValue}\n\t\t\t\t\tInputProps={{\n\t\t\t\t\t\tclasses: {\n\t\t\t\t\t\t\tinput: classes.input,\n\t\t\t\t\t\t},\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t);\n\n\t\t\treturn { id, textPrimary: `${type}`, afterEachElement: contextField };\n\t\t}\n\t);\n\n\tconst handleDeleteListener = (id: string) => {\n\t\tcontextStore.removeContextListener(id);\n\t};\n\n\treturn (\n\t\t<AccordionList\n\t\t\ttitle=\"System Channels\"\n\t\t\ticon=\"Any context already in the channel will be received automatically\"\n\t\t\tnoItemsText=\"No System Channels Listeners\"\n\t\t\tlistItems={contextListeners}\n\t\t\tonDelete={handleDeleteListener}\n\t\t/>\n\t);\n});\n","export const intentTypes: Array<{ title: string; value: string }> = [\n\t{\n\t\ttitle: \"StartCall\",\n\t\tvalue: \"StartCall\",\n\t},\n\t{\n\t\ttitle: \"StartChat\",\n\t\tvalue: \"StartChat\",\n\t},\n\t{\n\t\ttitle: \"ViewChart\",\n\t\tvalue: \"ViewChart\",\n\t},\n\t{\n\t\ttitle: \"ViewContact\",\n\t\tvalue: \"ViewContact\",\n\t},\n\t{\n\t\ttitle: \"ViewQuote\",\n\t\tvalue: \"ViewQuote\",\n\t},\n\t{\n\t\ttitle: \"ViewNews\",\n\t\tvalue: \"ViewNews\",\n\t},\n\t{\n\t\ttitle: \"ViewAnalysis\",\n\t\tvalue: \"ViewAnalysis\",\n\t},\n\t{\n\t\ttitle: \"ViewInstrument\",\n\t\tvalue: \"ViewInstrument\",\n\t},\n];\n","import { makeObservable, observable, action, runInAction, toJS } from \"mobx\";\nimport * as fdc3 from \"@finos/fdc3\";\nimport { nanoid } from \"nanoid\";\nimport { ContextType } from \"./ContextStore\";\nimport { intentTypes } from \"../fixtures/intentTypes\";\nimport systemLogStore from \"./SystemLogStore\";\nimport { TargetApp } from \"@finos/fdc3\";\n\ntype IntentItem = { title: string; value: string };\n\ninterface Fdc3Listener {\n\tid: string;\n\ttype: string;\n\tlistener: fdc3.Listener;\n\tlastReceivedContext?: ContextType | null;\n}\n\nclass IntentStore {\n\tintentsList: IntentItem[] = intentTypes;\n\n\tintentListeners: Fdc3Listener[] = [];\n\n\tconstructor() {\n\t\tmakeObservable(this, {\n\t\t\tintentsList: observable,\n\t\t\tintentListeners: observable,\n\t\t\traiseIntent: action,\n\t\t\taddIntentListener: action,\n\t\t\tremoveIntentListener: action,\n\t\t\traiseIntentForContext: action,\n\t\t});\n\t}\n\n\taddIntentListener(intent: string) {\n\t\ttry {\n\t\t\tconst listenerId = nanoid();\n\n\t\t\tconst intentListener = fdc3.addIntentListener(intent, (context) => {\n\t\t\t\tconst currentListener = this.intentListeners.find(({ id }) => id === listenerId);\n\n\t\t\t\trunInAction(() => {\n\t\t\t\t\tif (currentListener) {\n\t\t\t\t\t\tcurrentListener.lastReceivedContext = context;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\tname: \"receivedIntentListener\",\n\t\t\t\t\ttype: \"info\",\n\t\t\t\t\tvalue: intent,\n\t\t\t\t\tvariant: \"code\",\n\t\t\t\t\tbody: JSON.stringify(context, null, 4),\n\t\t\t\t});\n\t\t\t});\n\n\t\t\trunInAction(() => {\n\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\tname: \"addIntentListener\",\n\t\t\t\t\ttype: \"success\",\n\t\t\t\t\tvalue: intent,\n\t\t\t\t\tvariant: \"text\",\n\t\t\t\t});\n\t\t\t\tthis.intentListeners.push({ id: listenerId, type: intent, listener: intentListener });\n\t\t\t});\n\t\t} catch (e) {\n\t\t\tsystemLogStore.addLog({\n\t\t\t\tname: \"addIntentListener\",\n\t\t\t\ttype: \"error\",\n\t\t\t\tvalue: intent,\n\t\t\t\tvariant: \"code\",\n\t\t\t\tbody: JSON.stringify(e, null, 4),\n\t\t\t});\n\t\t}\n\t}\n\n\tremoveIntentListener(id: string) {\n\t\tconst listenerIndex = this.intentListeners.findIndex((listener) => listener.id === id);\n\n\t\tif (listenerIndex !== -1) {\n\t\t\ttry {\n\t\t\t\tthis.intentListeners[listenerIndex].listener.unsubscribe();\n\n\t\t\t\trunInAction(() => {\n\t\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\t\tname: \"removeIntentListener\",\n\t\t\t\t\t\ttype: \"success\",\n\t\t\t\t\t\tvalue: this.intentListeners[listenerIndex].type,\n\t\t\t\t\t\tvariant: \"text\",\n\t\t\t\t\t});\n\t\t\t\t\tthis.intentListeners.splice(listenerIndex, 1);\n\t\t\t\t});\n\t\t\t} catch (e) {\n\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\tname: \"removeIntentListener\",\n\t\t\t\t\ttype: \"error\",\n\t\t\t\t\tvalue: this.intentListeners[listenerIndex].type,\n\t\t\t\t\tvariant: \"code\",\n\t\t\t\t\tbody: JSON.stringify(e, null, 4),\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\tasync raiseIntent(intent: string, context: ContextType, app?: TargetApp ) {\n\t\tif (context) {\n\t\t\ttry {\n\t\t\t\tlet appIntent;\n\t\t\t\tif (app) {\n\t\t\t\t\tappIntent = await fdc3.raiseIntent(intent, toJS(context), app);\n\t\t\t\t} else {\n\t\t\t\t\tappIntent = await fdc3.raiseIntent(intent, toJS(context));\n\t\t\t\t}\n\n\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\tname: \"raiseIntent\",\n\t\t\t\t\ttype: \"success\",\n\t\t\t\t\tvalue: intent,\n\t\t\t\t\tvariant: \"code\",\n\t\t\t\t\tbody: JSON.stringify(appIntent, null, 4),\n\t\t\t\t});\n\t\t\t} catch (e) {\n\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\tname: \"raiseIntent\",\n\t\t\t\t\ttype: \"error\",\n\t\t\t\t\tvalue: intent,\n\t\t\t\t\tvariant: \"code\",\n\t\t\t\t\tbody: JSON.stringify(e, null, 4),\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\tasync raiseIntentForContext(context: ContextType, app?: TargetApp ) {\n\t\tif (context) {\n\t\t\ttry {\n\t\t\t\tif (app) {\n\t\t\t\t\tawait fdc3.raiseIntentForContext(toJS(context), app);\n\t\t\t\t} else {\n\t\t\t\t\tawait fdc3.raiseIntentForContext(toJS(context));\n\t\t\t\t}\n\n\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\tname: \"raiseIntentForContext\",\n\t\t\t\t\ttype: \"success\",\n\t\t\t\t});\n\t\t\t} catch (e) {\n\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\tname: \"raiseIntentForContext\",\n\t\t\t\t\ttype: \"error\",\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n}\n\nconst intentStore = new IntentStore();\n\nexport default intentStore;\n","import React from \"react\";\nimport { observer } from \"mobx-react\";\nimport intentStore from \"../../store/IntentStore\";\nimport { AccordionList, AccordionListItem } from \"../common/AccordionList\";\nimport { TextField } from \"@material-ui/core\";\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n\tcreateStyles({\n\t\ttextField: {\n\t\t\tmarginTop: theme.spacing(2),\n\t\t\twidth: \"100%\",\n\t\t},\n\t\tinput: {\n\t\t\tfontSize: \"14px\",\n\t\t\tcolor: \"rgba(0, 0, 0, 0.6)\",\n\t\t},\n\t\t\"& .Mui-disabled\": {\n\t\t\tborderColor: theme.palette.text.primary,\n\t\t},\n\t})\n);\n\nexport const IntentListeners = observer(() => {\n\tconst classes = useStyles();\n\tconst intentListeners: AccordionListItem[] = intentStore.intentListeners.map(({ id, type, lastReceivedContext }) => {\n\t\tconst receivedContextListenerValue = lastReceivedContext ? JSON.stringify(lastReceivedContext, undefined, 4) : \"\";\n\n\t\tconst contextField = (\n\t\t\t<TextField\n\t\t\t\tdisabled\n\t\t\t\tlabel={\"LAST RECEIVED CONTEXT\"}\n\t\t\t\tclassName={classes.textField}\n\t\t\t\tInputLabelProps={{\n\t\t\t\t\tshrink: true,\n\t\t\t\t}}\n\t\t\t\tcontentEditable={false}\n\t\t\t\tfullWidth\n\t\t\t\tmultiline\n\t\t\t\tvariant=\"outlined\"\n\t\t\t\tsize=\"small\"\n\t\t\t\tvalue={receivedContextListenerValue}\n\t\t\t\tInputProps={{\n\t\t\t\t\tclasses: {\n\t\t\t\t\t\tinput: classes.input,\n\t\t\t\t\t},\n\t\t\t\t}}\n\t\t\t/>\n\t\t);\n\n\t\treturn { id, textPrimary: `${type}`, afterEachElement: contextField };\n\t});\n\n\tconst handleDeleteListener = (id: string) => {\n\t\tintentStore.removeIntentListener(id);\n\t};\n\n\treturn (\n\t\t<AccordionList\n\t\t\ttitle=\"Intents\"\n\t\t\tnoItemsText=\"No Intent Listeners\"\n\t\t\tlistItems={intentListeners}\n\t\t\tonDelete={handleDeleteListener}\n\t\t/>\n\t);\n});\n","import { makeObservable, observable, action, runInAction, toJS } from \"mobx\";\nimport * as fdc3 from \"@finos/fdc3\";\nimport systemLogStore from \"./SystemLogStore\";\nimport { nanoid } from \"nanoid\";\nimport { ContextType } from \"./ContextStore\";\n\ninterface Fdc3Listener {\n\tid: string;\n    channelId: string;\n\ttype: string | undefined;\n\tlistener: fdc3.Listener;\n\tlastReceivedContext?: ContextType | null;\n}\n\ninterface ListenerOptionType {\n\ttitle: string;\n\tvalue: string;\n\ttype: string | undefined;\n}\n\ninterface Fdc3Channel {\n    id: string;\n    channel: fdc3.Channel;\n    currentListener?:ListenerOptionType|null;\n    broadcastError?: string;\n    context?: ContextType|null;\n    listenerError? : string;\n}\nclass AppChannelStore {\n\tappChannelsList: Fdc3Channel[] = [];\n\n\tcurrentAppChannel: Fdc3Channel | null = null;\n\n    appChannelListeners: Fdc3Listener[] = [];\n\n\tconstructor() {\n\t\tmakeObservable(this, {\n\t\t\tappChannelsList: observable,\n\t\t\tcurrentAppChannel: observable,\n            appChannelListeners: observable,\n            getOrCreateChannel: action,\n\t\t\tleaveChannel: action,\n\t\t\tbroadcast: action,\n\t\t});\n\n\t}\n\n    async getOrCreateChannel(channelId: string) {\n\t\ttry {\n\t\t\tconst currentAppChannel = await fdc3.getOrCreateChannel(channelId);\n\t\t\tconst isSuccess = currentAppChannel !== null;\n            if (isSuccess) {\n                this.currentAppChannel = {\n                    id: channelId,\n                    channel: currentAppChannel\n                };\n                let foundChannel = this.appChannelsList.find((channel)=>channel.id === channelId);\n                if (!foundChannel) {\n                    this.appChannelsList.push(this.currentAppChannel);\n                }\n            }\n           \n\t\t\trunInAction(() => {\n\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\tname: \"getOrCreateChannel\",\n\t\t\t\t\ttype: isSuccess ? \"success\" : \"error\",\n\t\t\t\t\tvalue: isSuccess ? currentAppChannel?.id : channelId,\n\t\t\t\t\tvariant: \"text\",\n\t\t\t\t});\n\t\t\t});\n\t\t} catch (e) {\n\t\t\tsystemLogStore.addLog({\n\t\t\t\tname: \"getOrCreateChannel\",\n\t\t\t\ttype: \"error\",\n\t\t\t\tvalue: channelId,\n\t\t\t\tvariant: \"code\",\n\t\t\t\tbody: JSON.stringify(e, null, 4),\n\t\t\t});\n\t\t}\n\t}\n\n    isContextListenerExists(channelId: string, type: string | undefined) {\n        return !!this.appChannelListeners?.find((listener) => listener.type === type && listener.channelId === channelId);\n\t}\n\n    isAppChannelExists(channelId: string) {\n\t\treturn !!this.appChannelsList.find((channel) => channel.id === channelId);\n\t}\n\n    async broadcast(channelId: string, context: ContextType) {\n\t\tif (context) {\n\t\t\t//check that we're on a channel\n            let currentChannel = this.appChannelsList.find((channel)=>channel.id === channelId);\n\t\t\tif (!currentChannel) {\n\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\tname: \"appbroadcast\",\n\t\t\t\t\ttype: \"warning\",\n\t\t\t\t\tvalue: \"You are not currently joined to a channel (no-op)\",\n\t\t\t\t\tvariant: \"text\",\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\ttry {\n\t\t\t\t\tawait currentChannel.channel.broadcast(toJS(context));\n\t\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\t\tname: \"appbroadcast\",\n\t\t\t\t\t\ttype: \"success\",\n\t\t\t\t\t\tbody: JSON.stringify(context, null, 4),\n\t\t\t\t\t\tvariant: \"code\",\n                        value: channelId\n\t\t\t\t\t});\n\t\t\t\t} catch (e) {\n\t\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\t\tname: \"appbroadcast\",\n\t\t\t\t\t\ttype: \"error\",\n\t\t\t\t\t\tbody: JSON.stringify(e, null, 4),\n\t\t\t\t\t\tvariant: \"code\",\n                        value: channelId\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tsystemLogStore.addLog({\n\t\t\t\tname: \"appbroadcast\",\n\t\t\t\ttype: \"warning\",\n\t\t\t\tvalue: `You must set a context before you can broadcast it to channel: ${channelId}`,\n\t\t\t\tvariant: \"text\",\n\t\t\t});\n\t\t}\n\t}\n\n\tasync leaveChannel() {\n\t\ttry {\n\t\t\t//check that we're on a channel\n\t\t\tlet currentChannel = await fdc3.getCurrentChannel();\n\t\t\tif (!currentChannel) {\n\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\tname: \"leaveChannel\",\n\t\t\t\t\ttype: \"warning\",\n\t\t\t\t\tvalue: \"\",\n\t\t\t\t\tvariant: \"text\",\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tawait fdc3.leaveCurrentChannel();\n\t\t\t\tcurrentChannel = await fdc3.getCurrentChannel();\n\t\t\t\tconst isSuccess = currentChannel === null;\n\n\t\t\t\trunInAction(() => {\n\t\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\t\tname: \"leaveChannel\",\n\t\t\t\t\t\ttype: isSuccess ? \"success\" : \"error\",\n\t\t\t\t\t\tvalue: this.currentAppChannel?.id,\n\t\t\t\t\t\tvariant: \"text\",\n\t\t\t\t\t});\n\n\t\t\t\t\tif (isSuccess) {\n\t\t\t\t\t\tthis.currentAppChannel = null;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tsystemLogStore.addLog({\n\t\t\t\tname: \"leaveChannel\",\n\t\t\t\ttype: \"error\",\n\t\t\t\tvalue: this.currentAppChannel?.id,\n\t\t\t\tvariant: \"code\",\n\t\t\t\tbody: JSON.stringify(e, null, 4),\n\t\t\t});\n\t\t}\n\t}\n\n    addChannelListener(channelId: string, newListener: string | undefined ){\n        try{\n            let currentChannel = this.appChannelsList.find((channel)=>channel.id === channelId);\n            let foundListener = this.appChannelListeners.find((currentListener)=>currentListener.type === newListener && currentListener.channelId === channelId);\n\n            if (!foundListener && currentChannel && newListener !== undefined) {\n                const listenerId = nanoid();\n                const contactListener = currentChannel.channel.addContextListener(newListener?.toLowerCase() === \"all\" ? null : newListener, (context) => {\n                    const currentListener = this.appChannelListeners.find((listener)=>listener.type === newListener && listener.channelId === channelId);\n\n                    runInAction(() => {\n                        if (currentListener) {\n                            currentListener.lastReceivedContext = context;\n                        }\n                    });\n\n                    systemLogStore.addLog({\n                        name: \"receivedAppContextListener\",\n                        type: \"info\",\n                        value: `Channel [${channelId}] Received context via '[${newListener}]' listener`,\n                        variant: \"code\",\n                        body: JSON.stringify(context, null, 4),\n                    });\n                });\n\n                runInAction(() => {\n                    systemLogStore.addLog({\n                        name: \"addAppContextListener\",\n                        type: \"success\",\n                        value: `A context listener for '[${newListener}]' has been added on channel [${channelId}]`,\n                        variant: \"text\",\n                    });\n                    this.appChannelListeners.push({ id: listenerId, type: newListener, listener: contactListener, channelId});\n                });\n            }\n\n        } catch(e) {\n            systemLogStore.addLog({\n\t\t\t\tname: \"addAppContextListener\",\n\t\t\t\ttype: \"error\",\n\t\t\t\tvalue: `Failed to add a context listener for '[${newListener}]' on channel [${channelId}]`,\n\t\t\t\tvariant: \"code\",\n\t\t\t\tbody: JSON.stringify(e, null, 4),\n\t\t\t});\n        }\n        \n    }\n\n    removeContextListener(id: string) {\n\t\tconst listenerIndex = this.appChannelListeners?.findIndex((listener) => listener.id === id);\n        const listener = this.appChannelListeners[listenerIndex];\n\t\tif (listenerIndex !== -1) {\n\t\t\ttry {\n\t\t\t\tthis.appChannelListeners[listenerIndex].listener.unsubscribe();\n\n\t\t\t\trunInAction(() => {\n\t\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\t\tname: \"removeAppChannelContextListener\",\n\t\t\t\t\t\ttype: \"success\",\n\t\t\t\t\t\tvalue: `A context listener for '[${listener.type}]' for channel [${listener.channelId}] has been removed`,\n\t\t\t\t\t\tvariant: \"text\",\n\t\t\t\t\t});\n\t\t\t\t\tthis.appChannelListeners.splice(listenerIndex, 1);\n\t\t\t\t});\n\t\t\t} catch (e) {\n\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\tname: \"removeAppChannelContextListener\",\n\t\t\t\t\ttype: \"error\",\n\t\t\t\t\tvalue: `Failed to remove a context listener for '[${listener.type}]' on channel [${listener.channelId}]`,\n\t\t\t\t\tvariant: \"code\",\n\t\t\t\t\tbody: JSON.stringify(e, null, 4),\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n}\n\nconst appChannelStore = new AppChannelStore();\n\nexport default appChannelStore;\n","import React from \"react\";\nimport { observer } from \"mobx-react\";\nimport appChannelStore from \"../../store/AppChannelStore\";\nimport { AccordionList, AccordionListItem } from \"../common/AccordionList\";\nimport { TextField } from \"@material-ui/core\";\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n\tcreateStyles({\n\t\ttextField: {\n\t\t\tmarginTop: theme.spacing(2),\n\t\t\twidth: \"100%\",\n\t\t},\n\t\tinput: {\n\t\t\tfontSize: \"14px\",\n\t\t},\n\t})\n);\n\nexport const AppChannelListeners = observer(() => {\n\tconst classes = useStyles();\n\n\tlet contextListeners: AccordionListItem[] = [];\n    \n        appChannelStore.appChannelListeners.forEach(({ id, channelId, type, lastReceivedContext }) => {\n\t\t\tconst receivedContextListenerValue = lastReceivedContext ? JSON.stringify(lastReceivedContext, undefined, 4) : \"\";\n\t\t\tconst contextField = (\n\t\t\t\t<TextField\n\t\t\t\t\tdisabled\n\t\t\t\t\tlabel={\"LAST RECEIVED CONTEXT\"}\n\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\tInputLabelProps={{\n\t\t\t\t\t\tshrink: true,\n\t\t\t\t\t}}\n\t\t\t\t\tcontentEditable={false}\n\t\t\t\t\tfullWidth\n\t\t\t\t\tmultiline\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tvalue={receivedContextListenerValue}\n\t\t\t\t\tInputProps={{\n\t\t\t\t\t\tclasses: {\n\t\t\t\t\t\t\tinput: classes.input,\n\t\t\t\t\t\t},\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t);\n\n\t\t\tcontextListeners.push({ id, textPrimary: `${channelId}: ${type}`, afterEachElement: contextField});\n        });\n\n\tconst handleDeleteListener = (id: string) => {\n\t\tappChannelStore.removeContextListener(id);\n\t};\n\n\treturn (\n\t\t<AccordionList\n\t\t\ttitle=\"App Channels\"\n\t\t\ticon=\"Any context already in the channel will NOT be received automatically\"\n\t\t\tnoItemsText=\"No App Channel Listeners\"\n\t\t\tlistItems={contextListeners}\n\t\t\tonDelete={handleDeleteListener}\n\t\t/>\n\t);\n});\n","import React from \"react\";\nimport { ListItem, TextField, Typography } from \"@material-ui/core\";\nimport { LogItem } from \"../../store/SystemLogStore\";\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\n\ninterface SystemLogItemProps {\n\tlogItem: LogItem;\n}\n\nconst useStyles = (props: SystemLogItemProps) =>\n\tmakeStyles((theme: Theme) =>\n\t\tcreateStyles({\n\t\t\troot: {\n\t\t\t\tflexDirection: \"column\",\n\t\t\t\tjustifyContent: \"flex-start\",\n\t\t\t\talignItems: \"flex-start\",\n\t\t\t\tpadding: theme.spacing(3, 0),\n\t\t\t\t\"&:first-child\": {\n\t\t\t\t\tborderTop: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tmessage: {\n\t\t\t\tcolor: theme.palette[props.logItem.type].dark,\n\t\t\t},\n\t\t\ttextField: {\n\t\t\t\twidth: \"100%\",\n\t\t\t},\n\t\t\tinput: {\n\t\t\t\tfontSize: \"14px\",\n\t\t\t\tcolor: theme.palette.text.primary,\n\t\t\t},\n\t\t\t\"& .Mui-disabled\": {\n\t\t\t\tborderColor: theme.palette.text.primary,\n\t\t\t},\n\t\t})\n\t);\n\nexport const SystemLogItem: React.FC<SystemLogItemProps> = (props: SystemLogItemProps) => {\n\tconst { logItem } = props;\n\tconst classes = useStyles(props)();\n\n\treturn (\n\t\t<ListItem className={classes.root} divider>\n\t\t\t<Typography className={classes.message} variant=\"body1\">\n\t\t\t\t{logItem.message}\n\t\t\t</Typography>\n\n\t\t\t{logItem.variant === \"code\" && (\n\t\t\t\t<TextField\n\t\t\t\t\tdisabled\n\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\tid={logItem.id}\n\t\t\t\t\tcontentEditable={false}\n\t\t\t\t\tfullWidth\n\t\t\t\t\tmultiline\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tvalue={logItem.body}\n\t\t\t\t\tInputProps={{\n\t\t\t\t\t\tclasses: {\n\t\t\t\t\t\t\tinput: classes.input,\n\t\t\t\t\t\t},\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t)}\n\n\t\t\t{logItem.variant === \"text\" && logItem.body && (\n\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t{logItem.type === \"error\" && \"ERROR:\"}\n\t\t\t\t\t{logItem.type === \"warning\" && \"WARNING:\"}\n\t\t\t\t\t{logItem.type === \"info\" && \"INFO:\"}\n\t\t\t\t\t{logItem.type === \"success\" && \"SUCCESS:\"}\n\n\t\t\t\t\t{logItem.body}\n\t\t\t\t</Typography>\n\t\t\t)}\n\t\t</ListItem>\n\t);\n};\n","import React from \"react\";\nimport { observer } from \"mobx-react\";\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\nimport { List } from \"@material-ui/core\";\nimport systemLogStore from \"../../store/SystemLogStore\";\nimport { SystemLogItem } from \"./SystemLogItem\";\n\nconst useStyles = makeStyles(() =>\n\tcreateStyles({\n\t\troot: {\n\t\t\twidth: \"100%\",\n\t\t},\n\t})\n);\n\nexport const SystemLog = observer(() => {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<List component=\"nav\" className={classes.root} aria-label=\"mailbox folders\">\n\t\t\t{systemLogStore.logList.map((logItem) => (\n\t\t\t\t<SystemLogItem key={logItem.id} logItem={logItem} />\n\t\t\t))}\n\t\t</List>\n\t);\n});\n","import React, { useState } from \"react\";\nimport { observer } from \"mobx-react\";\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\nimport { Tooltip } from \"@material-ui/core\";\nimport InfoIcon from '@material-ui/icons/Info';\nimport { Tabs, Tab } from \"@material-ui/core\";\nimport { TabPanel } from \"../common/TabPanel\";\nimport { ContextListeners } from \"./ContextListeners\";\nimport { IntentListeners } from \"./IntentListeners\";\nimport { AppChannelListeners } from \"./AppChannelListeners\";\nimport { SystemLog } from \"./SystemLog\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n\tcreateStyles({\n\t\t'@global': {\n\t\t\t\".MuiTab-wrapper\": {\n\t\t\t\tflexDirection: \"row !important\"\n\t\t\t}\n\t\t},\n\t\troot: {\n\t\t\tflexGrow: 1,\n\t\t},\n\t\tpaper: {\n\t\t\tmarginTop: theme.spacing(2),\n\t\t\tpadding: theme.spacing(2),\n\t\t\t\"&:first-child\": {\n\t\t\t\tmarginTop: 0,\n\t\t\t},\n\t\t},\n\t\tsystemLog: {\n\t\t\tmaxHeight: \"1000px\",\n\t\t\toverflowY: \"scroll\",\n\t\t},\n\t\tindicator: {\n\t\t\tbackgroundColor: \"#00bbe1\",\n\t\t},\n\t\ttabs: {\n\t\t\tborderBottomColor: \"#acb2c0\",\n\t\t\tborderBottomStyle: \"solid\",\n\t\t\tborderBottomWidth: \"1px\",\n\t\t\tminHeight: \"28px\"\n\t\t},\n\t\ticon: {\n\t\t\tmarginBottom: \"3px !important\",\n\t\t\tfontSize: \"15px\",\n\t\t\tmarginRight: \"3px\"\n\t\t}\n\t})\n);\n\nconst a11yProps = (index: any) => {\n\treturn {\n\t\tid: `scrollable-auto-tab-${index}`,\n\t\t\"aria-controls\": `scrollable-auto-tabpanel-${index}`,\n\t};\n};\n\nexport const Workbench = observer(() => {\n\tconst classes = useStyles();\n\tconst [tabValue, setTabValue] = useState<number>(0);\n\n\tconst handleTabChange = (event: React.ChangeEvent<{}>, newValue: number) => {\n\t\tsetTabValue(newValue);\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<Tabs\n\t\t\t\tvalue={tabValue}\n\t\t\t\tonChange={handleTabChange}\n\t\t\t\tindicatorColor=\"primary\"\n\t\t\t\tvariant=\"scrollable\"\n\t\t\t\tscrollButtons=\"auto\"\n\t\t\t\tclasses={{\n\t\t\t\t\tindicator: classes.indicator,\n\t\t\t\t}}\n\t\t\t\tclassName={classes.tabs}\n\t\t\t>\t\n\t\t\t\t<Tab label=\"Listeners\" {...a11yProps(0)} style={{display:'flex',alignItems:'center'}} icon={\n\t\t\t\t\t<Tooltip \n\t\t\t\t\t\ttitle=\"Context received will be displayed here, but you will not receive your own messages back\" \n\t\t\t\t\t\taria-label=\"Context received will be displayed here, but you will not receive your own messages back\" >\n\t\t\t\t\t\t<InfoIcon className={classes.icon} />\n\t\t\t\t\t</Tooltip>}/>\n\t\t\t\t<Tab label=\"System Log\" {...a11yProps(1)} />\n\t\t\t</Tabs>\n\n\t\t\t<TabPanel value={tabValue} index={0}>\n\t\t\t\t<ContextListeners />\n\t\t\t\t<IntentListeners />\n\t\t\t\t<AppChannelListeners />\n\t\t\t</TabPanel>\n\n\t\t\t<div className={classes.systemLog}>\n\t\t\t\t<TabPanel value={tabValue} index={1}>\n\t\t\t\t\t<SystemLog />\n\t\t\t\t</TabPanel>\n\t\t\t</div>\n\t\t</div>\n\t);\n});\n","import React, { useEffect, useRef, useState } from \"react\";\nimport JSONEditor, { JSONEditorOptions, ParseError, SchemaValidationError } from \"jsoneditor\";\nimport \"jsoneditor/dist/jsoneditor.css\";\nimport $RefParser from \"@apidevtools/json-schema-ref-parser\";\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\n\ninterface JsonInputProps {\n\tjson?: object | null;\n\tschemaUrl?: URL | null;\n\tschema?: object | null;\n\tonJsonError?: (errors: Array<string>) => void;\n\treadOnly?: boolean;\n\tonChange: (value: any) => void;\n\terror?: string | false;\n}\n\nconst useStyles = makeStyles((theme: Theme) =>\n\tcreateStyles({\n\t\troot: {\n\t\t\tposition: \"relative\",\n\t\t\tflexGrow: 1,\n\t\t\tpadding: theme.spacing(1),\n\t\t\tborder: `1px solid #0086bf`,\n\t\t\tborderRadius: theme.shape.borderRadius,\n\t\t\t\"& .jsoneditor\": {\n\t\t\t\tborder: \"none\",\n\t\t\t},\n\t\t\t\"& .ace-jsoneditor .ace_gutter\": {\n\t\t\t\tbackgroundColor: \"transparent\",\n\t\t\t},\n\t\t\t\"& .ace-jsoneditor .ace_gutter-active-line\": {\n\t\t\t\tbackgroundColor: theme.palette.grey[\"200\"],\n\t\t\t},\n\t\t\t\"& .ace-jsoneditor .ace_marker-layer .ace_active-line\": {\n\t\t\t\tbackgroundColor: theme.palette.grey[\"200\"],\n\t\t\t},\n\t\t},\n\t\tjsonInput: {\n\t\t\theight: \"270px\",\n\t\t},\n\t\terrorText: {\n\t\t\tbottom: \"-8px\",\n\t\t\tpadding: theme.spacing(0, 0.5),\n\t\t\tfontSize: \"0.75rem\",\n\t\t\tposition: \"absolute\",\n\t\t\tbackgroundColor: \"#fff\",\n\t\t\tcolor: theme.palette.error.main,\n\t\t},\n\t})\n);\n\nexport const JsonInput: React.FC<JsonInputProps> = (props: JsonInputProps) => {\n\tconst classes = useStyles();\n\tconst [jsoneditor, setJsoneditor] = useState<JSONEditor>();\n\tconst container = useRef<HTMLDivElement>(null);\n\tconst initialSettings: JSONEditorOptions = {\n\t\tmode: \"code\",\n\t\tmainMenuBar: false,\n\t\tstatusBar: false,\n\t\tindentation: 2,\n\t\tonChangeText: (text: string) => {\n\t\t\tif (text === \"\") {\n\t\t\t\tprops.onChange(null);\n\t\t\t} else {\n\t\t\t\ttry {\n\t\t\t\t\tprops.onChange(JSON.parse(text));\n\t\t\t\t} catch (e) {}\n\t\t\t}\n\t\t},\n\t\tonValidationError: (error: readonly (SchemaValidationError | ParseError)[]) => {\n\t\t\tif (props.onJsonError) {\n\t\t\t\tif (error.length > 0) {\n\t\t\t\t\tconst errorMsg: string = error[0].type === \"error\" ? \"Bad json format\" : \"Json doesn't match the schema\";\n\t\t\t\t\tprops.onJsonError([errorMsg]);\n\t\t\t\t} else {\n\t\t\t\t\tprops.onJsonError([]);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t};\n\n\tuseEffect(() => {\n\t\t(async () => {\n\t\t\tconst options: JSONEditorOptions = { ...initialSettings };\n\n\t\t\tif (container.current) {\n\t\t\t\tif (props.schema) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\toptions.schema = await $RefParser.dereference(props.schema, {\n\t\t\t\t\t\t\tdereference: {\n\t\t\t\t\t\t\t\tcircular: true,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t});\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\tconsole.error(err);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (props.schemaUrl) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\toptions.schema = await $RefParser.dereference(props.schemaUrl.href, {\n\t\t\t\t\t\t\tdereference: {\n\t\t\t\t\t\t\t\tcircular: true,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t});\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\tconsole.error(err);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconst editor = new JSONEditor(container.current, options, props.json);\n\n\t\t\t\tsetJsoneditor(editor);\n\t\t\t}\n\t\t})();\n\n\t\treturn jsoneditor?.destroy;\n\t}, []);\n\n\tuseEffect(() => {\n\t\tif (props.schema) {\n\t\t\tjsoneditor?.setSchema(props.schema);\n\t\t}\n\t}, [props.schema]);\n\n\tuseEffect(() => {\n\t\t(async () => {\n\t\t\tif (props.schemaUrl) {\n\t\t\t\ttry {\n\t\t\t\t\tconst schema = await $RefParser.dereference(props.schemaUrl.href, {\n\t\t\t\t\t\tdereference: {\n\t\t\t\t\t\t\tcircular: true,\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\n\t\t\t\t\tjsoneditor?.setSchema(schema);\n\t\t\t\t} catch (err) {\n\t\t\t\t\tconsole.error(err);\n\t\t\t\t}\n\t\t\t}\n\t\t})();\n\t}, [props.schemaUrl]);\n\n\tuseEffect(() => {\n\t\tif (jsoneditor && (props.json || props.json === null)) {\n\t\t\tif (props.json === null) {\n\t\t\t\tjsoneditor.set({});\n\t\t\t} else {\n\t\t\t\tjsoneditor.set(props.json);\n\t\t\t}\n\t\t}\n\t}, [props.json, jsoneditor]);\n\n\treturn (\n\t\t<div className={classes.root} tabIndex={0}>\n\t\t\t<div className={classes.jsonInput} ref={container} />\n\t\t\t{!!props.error && <div className={classes.errorText}>{props.error}</div>}\n\t\t</div>\n\t);\n};\n","import * as React from 'react';\nimport { Button, DialogTitle, DialogActions, Dialog } from \"@material-ui/core\";\n\ninterface DialogModalProps {\n  open: boolean;\n  onClose: (value: boolean) => void;\n  onAgree: (value: string) => void;\n  selectedValue: any;\n}\n\nexport function DialogModal(props: DialogModalProps) {\n  const { onClose, onAgree, open, selectedValue} = props;\n\n  const handleClose = () => {\n    onClose(false);\n  };\n\n  const handleAgree= () => {\n    onAgree(selectedValue?.id || '');\n    onClose(false);\n  }\n\n  return (\n    <Dialog\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">\n          {`Delete context template: ${selectedValue?.name || selectedValue?.id}`}\n        </DialogTitle>\n        <DialogActions>\n          <Button onClick={handleClose}>Disagree</Button>\n          <Button onClick={handleAgree} autoFocus>\n            Agree\n          </Button>\n        </DialogActions>\n      </Dialog>\n  );\n}","import React, { useEffect, useState, useRef } from \"react\";\nimport { observer } from \"mobx-react\";\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\nimport { Button, Grid, Typography, Tooltip, IconButton, Table, TableBody, TableRow, TableCell, TableContainer } from \"@material-ui/core\";\nimport FileCopyIcon from \"@material-ui/icons/FileCopy\";\nimport FileCopyOutlinedIcon from \"@material-ui/icons/FileCopyOutlined\";\nimport DeleteOutlinedIcon from '@material-ui/icons/DeleteOutlined';\nimport contextStore, { ContextType, ContextItem } from \"../store/ContextStore\";\nimport systemLogStore from \"../store/SystemLogStore\";\nimport { JsonInput } from \"./common/JsonInput\";\nimport { DialogModal } from \"./common/DialogModal\";\nimport { TemplateTextField } from \"./common/TemplateTextField\";\nimport { copyToClipboard } from \"./common/CopyToClipboard\";\n\ninterface OptionType {\n\ttitle: string;\n\tvalue: string;\n}\n\nconst useStyles: any = makeStyles((theme: Theme) =>\n\tcreateStyles({\n\t\troot: {\n\t\t\tflexGrow: 1,\n\t\t},\n\t\tform: {\n\t\t\tdisplay: \"flex\",\n\t\t\tflexWrap: \"wrap\",\n\t\t\talignItems: \"center\",\n\t\t\tmarginTop: theme.spacing(1),\n\t\t\t\"& > *\": {\n\t\t\t\tmargin: theme.spacing(1),\n\t\t\t},\n\t\t\t\"& > *:first-child\": {\n\t\t\t\tmarginLeft: 0,\n\t\t\t\tpaddingLeft: 0,\n\t\t\t},\n\t\t\t\"& > * > *:first-child\": {\n\t\t\t\tmarginLeft: 0,\n\t\t\t\tpaddingLeft: 0,\n\t\t\t},\n\t\t\t\"& .MuiGrid-grid-xs-12\": {\n\t\t\t\tpaddingLeft: 0,\n\t\t\t},\n\t\t},\n\t\tcontrols: {\n\t\t\t\"& .MuiIconButton-sizeSmall\": {\n\t\t\t\tpadding: \"6px\",\n\t\t\t\tmarginLeft: theme.spacing(1),\n\t\t\t},\n\t\t},\n\t\ttemplateSelect: {\n\t\t\tflexGrow: 1,\n\t\t\t// marginRight: theme.spacing(1),\n\t\t\tminWidth: \"190px\",\n\t\t},\n\t\ttextField: {\n\t\t\twidth: \"100%\"\n\t\t},\n\t\tmultilineField: {\n\t\t\twidth: \"100%\",\n\t\t},\n\t\tbutton: {\n\t\t\tmarginLeft: \"auto\",\n\t\t},\n\t\trightAlign: {\n\t\t\tflexDirection: \"row\",\n\t\t\tjustifyContent: \"flex-end\",\n\t\t},\n\t\tborder: {\n\t\t\theight: \"1px\",\n\t\t\twidth: \"100%\",\n\t\t\tbackgroundColor: \"#acb2c0\",\n\t\t\tmarginTop: \"24px\",\n\t\t\tmarginBottom: \"16px\",\n\t\t},\n\t\tdelete: {\n\t\t\theight:'15px',\n\t\t\ttransform: 'scale(1.7)',\n\t\t},\n\t\tcopy: {\n\t\t\theight:'20px',\n\t\t},\n\t\tlink: {\n\t\t\tcursor: \"pointer\",\n\t\t\tcolor: \"black\"\n\t\t},\n\t\tmargins: {\n\t\t\tmargin: \"0 5px\"\n\t\t},\n\t\ttableContainer: {\n\t\t\tmaxHeight: 350\n\t\t}\n\t})\n);\n\nconst emptyJson: ContextType = {\n\ttype: \"\",\n\tid: {}\n};\n\nexport const ContextCreate = observer(({contextName}: {contextName:string}) => {\n\tconst classes = useStyles();\n\tconst [templateName, setTemplateName] = useState<OptionType | null>({\n\t\ttitle: contextName,\n\t\tvalue: contextName});\n\tconst [duplicateName, setDuplicateName] = useState(false);\n\tconst [contextValue, setContextValue] = useState<ContextType | null>(emptyJson);\n\tconst [context, setContext] = useState<ContextItem | null>({\n\t\tid: contextName || \"empty\",\n\t\ttemplate: emptyJson,\n\t\tschemaUrl: new URL(\"https://fdc3.finos.org/schemas/1.2/context.schema.json\"),\n\t});\n\tconst [contextError, setContextError] = useState<string | false>(false);\n\tconst [open, setOpen] = useState(false);\n\tconst [deleteContext, setDeleteContext] = useState<object | null>(null);\n\tconst [disabled, setDisabled] = useState(true);\n\tconst gridRef = useRef<any>(null);\n\t\n\tconst handleClickOpen = (id: string, name: any) => {\n\t\tsetOpen(true);\n\t\tsetDeleteContext({id, name})\n\t};\n\n\tconst handleClose = (value: boolean) => {\n\t\tsetOpen(value);\n\t};\n\n\tconst handleJsonError = (errors: string[]) => {\n\t\tsetContextError(errors[0]);\n\t};\n\n\tconst handleChangeTemplate = (newValue: any) => {\n\t\tsetTemplateName(newValue);\n\n\t\tif (newValue?.value) {\n\t\t\tconst selectedContext = contextStore.contextsList.find(({ id }) => id === newValue?.value);\n\t\t\tif (selectedContext) {\n\t\t\t\tsetContextValue(selectedContext.template);\n\t\t\t\tsetContext(selectedContext);\n\t\t\t}\n\t\t}\n\n\t\tsetContextError(false);\n\t};\n\n\tconst found = (tempName: string) => (contextStore.contextsList.reduce((count, {id}) => {\n\t\t\tif(id === tempName) {\n\t\t\t\tcount = count + 1;\n\t\t\t}\n\t\t\treturn count;\n\t\t}, 0));\n\n\tconst handleChangeTemplateName = (newValue: any) => {\n\t\tsetDisabled(false);\n\t\tsetContextError(false)\n\t\tsetTemplateName(newValue);\n\n\t\tif(context && !found(newValue.value)) setDuplicateName(false);\n\t\telse if(found(newValue.value) >= 1) setDuplicateName(true);\n\t}\n\n\tconst handleContextChange = (json: ContextType) => {\n\t\tsetContextValue(json);\n\t\tsetContextError(false);\n\t};\n\n\tconst validate = () => {\n\t\tif (!contextValue) {\n\t\t\tsetContextError(\"Context is required\");\n\t\t\treturn false;\n\t\t}\n\n\t\tif (!contextValue?.type) {\n\t\t\tsetContextError(\"Context must have property 'type'\");\n\t\t\treturn false;\n\t\t}\n\n\t\tif (contextValue?.type === \"\") {\n\t\t\tsetContextError(\"Property 'type' can't be empty\");\n\t\t\treturn false;\n\t\t}\n\n\t\tif(!templateName) {\n\t\t\tsetContextError(\"Template name is required\");\n\t\t\treturn false;\n\t\t}\n\t\t\n\t\treturn true;\n\t};\n\n\tconst handleCreateTemplate = () => {\n\t\tsetTemplateName(null)\n\t\tsetContext(null);\n\t\tsetContextValue(null);\n\t\tsetDisabled(true);\n\t};\n\n\tconst handleSaveTemplate = () => {\n\t\tconst isValid: boolean = validate();\n\n\t\tif (isValid && context && templateName) {\n\t\t\t\n\t\t\tconst selectedContext = contextStore.contextsList.find(({ id }) => id === context.id);\n\t\t\tconst currContext = {\n\t\t\t\tid: templateName.value,\n\t\t\t\tschemaUrl: context.schemaUrl,\n\t\t\t\ttemplate: contextValue,\n\t\t\t}\n\n\t\t\tif(!selectedContext) contextStore.addContextItem(currContext);\n\n\t\t\tcontextStore.saveContextItem(currContext, context.id);\n\t\t\thandleChangeTemplate({title: currContext.id, value: currContext.id});\n\n\t\t\tsystemLogStore.addLog({\n\t\t\t\tname: \"saveTemplate\",\n\t\t\t\ttype: \"success\",\n\t\t\t\tvalue: currContext?.id,\n\t\t\t\tvariant: \"text\",\n\t\t\t});\n\t\t} else {\n\t\t\tsystemLogStore.addLog({\n\t\t\t\tname: \"saveTemplate\",\n\t\t\t\ttype: \"error\",\n\t\t\t\tvalue: undefined,\n\t\t\t\tvariant: \"text\",\n\t\t\t});\n\t\t}\n\t\tsetDisabled(true);\n\t};\n\n\tconst handleDuplicateTemplate = (newValue: any, count = 0) => {\n\t\tconst copyName = `${newValue.value}-copy${count > 0 ? ` (${count})` : ''}`;\n\t\tif (newValue?.value && !found(copyName)) {\n\t\t\tsetTemplateName({value: copyName, title: copyName});\n\t\t\tconst selectedContext = contextStore.contextsList.find(({ id }) => id === newValue.value);\n\n\t\t\tif (selectedContext) {\n\n\t\t\t\tconst newContext: ContextItem = {\n\t\t\t\t\tid: copyName,\n\t\t\t\t\ttemplate: selectedContext.template,\n\t\t\t\t\tschemaUrl: selectedContext.schemaUrl,\n\t\t\t\t};\n\n\t\t\t\tcontextStore.addContextItem(newContext);\n\t\t\t\tcontextStore.saveContextItem(newContext);\n\n\t\t\t\tsetContextValue(selectedContext.template);\n\t\t\t\tsetContext(newContext);\n\t\t\t\t\n\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\tname: \"saveTemplate\",\n\t\t\t\t\ttype: \"success\",\n\t\t\t\t\tvalue: newContext.id,\n\t\t\t\t\tvariant: \"text\",\n\t\t\t\t});\n\t\t\t}\n\t\t} else if(found(copyName)) {\n\t\t\thandleDuplicateTemplate(newValue, ++count)\n\t\t}\n\n\t\tsetContextError(false);\n\t}\n\n\tconst handleResetTemplate = () => {\n\t\tcontextStore.resetContextList();\n\t\thandleCreateTemplate()\n\t};\n\n\tconst handleDeleteTemplate = (contextId:any) => {\n\t\tconst selectedContext = contextStore.contextsList.find(({ id }) => id === contextId);\n\t\tif (selectedContext) {\n\t\t\tcontextStore.deleteContextItem(selectedContext);\n\t\t\tsystemLogStore.addLog({\n\t\t\t\tname: \"deleteTemplate\",\n\t\t\t\ttype: \"success\",\n\t\t\t\tvalue: selectedContext?.id,\n\t\t\t\tvariant: \"text\",\n\t\t\t});\n\t\t} else {\n\t\t\tsystemLogStore.addLog({\n\t\t\t\tname: \"deleteTemplate\",\n\t\t\t\ttype: \"error\",\n\t\t\t\tvalue: undefined,\n\t\t\t\tvariant: \"text\",\n\t\t\t});\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t  if(duplicateName) {\n\t\tsetDisabled(true);\n\t\tsetContextError(\"Template name already exists\");\n\t  }\n\t  else setDisabled(false);\n\t}, [duplicateName, contextValue])\n\t\n\tuseEffect(() => {\n\t\tif(gridRef && gridRef.current) gridRef.current.scrollIntoView({behavior: 'auto', block: 'nearest'});\n\t\tif(context == null) {\n\t\t\tconst newContext: ContextItem = {\n\t\t\t\tid: \"empty\",\n\t\t\t\ttemplate: emptyJson,\n\t\t\t\tschemaUrl: new URL(\"https://fdc3.finos.org/schemas/1.2/context.schema.json\"),\n\t\t\t};\n\t\t\tsetContext(newContext);\n\t\t\tsetContextValue(emptyJson);\n\t\t}\n\t}, [context])\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<DialogModal open={open} onClose={handleClose} onAgree={handleDeleteTemplate} selectedValue={deleteContext} />\n\t\t\t<Grid container spacing={1} >\n\t\t\t\t<Grid item xs={12} >\n\t\t\t\t\t<Typography variant=\"h5\" >Context templates:</Typography>\n\t\t\t\t</Grid>\n\t\t\t\t<TableContainer className={classes.tableContainer}>\n\t\t\t\t\t<Table>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{contextStore.contextsList.map(({ id, template }, index) => (\n\t\t\t\t\t\t\t\t<TableRow hover role=\"checkbox\" tabIndex={-1} key={`row-${index}`} selected={id === templateName?.value} ref={id === templateName?.value ? gridRef : null}>\n\t\t\t\t\t\t\t\t\t<TableCell key={`row-${index}-column-0`} align=\"left\" onClick={() => handleChangeTemplate({title: id, value: id})}>\n\t\t\t\t\t\t\t\t\t\t<Typography variant=\"subtitle1\" >\n\t\t\t\t\t\t\t\t\t\t\t{id}\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell key={`row-${index}-column-1`} align=\"left\" onClick={() => handleChangeTemplate({title: id, value: id})}>\n\t\t\t\t\t\t\t\t\t\t<Typography variant=\"caption\" >{template?.type}</Typography>\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell key={`row-${index}-column-2`} align=\"right\">\n\t\t\t\t\t\t\t\t\t\t<Tooltip title=\"Duplicate Template\" aria-label=\"Copy code\">\n\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"Copy code example\"\n\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleDuplicateTemplate({title: id, value: id})}>\n\t\t\t\t\t\t\t\t\t\t\t\t<FileCopyOutlinedIcon className={classes.copy}/>\n\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell key={`row-${index}-column-3`} align=\"right\">\n\t\t\t\t\t\t\t\t\t\t<Tooltip title=\"Delete template\" aria-label=\"Delete template\">\n\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"Delete template\"\n\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleClickOpen(id, template?.name)}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<DeleteOutlinedIcon className={classes.delete}/>\n\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</TableContainer>\n\t\t\t</Grid>\n\t\t\t<form className={classes.form} noValidate autoComplete=\"off\">\n\t\t\t\t<Grid container direction=\"row\" spacing={1}>\n\t\t\t\t\t<Grid item className={classes.controls}>\n\t\t\t\t\t\t<Button className={classes.button} variant=\"contained\" color=\"primary\" onClick={handleCreateTemplate}>\n\t\t\t\t\t\t\tCreate new template\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item className={classes.controls}>\n\t\t\t\t\t\t<Button className={classes.button} variant=\"contained\" color=\"primary\" onClick={handleResetTemplate}>\n\t\t\t\t\t\t\tReset templates\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</form>\n\t\t\t\n\t\t\t<form className={classes.form} noValidate autoComplete=\"off\">\n\t\t\t\t<Grid container direction=\"row\" spacing={1} className={classes.rightAlign}>\n\t\t\t\t\t<Grid item xs={12} className={`${classes.controls} ${classes.templateSelect}`}>\n\t\t\t\t\t\t<Grid item xs={6} className={classes.field}>\n\t\t\t\t\t\t\t<Grid item xs={12} className={classes.textField}>\n\t\t\t\t\t\t\t\t<Typography variant=\"h5\" >Edit template:</Typography>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<TemplateTextField\n\t\t\t\t\t\t\t\tlabel=\"Template name\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\tplaceholder=\"Choose Context Template\"\n\t\t\t\t\t\t\t\tvalue={templateName?.value || ''}\n\t\t\t\t\t\t\t\tonChange={(e) => handleChangeTemplateName({title: e.target.value, value: e.target.value})}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} className={classes.controls}>\n\t\t\t\t\t\t<JsonInput\n\t\t\t\t\t\t\tjson={context?.template}\n\t\t\t\t\t\t\tonChange={handleContextChange}\n\t\t\t\t\t\t\tonJsonError={handleJsonError}\n\t\t\t\t\t\t\tschemaUrl={new URL(context?.schemaUrl || 'https://fdc3.finos.org/schemas/1.2/context.schema.json')}\n\t\t\t\t\t\t\terror={contextError}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t<Tooltip title=\"Copy code\" aria-label=\"Copy code\">\n\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\taria-label=\"Copy code example\"\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\tonClick={copyToClipboard(`let context = ${JSON.stringify(contextValue, null, 2)}`, \"createContext\")}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<FileCopyIcon />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<Button className={classes.button} variant=\"contained\" color=\"primary\" onClick={handleSaveTemplate} disabled={disabled}>\n\t\t\t\t\t\t\tSave Changes\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</form>\n\t\t</div>\n\t);\n});\n","import React, { useEffect, useState } from \"react\";\nimport * as fdc3 from \"@finos/fdc3\";\nimport { toJS } from \"mobx\";\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\nimport { Button, IconButton, Tooltip, Typography, Grid, FormControl, InputLabel, MenuItem, Select } from \"@material-ui/core\";\nimport { observer } from \"mobx-react\";\nimport FileCopyIcon from \"@material-ui/icons/FileCopy\";\nimport Autocomplete, { createFilterOptions } from \"@material-ui/lab/Autocomplete\";\nimport {ContextTemplates} from \"../components/ContextTemplates\";\nimport intentStore from \"../store/IntentStore\";\nimport { codeExamples } from \"../fixtures/codeExamples\";\nimport { TemplateTextField } from \"./common/TemplateTextField\";\nimport { copyToClipboard } from \"./common/CopyToClipboard\";\nimport { AppIntent, AppMetadata, Context } from \"@finos/fdc3\";\n\n// interface copied from lib @material-ui/lab/Autocomplete\ninterface FilterOptionsState<T> {\n\tinputValue: string;\n\tgetOptionLabel: (option: T) => string;\n}\n\ninterface ListenerOptionType {\n\ttitle: string;\n\tvalue: string;\n}\n\ntype ListenerSetValue = (value: ListenerOptionType | null) => void;\n\ntype ListenerSetError = (error: string | false) => void;\n\nconst useStyles = makeStyles((theme: Theme) =>\n\tcreateStyles({\n\t\troot: {\n\t\t\tflexGrow: 1,\n\t\t},\n\t\ttitle: {\n\t\t\tdisplay: \"flex\",\n\t\t\talignItems: \"center\",\n\t\t\tjustifyContent: \"space-between\",\n\t\t},\n\t\tform: {\n\t\t\tdisplay: \"flex\",\n\t\t\tflexWrap: \"wrap\",\n\t\t\talignItems: \"center\",\n\t\t\tmarginTop: theme.spacing(1),\n\t\t\t\"& > *\": {\n\t\t\t\tmargin: theme.spacing(1),\n\t\t\t\tmarginLeft: \"0px\",\n\t\t\t},\n\t\t},\n\t\tcontrols: {\n\t\t\t\"& > *:first-child\": {\n\t\t\t\tmarginLeft: 0,\n\t\t\t},\n\t\t\t\"& > *\": {\n\t\t\t\tmarginRight: theme.spacing(1),\n\t\t\t},\n\t\t\t\"& > *:last-child\": {\n\t\t\t\tmarginRight: 0,\n\t\t\t},\n\t\t\t\"& .MuiIconButton-sizeSmall\": {\n\t\t\t\tpadding: \"6px\",\n\t\t\t},\n\t\t\tdisplay: \"flex\",\n\t\t\talignItems: \"center\"\n\t\t},\n\t\trightAlign: {\n\t\t\tflexDirection: \"row\",\n\t\t\tjustifyContent: \"flex-end\",\n\t\t},\n\t\tspread: {\n\t\t\tflexDirection: \"row\",\n\t\t\t\"& > *:first-child\": {\n\t\t\t\tpaddingLeft: \"0px\",\n\t\t\t},\n\t\t},\n\t\ttextField: {\n\t\t\twidth: \"100%\",\n\t\t\t\"& input\": {\n\t\t\t\theight: \"29px\",\n\t\t\t\tpadding: \"6px\",\n\t\t\t},\n\t\t},\n\t\th4: {\n\t\t\tfontSize: \"22px\",\n\t\t},\n\t\tfield: {\n\t\t\tflexGrow: 1,\n\t\t\tmarginRight: theme.spacing(1),\n\t\t\tminWidth: \"190px\",\n\t\t},\n\t\tborder: {\n\t\t\theight: \"1px\",\n\t\t\twidth: \"100%\",\n\t\t\tbackgroundColor: \"#acb2c0\",\n\t\t\tmarginTop: \"24px\",\n\t\t\tmarginBottom: \"16px\",\n\t\t},\n\t\tbottomMargin: {\n\t\t\tmarginBottom: theme.spacing(1),\n\t\t},\n\t\tremoveSidePadding: {\n\t\t\tpaddingLeft: 0,\n\t\t},\n\t\ttargetSelect: {\n\t\t\twidth: \"100%\",\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t\trightPadding: {\n            paddingRight: theme.spacing(.5),\n        },\n\t})\n);\n\nconst filter = createFilterOptions<ListenerOptionType>();\n\nexport const Intents = observer(({handleTabChange}: {handleTabChange:any}) => {\n\tconst classes = useStyles();\n\tconst [intentValue, setIntentValue] = useState<ListenerOptionType | null>(null);\n\tconst [raiseIntentError, setRaiseIntentError] = useState<string | false>(false);\n\tconst [intentListener, setIntentListener] = useState<ListenerOptionType | null>(null);\n\tconst [intentsForContext, setIntentsForContext] = useState<ListenerOptionType[] | null>(null);\n\tconst [intentTargets, setIntentTargets] = useState<AppMetadata[]| null>(null);\n\tconst [targetApp, setTargetApp] = useState<string| null>(null);\n\tconst [contextTargetApp, setContextTargetApp] = useState<string| null>(null);\n\tconst [intentObjects, setIntentObjects] = useState< AppIntent[]| null>(null);\n\tconst [contextIntentObjects, setContextIntentObjects] = useState< any[]| null>(null);\n\tconst [raiseIntentContext, setRaiseIntentContext] = useState<Context | null>(null)\n\tconst [raiseIntentWithContextContext, setRaiseIntentWithContextContext] = useState<Context | null>(null)\n\tconst [intentError, setIntentError] = useState<string | false>(false);\n\tconst intentListenersOptions: ListenerOptionType[] = intentStore.intentsList;\n\n\tconst handleRaiseIntent = () => {\n\t\tif (!intentValue) {\n\t\t\tsetRaiseIntentError(\" enter intent name\");\n\t\t} else if(!raiseIntentContext){\n\t\t\tsetRaiseIntentError(\" enter context name\");\n\t\t} else if (targetApp && intentTargets) {\n\t\t\tlet targetObject = intentTargets.find((target) => target.name === targetApp);\n\t\t\tif (targetObject) {\n\t\t\t\tintentStore.raiseIntent(intentValue.value, raiseIntentContext, targetObject);\n\t\t\t\tsetRaiseIntentError(\"\");\n\t\t\t}\n\t\t} else {\n\t\t\tintentStore.raiseIntent(intentValue.value, raiseIntentContext);\n\t\t\tsetRaiseIntentError(\"\");\n\t\t}\n\t};\n\n\tconst handleRaiseIntentForContext = () => {\n\t\tif(raiseIntentWithContextContext){\n\t\t\tif(contextTargetApp && contextIntentObjects) {\n\t\t\t\tlet targetObject = contextIntentObjects.find((target) => target.name === contextTargetApp);\n\t\t\t\tintentStore.raiseIntentForContext(raiseIntentWithContextContext, targetObject);\n\t\t\t} else {\n\t\t\t\tintentStore.raiseIntentForContext(raiseIntentWithContextContext);\n\t\t\t}\n\t\t} \n\t};\n\n\tconst handleTargetChange = (event: React.ChangeEvent<{ value: unknown }>) => {\n\t\tif (event.target.value === \"None\") {\n\t\t\tsetTargetApp(\"\");\n\t\t} else{\n\t\t\tsetTargetApp(event.target.value as string);\n\t\t}\n\t\t\n\t};\n\n\tconst handleContextTargetChange = (event: React.ChangeEvent<{ value: unknown }>) => {\n\t\tif (event.target.value === \"None\") {\n\t\t\tsetContextTargetApp(\"\");\n\t\t} else{\n\t\t\tsetContextTargetApp(event.target.value as string);\n\t\t}\t\t\n\t};\n\n\tconst handleChangeListener =\n\t\t(setValue: ListenerSetValue, setError: ListenerSetError) => (event: React.ChangeEvent<{}>, newValue: any) => {\n\t\t\tif (typeof newValue === \"string\") {\n\t\t\t\tsetValue({\n\t\t\t\t\ttitle: newValue,\n\t\t\t\t\tvalue: newValue,\n\t\t\t\t});\n\t\t\t} else if (newValue && newValue.inputValue) {\n\t\t\t\tsetValue({\n\t\t\t\t\ttitle: newValue.inputValue,\n\t\t\t\t\tvalue: newValue.inputValue,\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tsetValue(newValue);\n\t\t\t}\n\n\t\t\tsetError(false);\n\t\t};\n\n\tconst getOptionLabel = (option: ListenerOptionType) => {\n\t\tif (option.value) {\n\t\t\treturn option.value;\n\t\t}\n\t\treturn option.title;\n\t};\n\n\tconst filterOptions = (options: ListenerOptionType[], params: FilterOptionsState<ListenerOptionType>) => {\n\t\tconst filtered = filter(options, params);\n\n\t\tif (params.inputValue !== \"\") {\n\t\t\tfiltered.push({\n\t\t\t\tvalue: params.inputValue,\n\t\t\t\ttitle: `Add \"${params.inputValue}\"`,\n\t\t\t});\n\t\t}\n\n\t\treturn filtered;\n\t};\n\n\tconst handleAddIntentListener = () => {\n\t\tif (intentListener) {\n\t\t\tintentStore.addIntentListener(intentListener.value);\n\t\t\tsetIntentListener(null);\n\t\t} else {\n\t\t\tsetIntentError(\"Enter intent\");\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tsetIntentValue(null)\n\t\tconst fetchIntents = async () => {\n\t\t\ttry {\n\t\t\t\tif(raiseIntentContext) {\n\t\t\t\t\tlet appIntents = await fdc3.findIntentsByContext(toJS(raiseIntentContext));\n\t\t\t\t\tif (appIntents) {\n\t\t\t\t\t\tsetIntentObjects(appIntents);\n\t\t\t\t\t\tsetIntentsForContext(appIntents.map(({intent}: {intent:any})=>{\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\ttitle: intent.name.includes('fdc3') ? intent.name.split('.')[1] : intent.name,\n\t\t\t\t\t\t\t\tvalue: intent.name.includes('fdc3') ? intent.name.split('.')[1] : intent.name\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (e){\n\t\t\t\tsetRaiseIntentError(\" no intents found\");\n\t\t\t}\n\t\t}\n\t\tfetchIntents();\n\t\t\n\t}, [raiseIntentContext]);\n\n\tuseEffect(() => {\n\t\tif(intentObjects){\n\t\t\tlet targets = intentObjects.find((obj) => obj.intent.displayName === intentValue?.value);\n\t\t\tif(targets?.apps){\n\t\t\t\tsetIntentTargets(targets.apps);\n\t\t\t}\n\t\t}\n\t}, [intentValue]);\n\n\tuseEffect(() => {\n\t\tconst fetchIntents = async () => {\n\t\t\ttry {\n\t\t\t\tif(raiseIntentWithContextContext) {\n\t\t\t\t\tlet appIntentsForContext = await fdc3.findIntentsByContext(toJS(raiseIntentWithContextContext));\n\t\t\t\t\tif (appIntentsForContext) {\n\t\t\t\t\t\tlet pairObject: any[] = [];\n\t\t\t\t\t\tappIntentsForContext.forEach((intent)=>{\n\t\t\t\t\t\t\tintent?.apps.forEach((app)=>{\n\t\t\t\t\t\t\t\tpairObject.push( {\n\t\t\t\t\t\t\t\t\tname: `${app.name} - ${intent.intent.name}`,\n\t\t\t\t\t\t\t\t\tapp\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t});\n\t\t\t\t\t\tsetContextIntentObjects(pairObject as any[]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (e){\n\t\t\t}\n\t\t}\n\t\tfetchIntents();\n\t\t\n\t}, [raiseIntentWithContextContext]);\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Grid item xs={12}>\n\t\t\t\t<Typography variant=\"h5\">Raise Intent</Typography>\n\t\t\t</Grid>\n\n\t\t\t<form className={classes.form} noValidate autoComplete=\"off\">\n\t\t\t\t<Grid container direction=\"row\" spacing={2}>\n\t\t\t\t\t<Grid container item spacing={2} justifyContent=\"flex-end\" className={classes.spread}>\n\t\t\t\t\t\t<Grid item className={classes.field}>\n\t\t\t\t\t\t\t<ContextTemplates handleTabChange={handleTabChange} contextStateSetter={setRaiseIntentContext} />\n\t\t\t\t\t\t\t<Autocomplete\n\t\t\t\t\t\t\t\tclassName={classes.rightPadding}\n\t\t\t\t\t\t\t\tid=\"raise-intent\"\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tselectOnFocus\n\t\t\t\t\t\t\t\tblurOnSelect\n\t\t\t\t\t\t\t\tclearOnBlur\n\t\t\t\t\t\t\t\thandleHomeEndKeys\n\t\t\t\t\t\t\t\tvalue={intentValue}\n\t\t\t\t\t\t\t\tonChange={handleChangeListener(setIntentValue, setRaiseIntentError)}\n\t\t\t\t\t\t\t\tfilterOptions={filterOptions}\n\t\t\t\t\t\t\t\toptions={intentsForContext || intentListenersOptions}\n\t\t\t\t\t\t\t\tgetOptionLabel={getOptionLabel}\n\t\t\t\t\t\t\t\trenderOption={(option) => option.title}\n\t\t\t\t\t\t\t\trenderInput={(params) => (\n\t\t\t\t\t\t\t\t\t<TemplateTextField\n\t\t\t\t\t\t\t\t\t\tlabel=\"INTENT TYPE\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Enter Intent Type\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t{...params}\n\t\t\t\t\t\t\t\t\t\terror={!!raiseIntentError}\n\t\t\t\t\t\t\t\t\t\thelperText={raiseIntentError}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Grid className={classes.rightPadding}>\n\t\t\t\t\t\t\t\t<FormControl variant=\"outlined\" size=\"small\" className={classes.targetSelect}>\n\t\t\t\t\t\t\t\t\t<InputLabel id=\"intent-target-app\">Target (optional)</InputLabel>\n\t\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\t\tlabelId=\"intent-target-app\"\n\t\t\t\t\t\t\t\t\t\tid=\"intent-target-app-select\"\n\t\t\t\t\t\t\t\t\t\tvalue={targetApp ?? \"\"}\n\t\t\t\t\t\t\t\t\t\tonChange={handleTargetChange}\n\t\t\t\t\t\t\t\t\t\tlabel=\"Target (optional)\"\n\t\t\t\t\t\t\t\t\t\tMenuProps={{\n\t\t\t\t\t\t\t\t\t\t\tanchorOrigin: {\n\t\t\t\t\t\t\t\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\t\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\ttransformOrigin: {\n\t\t\t\t\t\t\t\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\t\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\tgetContentAnchorEl: null,\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{!intentTargets?.length && (\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"\" disabled>\n\t\t\t\t\t\t\t\t\t\t\t\tNo Target Apps Found\n\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t{intentTargets?.length && <MenuItem key=\"\" value=\"None\">\n\t\t\t\t\t\t\t\t\t\t\t\tNone\n\t\t\t\t\t\t\t\t\t\t\t</MenuItem>}\n\t\t\t\t\t\t\t\t\t\t{intentTargets?.length &&\n\t\t\t\t\t\t\t\t\t\t\tintentTargets.map((target) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem key={target.name} value={target.name}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{target.title}\n\t\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item className={classes.controls}>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\tonClick={handleRaiseIntent}\n\t\t\t\t\t\t\t\tdisabled={!raiseIntentContext}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tRaise Intent\n\t\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t\t<Tooltip title=\"Copy code example\" aria-label=\"Copy code example\">\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\taria-label=\"Copy code example\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tonClick={copyToClipboard(codeExamples.raiseIntent, \"raiseIntent\")}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<FileCopyIcon />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<div className={classes.border}></div>\n\n\t\t\t\t\t<Grid container item spacing={2} justifyContent=\"flex-end\" className={classes.spread}>\n\t\t\t\t\t\t<Grid item xs={12} className={classes.bottomMargin}>\n\t\t\t\t\t\t\t<Typography variant=\"h5\">Raise Intent for Context</Typography>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item className={`${classes.field} ${classes.removeSidePadding}`}>\n\t\t\t\t\t\t\t<ContextTemplates handleTabChange={handleTabChange} contextStateSetter={setRaiseIntentWithContextContext} />\n\t\t\t\t\t\t\t<Grid className={classes.rightPadding}>\n\t\t\t\t\t\t\t\t<FormControl variant=\"outlined\" size=\"small\" className={classes.targetSelect}>\n\t\t\t\t\t\t\t\t\t<InputLabel id=\"intent-context-target-app\">Target (optional)</InputLabel>\n\t\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\t\tlabelId=\"intent-context-target-app\"\n\t\t\t\t\t\t\t\t\t\tid=\"intent-context-target-app-select\"\n\t\t\t\t\t\t\t\t\t\tvalue={contextTargetApp ?? \"\"}\n\t\t\t\t\t\t\t\t\t\tonChange={handleContextTargetChange}\n\t\t\t\t\t\t\t\t\t\tlabel=\"Target (optional)\"\n\t\t\t\t\t\t\t\t\t\tMenuProps={{\n\t\t\t\t\t\t\t\t\t\t\tanchorOrigin: {\n\t\t\t\t\t\t\t\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\t\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\ttransformOrigin: {\n\t\t\t\t\t\t\t\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\t\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\tgetContentAnchorEl: null,\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{!contextIntentObjects?.length && (\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"\" disabled>\n\t\t\t\t\t\t\t\t\t\t\t\tNo Target Apps Found\n\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t{contextIntentObjects?.length && <MenuItem key=\"\" value=\"None\">\n\t\t\t\t\t\t\t\t\t\t\t\tNone\n\t\t\t\t\t\t\t\t\t\t\t</MenuItem>}\n\t\t\t\t\t\t\t\t\t\t{contextIntentObjects?.length &&\n\t\t\t\t\t\t\t\t\t\t\tcontextIntentObjects.map((target) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={target.name} key={target.name} >\n\t\t\t\t\t\t\t\t\t\t\t\t\t{target.name}\n\t\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t))\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t</Grid>\t\t\t\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item className={classes.controls}>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tdisabled={!raiseIntentWithContextContext}\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\tonClick={handleRaiseIntentForContext}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tRaise intent for context\n\t\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t\t<Tooltip title=\"Copy code example\" aria-label=\"Copy code example\">\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\taria-label=\"Copy code example\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tonClick={copyToClipboard(codeExamples.raiseIntentForContext, \"raiseIntentForContext\")}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<FileCopyIcon />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<div className={classes.border}></div>\n\n\t\t\t\t\t<Grid container item spacing={2} justifyContent=\"flex-end\" className={classes.spread}>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<Typography className={classes.bottomMargin} variant=\"h5\">Add Context Listener</Typography>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item className={`${classes.field} ${classes.removeSidePadding}`}>\n\t\t\t\t\t\t\t<Autocomplete\n\t\t\t\t\t\t\t\tid=\"intent-listener\"\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tselectOnFocus\n\t\t\t\t\t\t\t\tblurOnSelect\n\t\t\t\t\t\t\t\tclearOnBlur\n\t\t\t\t\t\t\t\thandleHomeEndKeys\n\t\t\t\t\t\t\t\tvalue={intentListener}\n\t\t\t\t\t\t\t\tonChange={handleChangeListener(setIntentListener, setIntentError)}\n\t\t\t\t\t\t\t\tfilterOptions={filterOptions}\n\t\t\t\t\t\t\t\toptions={intentListenersOptions}\n\t\t\t\t\t\t\t\tgetOptionLabel={getOptionLabel}\n\t\t\t\t\t\t\t\trenderOption={(option) => option.title}\n\t\t\t\t\t\t\t\trenderInput={(params) => (\n\t\t\t\t\t\t\t\t\t<TemplateTextField\n\t\t\t\t\t\t\t\t\t\tlabel=\"INTENT LISTENER\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Enter Intent Type\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t{...params}\n\t\t\t\t\t\t\t\t\t\terror={!!intentError}\n\t\t\t\t\t\t\t\t\t\thelperText={intentError}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t<Grid item className={classes.controls}>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\tonClick={handleAddIntentListener}\n\t\t\t\t\t\t\t\tdisabled={intentListener === null}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tAdd Listener\n\t\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t\t<Tooltip title=\"Copy code example\" aria-label=\"Copy code example\">\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\taria-label=\"Copy code example\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tonClick={copyToClipboard(codeExamples.intentListener, \"addIntentListener\")}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<FileCopyIcon />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</form>\n\t\t</div>\n\t);\n});\n","import React, { useState } from \"react\";\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\nimport { Button, IconButton, Tooltip, Typography, Grid, TextField } from \"@material-ui/core\";\nimport { observer } from \"mobx-react\";\nimport FileCopyIcon from \"@material-ui/icons/FileCopy\";\nimport Autocomplete, { createFilterOptions } from \"@material-ui/lab/Autocomplete\";\nimport contextStore, { ContextType } from \"../store/ContextStore\";\nimport appChannelStore from \"../store/AppChannelStore\";\nimport { codeExamples } from \"../fixtures/codeExamples\";\nimport { TemplateTextField } from \"./common/TemplateTextField\";\nimport { copyToClipboard } from \"./common/CopyToClipboard\";\nimport { ContextTemplates } from \"./ContextTemplates\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n\tcreateStyles({\n\t\troot: {\n\t\t\tflexGrow: 1,\n\t\t},\n\t\ttitle: {\n\t\t\tdisplay: \"flex\",\n\t\t\talignItems: \"center\",\n\t\t\tjustifyContent: \"space-between\",\n\t\t},\n\t\tform: {\n\t\t\tdisplay: \"flex\",\n\t\t\tflexWrap: \"wrap\",\n\t\t\talignItems: \"center\",\n\t\t\tmarginTop: theme.spacing(1),\n\t\t\t\"& > *\": {\n\t\t\t\tmargin: theme.spacing(1),\n\t\t\t\tmarginLeft: \"0px\",\n\t\t\t},\n\t\t},\n        contextType: {\n\t\t\tflexGrow: 1,\n\t\t\tminWidth: \"190px\",\n\t\t},\n        topMargin: {\n            marginTop: theme.spacing(2),\n        },\n\t\tcontrols: {\n\t\t\t\"& > *:first-child\": {\n\t\t\t\tmarginLeft: 0,\n\t\t\t},\n\t\t\t\"& > *\": {\n\t\t\t\tmarginRight: theme.spacing(1),\n\t\t\t},\n\t\t\t\"& > *:last-child\": {\n\t\t\t\tmarginRight: 0,\n\t\t\t},\n\t\t\t\"& .MuiIconButton-sizeSmall\": {\n\t\t\t\tpadding: \"6px\",\n\t\t\t},\n\t\t},\n\t\trightAlign: {\n\t\t\tflexDirection: \"row\",\n\t\t\tjustifyContent: \"flex-end\",\n\t\t},\n\t\tspread: {\n\t\t\tflexDirection: \"row\",\n\t\t\t\"& > *:first-child\": {\n\t\t\t\tpaddingLeft: \"0px\",\n\t\t\t},\n\t\t},\n\t\ttextField: {\n\t\t\twidth: \"100%\",\n\t\t\t\"& input\": {\n\t\t\t\theight: \"29px\",\n\t\t\t\tpadding: \"6px\",\n\t\t\t},\n\t\t},\n\t\th4: {\n\t\t\tfontSize: \"22px\",\n\t\t},\n        h6: {\n            fontSize: \"14px\"\n        },\n\t\tfield: {\n\t\t\tflexGrow: 1,\n\t\t\tmarginRight: theme.spacing(1),\n\t\t\tminWidth: \"190px\",\n\t\t},\n\t\tborder: {\n\t\t\theight: \"1px\",\n\t\t\twidth: \"100%\",\n\t\t\tbackgroundColor: \"#acb2c0\",\n\t\t\tmarginTop: \"24px\",\n\t\t\tmarginBottom: \"16px\",\n\t\t},\n        rightPadding: {\n            paddingRight: theme.spacing(.5),\n        },\n\t})\n);\n\ninterface ListenerOptionType {\n\ttitle: string;\n\tvalue: string;\n\ttype: string | undefined;\n}\n\ninterface FilterOptionsState<T> {\n\tinputValue: string;\n\tgetOptionLabel: (option: T) => string;\n}\n\nconst listenerFilter = createFilterOptions<ListenerOptionType>();\n\nexport const AppChannels = observer(({handleTabChange} : {handleTabChange:any}) => {\n    const classes = useStyles();\n    const [render, setRender] = useState<boolean>(false);\n    const [currentAppChannelId, setCurrentAppChannelId] = useState<string>(\"\");\n    const contextListenersOptionsAll: ListenerOptionType[] = contextStore.contextsList.map(({ id, template }) => {\n        return {\n\t\t\ttitle: id,\n\t\t\tvalue: id,\n\t\t\ttype: template?.type\n\t\t};\n\t});\n\tcontextListenersOptionsAll.unshift({\n\t\ttitle: \"All\",\n\t\tvalue: \"all\",\n\t\ttype: \"All\"\n\t});\n\n    const contextListenersOptions = Array.from(new Map(contextListenersOptionsAll.reverse().map((item) => [item[\"type\"], item])).values()).reverse();\n\n\n    const handleGetorCreateChannel = () =>{\n        if (currentAppChannelId) {\n           let foundChannel = appChannelStore.appChannelsList.find((currentChannel)=>currentChannel.id === currentAppChannelId);\n            if (!foundChannel) {\n                appChannelStore.getOrCreateChannel(currentAppChannelId);\n            }\n           setCurrentAppChannelId(\"\");\n        }\n\n    };\n\n    const handleChannelChange = (event: React.ChangeEvent<{ value: unknown }>) => {\n        setCurrentAppChannelId(event.target.value as string);\n    };\n\n    const getOptionLabel = (option: ListenerOptionType) => {\n        if (option.type) {\n\t\t\treturn option.type;\n\t\t}\n\t\treturn option.title;\n\t};\n\n    const handleChangeAppListener = (channelId: string) => (event: React.ChangeEvent<{}>, newValue: any) => {\n            let foundChannel = appChannelStore.appChannelsList.find((currentChannel)=>currentChannel.id === channelId);\n            if (foundChannel) {\n                let newListener;\n                let foundListener = appChannelStore.appChannelListeners?.find((currentListener)=>currentListener.type === newValue && currentListener.channelId === channelId);\n\n                if(!foundListener){\n                    if (typeof newValue === \"string\") {\n                        newListener = {\n                            title: newValue,\n                            value: newValue,\n                            type: newValue\n                        };\n                    } else if (newValue && newValue.inputValue) {\n                        newListener = {\n                            title: newValue.inputValue,\n                            value: newValue.inputValue,\n                            type: newValue.inputValue\n                        };\n                    } else {\n                        newListener = newValue;\n                    }\n    \n                    foundChannel.currentListener = newListener;\n                    foundChannel.listenerError = \"\";\n                    \n                }\n            }\n\t\t};\n    \n    const handleAddContextListener = (channelId: string) => {\n        let foundChannel = appChannelStore.appChannelsList.find((currentChannel)=>currentChannel.id === channelId);\n        if(foundChannel){\n            if(foundChannel?.currentListener){\n                if (appChannelStore.isContextListenerExists(channelId, foundChannel?.currentListener.type)) {\n                    foundChannel.listenerError = \"Listener already added\";\n                } else {\n                    appChannelStore.addChannelListener(channelId, foundChannel.currentListener.type);\n                    foundChannel.listenerError = \"\";\n                }\n            } else {\n                foundChannel.listenerError = \"Enter context type\";\n            }\n            setRender(render);\n        }\n\t};\n\n    const handleContextStateChange = (context: ContextType, channel: string) => {\n        let foundChannel = appChannelStore.appChannelsList.find((currentChannel)=>currentChannel.id === channel);\n\t\tif(foundChannel) {\n\t\t\tfoundChannel.context = context\n\t\t}\n\t};\n\n    const handleBroadcast = (channel: any) => {\n        if (channel.context) {\n            appChannelStore.broadcast(channel.id, channel.context);\n        }\n    };\n\n\tconst filterOptions = (options: ListenerOptionType[], params: FilterOptionsState<ListenerOptionType>) => {\n        const filtered = listenerFilter(options, params);\n\t\tif (params.inputValue !== \"\") {\n\t\t\tfiltered.push({\n\t\t\t\tvalue: params.inputValue,\n\t\t\t\ttitle: `Add \"${params.inputValue}\"`,\n\t\t\t\ttype: params.inputValue\n\t\t\t});\n\t\t}\n\t\treturn filtered;\n\t};\n\n    return (\n        <div className={classes.root}>\n            <Grid item xs={12}>\n\t\t\t\t<Typography variant=\"h5\">Get Channel</Typography>\n\t\t\t</Grid>\n\n            <form className={classes.form} noValidate autoComplete=\"off\">\n                <Grid container direction=\"row\" spacing={1}>\n                    <Grid item className={classes.field}>\n                        <TextField \n                            fullWidth \n                            variant=\"outlined\" \n                            label=\"Channel Name\" \n                            type=\"text\" \n                            size=\"small\" \n                            onChange={handleChannelChange}\n                        />\n                    </Grid>\n                    <Grid item className={classes.controls}>\n                        <Button\n                            variant=\"contained\"\n                            color=\"primary\"\n                            onClick={handleGetorCreateChannel}\n                            disabled={!currentAppChannelId}\n                        >\n                            Get or Create Channel\n                        </Button>\n                    </Grid>\n                </Grid>\n            </form>\n            <div className={classes.border}></div>\n                {appChannelStore.appChannelsList.length > 0 && (\n                    appChannelStore.appChannelsList.map((channel) => (\n                        <Grid container key={channel.id} spacing={2} className={classes.spread}>\n                            <Grid item className={classes.field}>\n                                <Typography variant=\"h5\">\n                                    Channel: {channel.id}\n                                </Typography>\n                            </Grid>\n\n                            <Grid container className={classes.topMargin}>\n                                <Grid item xs={12}>\n                                    <Typography variant=\"h5\" className={classes.h6}>\n                                        Broadcast Context\n                                    </Typography>\n                                </Grid>\n                                \n                                <Grid item sm={7}>\n                                    <ContextTemplates handleTabChange={handleTabChange} contextStateSetter={handleContextStateChange} channel={channel.id} />\n                                </Grid>\n                                <Grid item container className={classes.controls} sm={5} justifyContent=\"flex-end\">\n                                    <Button\n                                        disabled={!channel.context}\n                                        variant=\"contained\"\n                                        color=\"primary\"\n                                        onClick={() => handleBroadcast(channel)}\n                                    >\n                                        Broadcast Context\n                                    </Button>\n\n                                    <Tooltip title=\"Copy code example\" aria-label=\"Copy code example\">\n                                        <IconButton\n                                            size=\"small\"\n                                            aria-label=\"Copy code example\"\n                                            color=\"primary\"\n                                            onClick={copyToClipboard(codeExamples.appChannelBroadcast, \"appChannelBroadcast\")}\n                                        >\n                                            <FileCopyIcon />\n                                        </IconButton>\n                                    </Tooltip>\n                                </Grid>\n                            </Grid>\n                            <Grid container>\n                            <Grid item xs={12}>\n                                    <Typography variant=\"h5\" className={classes.h6}>\n                                        Add Context Listener\n                                    </Typography>\n                                </Grid>\n                                <Grid item sm={7} className={classes.rightPadding}>\n                                    <Autocomplete\n                                        size=\"small\"\n                                        selectOnFocus\n                                        blurOnSelect\n                                        clearOnBlur\n                                        handleHomeEndKeys\n                                        value={channel.currentListener}\n                                        onChange={handleChangeAppListener(channel.id)}\n                                        filterOptions={filterOptions}\n                                        options={contextListenersOptions}\n                                        getOptionLabel={getOptionLabel}\n                                        renderOption={(option) => option.type}\n                                        renderInput={(params) => (\n                                            <TemplateTextField\n                                                label=\"CONTEXT TYPE\"\n                                                placeholder=\"Enter Context Type\"\n                                                variant=\"outlined\"\n                                                {...params}\n                                                error={!!channel.listenerError}\n                                                helperText={channel.listenerError}\n                                            />\n                                        )}\n                                    />\n                                </Grid>\n\n                                <Grid item className={classes.controls} sm={5} justifyContent=\"flex-end\">\n                                    <Button\n                                        variant=\"contained\"\n                                        color=\"primary\"\n                                        onClick={()=>handleAddContextListener(channel.id)}\n                                    >\n                                        Add Listener\n                                    </Button>\n\n                                    <Tooltip title=\"Copy code example\" aria-label=\"Copy code example\">\n                                        <IconButton\n                                            size=\"small\"\n                                            aria-label=\"Copy code example\"\n                                            color=\"primary\"\n                                            onClick={copyToClipboard(codeExamples.appChannelContextListener, \"addAppChannelContextListener\")}\n                                        >\n                                            <FileCopyIcon />\n                                        </IconButton>\n                                    </Tooltip>\n                                </Grid>\n                            </Grid>\n                            <div className={classes.border}></div>\n                        </Grid>\n                    ))\n                )}\n        </div>\n    );\n});","import React, { useEffect, useState } from \"react\";\nimport { makeStyles, createStyles, Theme } from \"@material-ui/core/styles\";\nimport { Grid, Paper, Tabs, Tab, Typography, Link } from \"@material-ui/core\";\nimport { observer } from \"mobx-react\";\nimport { ThemeProvider } from \"@material-ui/styles\";\nimport { createTheme } from \"@material-ui/core/styles\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport \"normalize.css\";\nimport \"@fontsource/roboto\";\nimport \"@fontsource/source-code-pro\";\nimport { TabPanel } from \"./components/common/TabPanel\";\nimport { Header } from \"./components/Header\";\nimport { Channels } from \"./components/Channels\";\nimport { Workbench } from \"./components/Workbench/Workbench\";\nimport { ContextCreate } from \"./components/ContextCreate\";\nimport { Intents } from \"./components/Intents\";\nimport { AppChannels } from \"./components/AppChannels\";\nimport snackbarStore from \"./store/SnackbarStore\";\nimport \"./App.css\";\nimport { fdc3Ready } from \"@finos/fdc3\";\n\nconst mainTheme = createTheme({\n\tpalette: {\n\t\tprimary: {\n\t\t\tlight: \"#005d85\",\n\t\t\tmain: \"#0086bf\",\n\t\t\tdark: \"#339ecb\",\n\t\t\tcontrastText: \"#fff\",\n\t\t},\n\t},\n\tprops: {\n\t\tMuiLink: {\n\t\t\tunderline: \"hover\"\n\t\t}\n\t}\n});\n\nmainTheme.typography.h4 = {\n\tfontFamily: \"Source Code Pro\",\n\tfontSize: \"20px\",\n\tcolor: \"#0086bf\",\n\tpaddingLeft: \"4px\",\n\tpaddingBottom: \"11px\",\n};\n\nmainTheme.typography.h5 = {\n\tfontSize: \"16px\",\n};\n\nmainTheme.typography.body1 = {\n\tfontSize: \"1rem\",\n    fontFamily: \"Roboto, Helvetica, Arial, sans-serif\",\n    fontWeight: 400,\n    lineHeight: 1.5,\n    letterSpacing: \"0.00938em\",\n\tmarginBlockStart: \"10px\",\n\tmarginBlockEnd: \"10px\",\n};\n\nconst useStyles = makeStyles((theme: Theme) =>\n\tcreateStyles({\n\t\t\"@global\": {\n\t\t\t\".MuiFormHelperText-contained.Mui-error\": {\n\t\t\t\tposition: \"absolute\",\n\t\t\t\tmarginLeft: \"9px\",\n\t\t\t\tbottom: \"-11px\",\n\t\t\t\tpadding: \"0 4px\",\n\t\t\t\tbackgroundColor: theme.palette.common.white,\n\t\t\t},\n\t\t\t\".MuiButton-contained\": {\n\t\t\t\tboxShadow: \"none\",\n\t\t\t},\n\t\t\t\".MuiGrid-item:has(> .MuiButton-root)\": {\n\t\t\t\tdisplay: \"flex\",\n\t\t\t\talignItems: \"center\",\n\t\t\t},\n\t\t\t\".MuiInputBase-root.Mui-disabled\": {\n\t\t\t\tcolor: \"rgba(0, 0, 0, 0.6)\",\n\t\t\t\tcursor: \"default\",\n\t\t\t },\n\t\t},\n\t\troot: {\n\t\t\tflexGrow: 1,\n\t\t},\n\t\theader: {\n\t\t\tmarginBottom: theme.spacing(2),\n\t\t},\n\t\tbody: {\n\t\t\theight: \"100%\",\n\t\t},\n\t\tpaper: {\n\t\t\tmarginTop: theme.spacing(2),\n\t\t\tpadding: theme.spacing(2),\n\t\t\theight: \"100%\",\n\t\t\t\"&:first-child\": {\n\t\t\t\tmarginTop: 0,\n\t\t\t},\n\t\t},\n\t\ttabs: {\n\t\t\tborderBottomColor: \"#acb2c0\",\n\t\t\tborderBottomStyle: \"solid\",\n\t\t\tborderBottomWidth: \"1px\",\n\t\t\tminHeight: \"28px\",\n\t\t\t\"& [aria-selected='true']\": {\n\t\t\t\tbackgroundColor: \"rgba(0, 134, 191, 0.21)\",\n\t\t\t},\n\t\t},\n\t\ttabIndicator: {\n\t\t\tbackgroundColor: \"rgba(0, 134, 191, 0.21)\",\n\t\t},\n\t\tindicator: {\n\t\t\tbackgroundColor: \"#00bbe1\",\n\t\t},\n\t\tfooter: {\n\t\t\tfontSize: \"10px\",\n\t\t\tfontStyle: \"italic\",\n\t\t\tcolor: \"#5b606f\",\n\t\t\tflexDirection: \"row\",\n\t\t\tjustifyContent: \"center\",\n\t\t\tmargin: theme.spacing(2),\n\t\t\t\"& *:first-child\": {\n\t\t\t\tpaddingTop: \"27px\",\n\t\t\t},\n\t\t},\n\t\tlink: {\n\t\t\tcolor: \"#5b606f\",\n\t\t\tfontWeight: \"bold\",\n\t\t\t\"&:hover\": {\n\t\t\t\tcolor: \"#5b606f\",\n\t\t\t},\n\t\t},\n\t\tcode: {\n\t\t\tfontFamily: \"courier, courier new, serif\",\n\t\t},\n\t\tworkbench: {\n\t\t\t[theme.breakpoints.down('sm')]: {\n\t\t\t\tmarginTop: '30px'\n\t\t\t}\n\t\t}\n\t})\n);\n\nconst openAPIDocs = (event: React.MouseEvent<HTMLElement>) => {\n\tevent.preventDefault();\n\twindow.open(\"https://fdc3.finos.org/docs/api/overview\", \"FDC3ApiDocs\");\n\treturn false;\n};\n\nconst openSpecAccessDocs = (event: React.MouseEvent<HTMLElement>) => {\n\tevent.preventDefault();\n\twindow.open(\"https://fdc3.finos.org/docs/api/spec#api-access\", \"FDC3ApiDocs\");\n\treturn false;\n};\n\nconst openSupportedPlatformsDocs = (event: React.MouseEvent<HTMLElement>) => {\n\tevent.preventDefault();\n\twindow.open(\"https://fdc3.finos.org/docs/supported-platforms\", \"FDC3ApiDocs\");\n\treturn false;\n};\n\nexport const App = observer(() => {\n\tconst classes = useStyles();\n\tconst [fdc3Available, setFdc3Available] = useState(false);\n\tconst [openSnackbar, setOpenSnackbar] = useState(false);\n\tconst [tabIndex, setTabIndex] = useState(0);\n\tconst [contextName, setContextName] = useState('');\n\n\tconst handleTabChange = (event: React.ChangeEvent<{}>, newIndex: number, name: string = '') => {\n\t\tsetContextName(name)\n\t\tsetTabIndex(newIndex);\n\t};\n\n\tconst handleClose = (event?: React.SyntheticEvent, reason?: string) => {\n\t\tif (reason === \"clickaway\") {\n\t\t\treturn;\n\t\t}\n\n\t\tsetOpenSnackbar(false);\n\t\t// Need to show close animation\n\t\tsetTimeout(() => snackbarStore.clearSnackbarData(), 500);\n\t};\n\n\t//check if the FDC3 API is available so we know whether to render\n\tuseEffect(() => {\n\t\t(async () => {\n\t\t\ttry {\n\t\t\t\tawait fdc3Ready(5000);\n\t\t\t\tsetFdc3Available(true);\n\t\t\t} catch (e) {}\n\t\t})();\n\t}, []);\n\n\tuseEffect(() => {\n\t\tsetOpenSnackbar(!!snackbarStore.snackbarData);\n\t}, [snackbarStore.snackbarData]);\n\n\treturn (\n\t\t<ThemeProvider theme={mainTheme}>\n\t\t\t<Grid className={classes.root} container>\n\t\t\t\t<Grid className={classes.header} container item xs={12}>\n\t\t\t\t\t<Header fdc3Available={fdc3Available} />\n\t\t\t\t</Grid>\n\t\t\t\t{fdc3Available ? (\n\t\t\t\t\t<Grid className={classes.body} container spacing={2} item xs={12} style={{ marginLeft: \"0px\" }}>\n\t\t\t\t\t\t<Grid item xs={12} md={8} style={{ flex: 1 }}>\n\t\t\t\t\t\t\t<Paper className={classes.paper}>\n\t\t\t\t\t\t\t\t<Tabs\n\t\t\t\t\t\t\t\t\tvalue={tabIndex}\n\t\t\t\t\t\t\t\t\tindicatorColor=\"primary\"\n\t\t\t\t\t\t\t\t\tonChange={handleTabChange}\n\t\t\t\t\t\t\t\t\tvariant=\"scrollable\"\n\t\t\t\t\t\t\t\t\tscrollButtons=\"auto\"\n\t\t\t\t\t\t\t\t\tclassName={classes.tabs}\n\t\t\t\t\t\t\t\t\tclasses={{\n\t\t\t\t\t\t\t\t\t\tindicator: classes.indicator,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t<Tab label=\"Contexts\" />\n\t\t\t\t\t\t\t\t\t<Tab label=\"Intents\" />\n\t\t\t\t\t\t\t\t\t<Tab label=\"System Channels\" />\n\t\t\t\t\t\t\t\t\t<Tab label=\"App Channels\" />\n\t\t\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t\t\t\t<TabPanel value={tabIndex} index={0}>\n\t\t\t\t\t\t\t\t\t<ContextCreate contextName={contextName}/>\n\t\t\t\t\t\t\t\t</TabPanel>\n\t\t\t\t\t\t\t\t<TabPanel value={tabIndex} index={1}>\n\t\t\t\t\t\t\t\t\t<Intents handleTabChange={handleTabChange}/>\n\t\t\t\t\t\t\t\t</TabPanel>\n\t\t\t\t\t\t\t\t<TabPanel value={tabIndex} index={2}>\n\t\t\t\t\t\t\t\t\t<Channels handleTabChange={handleTabChange}/>\n\t\t\t\t\t\t\t\t</TabPanel>\n\t\t\t\t\t\t\t\t<TabPanel value={tabIndex} index={3}>\n\t\t\t\t\t\t\t\t\t<AppChannels handleTabChange={handleTabChange}/>\n\t\t\t\t\t\t\t\t</TabPanel>\n\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t<Grid item xs={12} md={4} className={classes.workbench}>\n\t\t\t\t\t\t\t<Paper className={classes.paper}>\n\t\t\t\t\t\t\t\t<Workbench />\n\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t) : (\n\t\t\t\t\t<Grid className={classes.body} container spacing={2} item xs={12} style={{ marginLeft: \"0px\" }}>\n\t\t\t\t\t\t<Grid container direction=\"column\" justifyContent=\"center\" alignItems=\"center\" spacing={2} item xs={12}>\n\t\t\t\t\t\t\t<Paper className={classes.paper}>\n\t\t\t\t\t\t\t\t<Typography variant=\"h4\">FDC3 API not detected!</Typography>\n\t\t\t\t\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t\t\t\t\tAn FDC3 desktop agent implementation was not found at{\" \"}\n\t\t\t\t\t\t\t\t\t<span className={classes.code}>window.fdc3</span>.\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t\t\t\t\tFor web applications to be FDC3-enabled, they need to run in the context of an \n\t\t\t\t\t\t\t\t\tagent that makes the FDC3 API available to the application. This desktop agent is \n\t\t\t\t\t\t\t\t\talso responsible for lauching and co-ordinating applications. It could be a browser \n\t\t\t\t\t\t\t\t\textension, web app, or full-fledged desktop container framework.\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t\t\t\t\tSee the FDC3 standard documentation for details on{\" \"}\n\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\tclassName={classes.link}\n\t\t\t\t\t\t\t\t\t\thref=\"https://fdc3.finos.org/docs/supported-platforms\"\n\t\t\t\t\t\t\t\t\t\tonClick={openSupportedPlatformsDocs}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tsupported platforms\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t{\" \"}and{\" \"}\n\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\tclassName={classes.link}\n\t\t\t\t\t\t\t\t\t\thref=\"https://fdc3.finos.org/docs/api/spec#api-access\"\n\t\t\t\t\t\t\t\t\t\tonClick={openSpecAccessDocs}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\taccessing the FDC3 API\n\t\t\t\t\t\t\t\t\t</Link>.\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\n\t\t\t\t<Grid container item xs={12} className={classes.footer}>\n\t\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t\tLearn more about the{\" \"}\n\t\t\t\t\t\t<Link className={classes.link} href=\"https://fdc3.finos.org/docs/api/overview\" onClick={openAPIDocs}>\n\t\t\t\t\t\t\tFDC3 Standard and APIs\n\t\t\t\t\t\t</Link>{\" \"}\n\t\t\t\t\t\t| Proud member of the{\" \"}\n\t\t\t\t\t\t<Link className={classes.link} href=\"https://www.finos.org/\">\n\t\t\t\t\t\t\tFintech Open Source Foundation\n\t\t\t\t\t\t</Link>{\" \"}\n\t\t\t\t\t\t| Copyright © 2021 Cosaic, inc. &amp; Contributors to the FDC3 standards project\n\t\t\t\t\t</Typography>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\n\t\t\t<Snackbar key={snackbarStore.snackbarData?.id} open={openSnackbar} autoHideDuration={4000} onClose={handleClose}>\n\t\t\t\t<Alert elevation={6} variant=\"filled\" onClose={handleClose} severity={snackbarStore.snackbarData?.type}>\n\t\t\t\t\t{snackbarStore.snackbarData?.message}\n\t\t\t\t</Alert>\n\t\t\t</Snackbar>\n\t\t</ThemeProvider>\n\t);\n});\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById(\"root\")\n);\n"],"sourceRoot":""}