(this["webpackJsonpfdc3-workbench"]=this["webpackJsonpfdc3-workbench"]||[]).push([[0],{206:function(e,t){},209:function(e,t){},211:function(e,t){},225:function(e,t,n){},226:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(17),i=n.n(c),s=n(8),o=n(13),l=n(7),d=n(12),u=n(276),p=n(317),h=n(285),b=n(228),f=n(307),j=n(294),x=n(65),m=n(288),v=n(16),O=n(306),g=n(148),y=n(314),C=n(309),L=(n(164),n(165),n(166),n(18)),w=n(3),k=n(1),I=["children","value","index"],S=Object(u.a)((function(e){return Object(p.a)({tabPanel:{padding:e.spacing(2)}})})),N=function(e){var t=S(),n=e.children,a=e.value,r=e.index,c=Object(w.a)(e,I);return Object(k.jsx)("div",Object(L.a)(Object(L.a)({role:"tabpanel",hidden:a!==r,id:"scrollable-auto-tabpanel-".concat(r),"aria-labelledby":"scrollable-auto-tab-".concat(r)},c),{},{children:a===r&&Object(k.jsx)("div",{className:t.tabPanel,children:n})}))},A=n(278),T=n(280),D=n(281),E=n(141),F=n.n(E),V=n(25),R=n(22),P=n(81),M=n(110),U=function(){function e(){Object(V.a)(this,e),this.fdc3Methods=void 0,this.fdc3Methods="2.0"===window.fdc3Version?P:M}return Object(R.a)(e,[{key:"getCurrentChannel",value:function(){return this.fdc3Methods.getCurrentChannel()}},{key:"broadcast",value:function(e){return this.fdc3Methods.broadcast(e)}},{key:"addIntentListener",value:function(){var e=Object(o.a)(Object(s.a)().mark((function e(t,n){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fdc3Methods.addIntentListener(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"addContextListener",value:function(){var e=Object(o.a)(Object(s.a)().mark((function e(t,n){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fdc3Methods.addContextListener(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"raiseIntent",value:function(){var e=Object(o.a)(Object(s.a)().mark((function e(t,n,a){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("2.0"!==window.fdc3Version){e.next=6;break}return e.next=3,P.raiseIntent(t,n,{appId:null!==a&&void 0!==a&&a.appId?a.appId:"",instanceId:(null===a||void 0===a?void 0:a.instanceId)&&a.instanceId});case 3:return e.abrupt("return",e.sent);case 6:return e.abrupt("return",M.raiseIntent(t,n,null===a||void 0===a?void 0:a.appId));case 7:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"raiseIntentForContext",value:function(){var e=Object(o.a)(Object(s.a)().mark((function e(t,n){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fdc3Methods.raiseIntentForContext(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getSystemChannels",value:function(){return this.fdc3Methods.getSystemChannels()}},{key:"joinChannel",value:function(e){return this.fdc3Methods.joinChannel(e)}},{key:"leaveCurrentChannel",value:function(){return this.fdc3Methods.leaveCurrentChannel()}},{key:"fdc3Ready",value:function(e){return this.fdc3Methods.fdc3Ready(e)}},{key:"getOrCreateChannel",value:function(){var e=Object(o.a)(Object(s.a)().mark((function e(t){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fdc3Methods.getOrCreateChannel(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getInfo",value:function(){var e=Object(o.a)(Object(s.a)().mark((function e(){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fdc3Methods.getInfo();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"findIntentsByContext",value:function(e){return this.fdc3Methods.findIntentsByContext(e)}},{key:"createPrivateChannel",value:function(){var e=Object(o.a)(Object(s.a)().mark((function e(){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",P.createPrivateChannel());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"findInstances",value:function(){var e=Object(o.a)(Object(s.a)().mark((function e(t){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.findInstances(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),z=new U,B=Object(u.a)((function(e){return Object(p.a)({root:{flexGrow:1},toolbar:{backgroundColor:"transparent",padding:e.spacing(2,4),paddingBottom:"0px"},link:{color:e.palette.common.white,textDecoration:"underline","&:hover":{color:e.palette.common.white}},info:{marginLeft:"auto",minWidth:"200px",fontSize:"12px"},fdc3:{},headerCube:{width:"325px",height:"40px"},backgroundHeader:{background:"linear-gradient(to bottom, #0086bf, #00bbe1)",height:"200px",width:"100%",left:"0px",top:"0px",position:"absolute",zIndex:-10},warning:{color:"yellow",fontSize:"10px",transform:"scale(1.5)",marginLeft:"5px"},warningText:{color:"red"},appid:{whiteSpace:"nowrap",overflow:"hidden",textoOverflow:"ellipsis",overflowWrap:"anywhere",maxWidth:"150px"}})})),J=function(e){var t,n=B(),r=Object(a.useState)(),c=Object(l.a)(r,2),i=c[0],d=c[1],u=new URLSearchParams(window.location.search).get("fdc3Version")||"",p=Object(a.useState)(),h=Object(l.a)(p,2),b=h[0],f=h[1],j="Your FDC3 version (".concat(null===i||void 0===i?void 0:i.fdc3Version,") doesn't match the version of the FDC3 Workbench you are using (").concat(b,")"),m=["2.0","1.2"];return Object(a.useEffect)((function(){if(e.fdc3Available){var t=function(){var e=Object(o.a)(Object(s.a)().mark((function e(){var t,n,a,r;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,z.getInfo();case 4:n=e.sent,a={fdc3Version:"not specified",provider:"not specified",providerVersion:"not specified",appMetadata:{appId:"not specified",version:"not specified"}},n.provider&&(a.provider=n.provider),n.providerVersion&&(a.providerVersion=n.providerVersion),n.fdc3Version&&(a.fdc3Version=n.fdc3Version,window.fdc3Version=b||n.fdc3Version),n.appMetadata&&(a.appMetadata={appId:n.appMetadata.appId?n.appMetadata.appId:"not specified",version:n.appMetadata.version?n.appMetadata.version:"not specified"}),d(a),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.error("Failed to retrieve FDC3 implementation info",e.t0);case 16:u?f(u):null!==(t=n)&&void 0!==t&&t.fdc3Version?f(null===(r=n)||void 0===r?void 0:r.fdc3Version):f("1.2");case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(){return e.apply(this,arguments)}}();t()}}),[e.fdc3Available,b]),Object(k.jsxs)("div",{className:n.root,children:[Object(k.jsx)("div",{className:n.backgroundHeader}),Object(k.jsx)(A.a,{position:"static",elevation:0,style:{backgroundColor:"transparent"},children:Object(k.jsxs)(T.a,{className:n.toolbar,children:[Object(k.jsxs)("div",{children:[Object(k.jsx)(x.a,{variant:"h3",color:"inherit",className:n.fdc3,children:Object(k.jsx)("img",{src:"./fdc3-logo.png",className:n.headerCube})}),Object(k.jsx)(x.a,{color:"inherit",children:m.map((function(e,t){return Object(k.jsxs)("span",{children:[e===b?Object(k.jsx)("span",{children:e}):Object(k.jsx)("a",{className:"".concat(n.link),href:"?fdc3Version=".concat(e),children:e}),m.length-1!==t&&Object(k.jsx)("span",{children:" | "})]},t)}))})]}),Object(k.jsx)("div",{className:n.info,children:Object(k.jsx)("table",{id:"providerInfo",children:Object(k.jsxs)("tbody",{children:[Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{scope:"row",children:"FDC3 Version"}),null!==i&&void 0!==i&&i.fdc3Version?b===i.fdc3Version?Object(k.jsx)("td",{children:i.fdc3Version}):Object(k.jsxs)("td",{className:n.warningText,children:[i.fdc3Version,Object(k.jsx)(D.a,{title:j,"aria-label":j,children:Object(k.jsx)(F.a,{className:n.warning})})]}):Object(k.jsx)("td",{children:"unknown"})]}),Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{scope:"row",children:"Provider"}),Object(k.jsx)("td",{children:null!==i&&void 0!==i&&i.provider?i.provider:"unknown"})]}),Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{scope:"row",children:"Provider version"}),Object(k.jsx)("td",{children:null!==i&&void 0!==i&&i.providerVersion?i.providerVersion:"unknown"})]}),Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{scope:"row",children:"My AppId"}),Object(k.jsx)("td",{className:n.appid,children:null!==i&&void 0!==i&&null!==(t=i.appMetadata)&&void 0!==t&&t.appId?i.appMetadata.appId:"unknown"})]})]})})})]})})]})},W=n(287),G=n(150),H=n(234),Y=n(242),q=n(239),X=n(289),_=n(235),K=n(30),Q=n.n(K),Z=n(5),$=n(40),ee=new(function(){function e(){Object(V.a)(this,e),this.snackbarData=null,Object(Z.m)(this,{snackbarData:Z.n,setSnackbar:Z.f,clearSnackbarData:Z.f})}return Object(R.a)(e,[{key:"setSnackbar",value:function(e){this.snackbarData=Object(L.a)(Object(L.a)({},e),{},{id:Object($.a)()})}},{key:"clearSnackbarData",value:function(){this.snackbarData=null}}]),e}()),te=function(){function e(){Object(V.a)(this,e),this.logList=[],Object(Z.m)(this,{logList:Z.n,addLog:Z.f})}return Object(R.a)(e,[{key:"addLog",value:function(e){var t=e.name,n=e.type,a=e.value,r=e.body,c=e.variant,i=function(e,t){var n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r={getFdc3:{error:"The FDC3 API is not ready".concat(a?" (".concat(a,")"):"")},getChannels:{success:"Successfully retrieved System channels",error:"Failed to retrieve System channels"},getCurrentChannel:{success:"Successfully retrieved current channel [".concat(a,"]"),error:"Failed to retrieve current channel"},joinUserChannel:{success:"Successfully joined the [".concat(a,"] channel"),error:"Failed to join the [".concat(a,"] channel")},leaveChannel:{success:"Successfully left the [".concat(a,"] channel"),error:"Failed to leave the [".concat(a,"] channel"),warning:"Not currently joined to a channel"},broadcast:{success:"Successfully broadcast context",error:"Failed to broadcast context:"},appbroadcast:{success:"Successfully broadcast context to channel [".concat(a,"]: "),error:"Failed to broadcast context to channel [".concat(a,"]:")},raiseIntent:{success:"Successfully raised intent [".concat(a,"]"),error:"Failed to raise intent [".concat(a,"]")},raiseIntentForContext:{success:"Successfully raised intent for context",error:"Failed to raise intent for context"},addContextListener:{success:"A context listener for '[".concat(a,"]' has been added"),error:"Failed to add a context listener for '[".concat(a,"]'")},removeContextListener:{success:"A context listener for '[".concat(a,"]' has been removed"),error:"Failed to remove a context listener for '[".concat(a,"]'")},removeAppChannelContextListener:{success:"".concat(a),error:"".concat(a)},addIntentListener:{success:"An intent listener for '[".concat(a,"]' has been added"),error:"Failed to add an intent listener for '[".concat(a,"]'")},removeIntentListener:{success:"An intent listener for '[".concat(a,"]' has been removed"),error:"Failed to remove an intent listener for '[".concat(a,"]'")},receivedContextListener:{info:"Received context via '[".concat(a,"]' listener"),error:"Failed to receive context from '[".concat(a,"]' listener")},receivedAppContextListener:{info:"".concat(a),error:"".concat(a)},addAppContextListener:{info:"".concat(a),error:"".concat(a)},receivedIntentListener:{info:"Received context via '[".concat(a,"]' listener."),error:"Failed to receive context from '[".concat(a,"]' listener.")},saveTemplate:{success:"Saved context template for '[".concat(a,"]'."),error:"Failed to save context template."},deleteTemplate:{success:"Deleted context template for '[".concat(a,"]'."),error:"Failed to delete context template."},copyToClipboard:{info:"".concat(a," code snippet copied to clipboard"),error:"Failed to copy code ".concat(a," snippet to clipboard.")},getOrCreateChannel:{success:"Successfully retrieved or created current app channel [".concat(a,"]"),error:"Failed to retrieve or create app channel ".concat(a,".")},createPrivateChannel:{success:"Successfully created current private channel [".concat(a,"]"),error:"Failed to create private channel ".concat(a,".")},pcAddContextListener:{success:"".concat(a),error:"".concat(a)},pcOnUnsubscribe:{success:"".concat(a),error:"".concat(a)},pcOnDisconnect:{success:"".concat(a),error:"".concat(a)}};return null!==(n=r[e][t])&&void 0!==n?n:""!=a?"".concat(a):"Undefined log message ".concat(e,".").concat(t)}(t,n,a);ee.setSnackbar({message:i,type:n}),this.logList.push({id:Object($.a)(),name:t,type:n,message:i,body:r,variant:null!==c&&void 0!==c?c:"text"})}}]),e}(),ne=new te,ae=function(){function e(){Object(V.a)(this,e),this.userChannels=[],this.currentUserChannel=null,Object(Z.m)(this,{userChannels:Z.n,currentUserChannel:Z.n,getUserChannels:Z.f,joinUserChannel:Z.f,leaveUserChannel:Z.f,getCurrentUserChannel:Z.f}),this.getUserChannels()}return Object(R.a)(e,[{key:"getCurrentUserChannel",value:function(){var e=Object(o.a)(Object(s.a)().mark((function e(){var t,n=this;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.getCurrentChannel();case 3:t=e.sent,Object(Z.o)((function(){ne.addLog({name:"getCurrentChannel",type:"success",value:t?t.id:"none",variant:"text"}),n.currentUserChannel=t})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Object(Z.o)((function(){ne.addLog({name:"getCurrentChannel",type:"error",variant:"text"})}));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"getUserChannels",value:function(){var e=Object(o.a)(Object(s.a)().mark((function e(){var t=this;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:z.fdc3Ready(5e3).then(Object(o.a)(Object(s.a)().mark((function e(){var n,a;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.getSystemChannels();case 3:return n=e.sent,e.next=6,z.getCurrentChannel();case 6:a=e.sent,Object(Z.o)((function(){ne.addLog({name:"getChannels",type:"success"}),t.userChannels=n,t.currentUserChannel=a})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),ne.addLog({name:"getChannels",type:"error",variant:"code",body:JSON.stringify(e.t0,null,4)});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).catch((function(e){ne.addLog({name:"getFdc3",type:"error",variant:"text",value:e})}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"joinUserChannel",value:function(){var e=Object(o.a)(Object(s.a)().mark((function e(t){var n,a,r=this;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.joinChannel(t);case 3:return e.next=5,z.getCurrentChannel();case 5:n=e.sent,a=null!==n,Object(Z.o)((function(){ne.addLog({name:"joinUserChannel",type:a?"success":"error",value:a?null===n||void 0===n?void 0:n.id:t,variant:"text"}),r.currentUserChannel=n})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),ne.addLog({name:"joinUserChannel",type:"error",value:t,variant:"code",body:JSON.stringify(e.t0,null,4)});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"leaveUserChannel",value:function(){var e=Object(o.a)(Object(s.a)().mark((function e(){var t,n,a,r=this;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.getCurrentChannel();case 3:if(t=e.sent){e.next=8;break}ne.addLog({name:"leaveChannel",type:"warning",value:"",variant:"text"}),e.next=15;break;case 8:return e.next=10,z.leaveCurrentChannel();case 10:return e.next=12,z.getCurrentChannel();case 12:t=e.sent,n=null===t,Object(Z.o)((function(){var e;ne.addLog({name:"leaveChannel",type:n?"success":"error",value:null===(e=r.currentUserChannel)||void 0===e?void 0:e.id,variant:"text"}),n&&(r.currentUserChannel=null)}));case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),ne.addLog({name:"leaveChannel",type:"error",value:null===(a=this.currentUserChannel)||void 0===a?void 0:a.id,variant:"code",body:JSON.stringify(e.t0,null,4)});case 20:case"end":return e.stop()}}),e,this,[[0,17]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),re=new ae,ce="// get all user channels\nconst channels = await fdc3.getUserChannels();\n\n// create UI to pick from the user channels\n\n// join the channel on selection\nfdc3.joinUserChannel(selectedChannel.id);",ie="// get the current channel membership\nlet current = await fdc3.getCurrentChannel();\n\n//leave the current channel\nawait fdc3.leaveCurrentChannel();\n//the fdc3Listener will now cease receiving context",se="const instrument = {\n    type: 'fdc3.instrument',\n    id: {\n        ticker: 'AAPL'\n    }\n};\n\nfdc3.broadcast(instrument);",oe="const instrument = {\n    type: 'fdc3.instrument',\n    id: {\n        ticker: 'AAPL'\n    }\n};\n\nappChannelID.broadcast(instrument);",le=function(e,t){return"//Raise an intent with a specified context\n"+"let context = ".concat("null"!==e?e:'{type: "fdc3.instrument", name: "Tesla, inc.", id: {ticker: "TSLA"}}',"; \n")+'fdc3.raiseIntent("'.concat("null"!==t?t:"ViewChart",'", context);')},de=function(e,t){return"//Raise an intent with a specified context\n"+"let context = ".concat("null"!==e?e:'{type: "fdc3.instrument", name: "Tesla, inc.", id: {ticker: "TSLA"}}',"; \n")+"//Find appId in promise result\nlet intent = await fdc3.findIntentsByContext(context); \nlet appId = intent[0].apps[0].appId; \n"+'fdc3.raiseIntent("'.concat("null"!==t?t:"ViewChart",'", context, {appId});')},ue=function(e,t){return"//Raise an intent with a specified context\n"+"let context = ".concat("null"!==e?e:'{type: "fdc3.instrument", name: "Tesla, inc.", id: {ticker: "TSLA"}}',"; \n")+"//Find appId in promise result\nlet intent = await fdc3.findIntentsByContext(context); \nlet appId = intent[0].apps[0].appId; \n//Find instanceId is promise resultlet intances = await fdc3.findInstances({appId}); \nlet instanceId = instances[0].instanceId; \n"+'fdc3.raiseIntent("'.concat("null"!==t?t:"ViewChart",'", context, {appId, instanceId});')},pe="// any context\nconst listener = fdc3.addContextListener(null, context => {\n    //add context handling code here\n});\n\n// listener for a specific type\nconst contactListener = fdc3.addContextListener('fdc3.contact', contact => {\n    //add context handling code here\n});",he="// any context\nconst listener = appChannelID.addContextListener(null, context => {\n    //add context handling code here\n});\n\n// listener for a specific type\nconst contactListener = appChannelID.addContextListener('fdc3.contact', contact => {\n    //add context handling code here\n});",be="const listener = fdc3.addIntentListener('StartChat', context => {\n  // start chat has been requested by another application\n});",fe="const instrument = {\n    type: 'fdc3.instrument',\n    id: {\n        ticker: 'AAPL'\n    }\n};\n\nconst listener = fdc3.addIntentListener('StartChat', context => {\n  // start chat has been requested by another application\n return instrument\n});",je="const listener = fdc3.addIntentListener('StartChat', context => {\n  // start chat has been requested by another application\n const channel = await appChannelStore.getOrCreateChannel(channelName);\n return channel;\n});",xe="const listener = fdc3.addIntentListener('StartChat', context => {\n  // start chat has been requested by another application\n const channel = await fdc3.createPrivateChannel();\n return channel;\n});",me=function(e){return"let context = ".concat("null"!==e?e:'{type: "fdc3.instrument", name: "Tesla, inc.", id: {ticker: "TSLA"}}',"; \n")+"const intentResolution = await fdc3.raiseIntentForContext(context);"},ve=function(e){return"let context = ".concat("null"!==e?e:'{type: "fdc3.instrument", name: "Tesla, inc.", id: {ticker: "TSLA"}}',"; \n")+'//Find appId in promise result\nlet intent = await fdc3.findIntentsByContext(context); \nlet appId = intent[0].apps[0].appId; \nconst intentResolution = await fdc3.raiseIntentForContext(context, {appId});"'},Oe=function(e){return"let context = ".concat("null"!==e?e:'{type: "fdc3.instrument", name: "Tesla, inc.", id: {ticker: "TSLA"}}',"; \n")+"//Find appId in promise result\nlet intent = await fdc3.findIntentsByContext(context); \nlet appId = intent[0].apps[0].appId; \n//Find instanceId is promise resultlet intances = await fdc3.findInstances({appId}); \nlet instanceId = instances[0].instanceId; \nconst intentResolution = await fdc3.raiseIntentForContext(context, {appId, instanceId});"},ge=function(e,t){return function(){navigator.clipboard.writeText(e),Object(Z.o)((function(){ne.addLog({name:"copyToClipboard",type:"info",value:t,variant:"text"})}))}},ye=function(e){var t;e.preventDefault();var n=null===e||void 0===e||null===(t=e.currentTarget)||void 0===t?void 0:t.getAttribute("href");return n&&window.open(n,"FDC3ApiDocs"),!1},Ce=n(284),Le=n(312),we=n(308),ke=[{uuid:Object(we.a)(),id:"Contact example",template:{type:"fdc3.contact",name:"Jane Doe",id:{email:"jane.doe@mail.com"}},schemaUrl:new URL("https://fdc3.finos.org/schemas/1.2/contact.schema.json")},{uuid:Object(we.a)(),id:"ContactList example",template:{type:"fdc3.contactList",contacts:[{type:"fdc3.contact",name:"Jane Doe",id:{email:"jane.doe@mail.com"}},{type:"fdc3.contact",name:"John Doe",id:{email:"john.doe@mail.com"}}]},schemaUrl:new URL("https://fdc3.finos.org/schemas/1.2/contactList.schema.json")},{uuid:Object(we.a)(),id:"Instrument example",template:{type:"fdc3.instrument",name:"Microsoft",id:{ticker:"MSFT",RIC:"MSFT.OQ",ISIN:"US5949181045"}},schemaUrl:new URL("https://fdc3.finos.org/schemas/1.2/instrument.schema.json")},{uuid:Object(we.a)(),id:"InstrumentList example",template:{type:"fdc3.instrumentList",instruments:[{type:"fdc3.instrument",id:{ticker:"AAPL"}},{type:"fdc3.instrument",id:{ticker:"MSFT"}}]},schemaUrl:new URL("https://fdc3.finos.org/schemas/1.2/instrumentList.schema.json")},{uuid:Object(we.a)(),id:"Organization example",template:{type:"fdc3.organization",name:"Cargill, Incorporated",id:{LEI:"QXZYQNMR4JZ5RIRN4T31",FDS_ID:"00161G-E"}},schemaUrl:new URL("https://fdc3.finos.org/schemas/1.2/organization.schema.json")},{uuid:Object(we.a)(),id:"Country example",template:{type:"fdc3.country",name:"Sweden",id:{ISOALPHA3:"SWE"}},schemaUrl:new URL("https://fdc3.finos.org/schemas/1.2/country.schema.json")},{uuid:Object(we.a)(),id:"Position example",template:{type:"fdc3.position",instrument:{type:"fdc3.instrument",id:{ticker:"AAPL"}},holding:2e6},schemaUrl:new URL("https://fdc3.finos.org/schemas/1.2/position.schema.json")},{uuid:Object(we.a)(),id:"Portfolio example",template:{type:"fdc3.portfolio",positions:[{type:"fdc3.position",instrument:{type:"fdc3.instrument",id:{ticker:"AAPL"}},holding:2e6},{type:"fdc3.position",instrument:{type:"fdc3.instrument",id:{ticker:"MSFT"}},holding:15e5},{type:"fdc3.position",instrument:{type:"fdc3.instrument",id:{ticker:"IBM"}},holding:3e6}]},schemaUrl:new URL("https://fdc3.finos.org/schemas/1.2/portfolio.schema.json")}],Ie=function(){function e(){Object(V.a)(this,e),this.contextsList=ke,this.currentContext=null,this.contextListeners=[],Object(Z.m)(this,{contextsList:Z.n,currentContext:Z.n,contextListeners:Z.n,setContext:Z.f,deleteContextItem:Z.f,broadcast:Z.f,addContextItem:Z.f,saveContextItem:Z.f,addContextListener:Z.f,removeContextListener:Z.f});var t=localStorage.getItem("contextList"),n=!0;try{if(t){var a=JSON.parse(t);Array.isArray(a)&&(this.contextsList=a,n=!1)}}catch(r){console.log("Failed to parse context list from localstorage")}n&&this.updateLocalStorage(JSON.stringify(ke))}return Object(R.a)(e,[{key:"addContextItem",value:function(e){e.uuid=Object(we.a)(),this.contextsList.push(e),this.contextsList.sort((function(e,t){return e.id.localeCompare(t.id)})),this.updateLocalStorage(this.contextsList)}},{key:"saveContextItem",value:function(e,t){var n=this.contextsList.find((function(n){var a=n.id;return a===t||a===e.id}));n&&Object.keys(e).forEach((function(t){return n[t]=e[t]})),this.updateLocalStorage(this.contextsList)}},{key:"setContext",value:function(e){this.currentContext=e}},{key:"deleteContextItem",value:function(e){this.contextsList=this.contextsList.filter((function(t){return t!=e})),this.updateLocalStorage(this.contextsList)}},{key:"resetContextList",value:function(){this.contextsList=ke,this.updateLocalStorage(this.contextsList)}},{key:"updateLocalStorage",value:function(e){localStorage.setItem("contextList",JSON.stringify(e))}},{key:"broadcast",value:function(){var e=Object(o.a)(Object(s.a)().mark((function e(t){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=5;break}return ne.addLog({name:"broadcast",type:"warning",value:"You must set a context before you can broadcast it",variant:"text"}),e.abrupt("return");case 5:return e.next=7,z.getCurrentChannel();case 7:if(e.sent){e.next=12;break}ne.addLog({name:"broadcast",type:"warning",value:"You are not currently joined to a channel (no-op)",variant:"text"}),e.next=21;break;case 12:return e.prev=12,e.next=15,z.broadcast(Object(Z.p)(t));case 15:ne.addLog({name:"broadcast",type:"success",body:JSON.stringify(t,null,4),variant:"code"}),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(12),ne.addLog({name:"broadcast",type:"error",body:JSON.stringify(e.t0,null,4),variant:"code"});case 21:case"end":return e.stop()}}),e,null,[[12,18]])})));return function(t){return e.apply(this,arguments)}}()},{key:"addContextListener",value:function(){var e=Object(o.a)(Object(s.a)().mark((function e(t){var n,a,r=this;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"string"!==typeof t){e.next=9;break}return n=Object($.a)(),e.next=5,z.addContextListener("all"===t.toLowerCase()?"null":t,(function(e,a){var c=r.contextListeners.find((function(e){return e.id===n}));Object(Z.o)((function(){c&&(c.lastReceivedContext=e,c.metaData=a)})),ne.addLog({name:"receivedContextListener",type:"info",value:t,variant:"code",body:JSON.stringify(e,null,4)})}));case 5:a=e.sent,Object(Z.o)((function(){ne.addLog({name:"addContextListener",type:"success",value:t,variant:"text"}),r.contextListeners.push({id:n,type:t,listener:a})})),e.next=10;break;case 9:Object(Z.o)((function(){ne.addLog({name:"addContextListener",type:"error",value:t,variant:"code"})}));case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),ne.addLog({name:"addContextListener",type:"error",value:t,variant:"code",body:JSON.stringify(e.t0,null,4)});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"removeContextListener",value:function(){var e=Object(o.a)(Object(s.a)().mark((function e(t){var n,a=this;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1===(n=this.contextListeners.findIndex((function(e){return e.id===t})))){e.next=12;break}return e.prev=2,e.next=5,this.contextListeners[n].listener;case 5:e.sent.unsubscribe(),Object(Z.o)((function(){ne.addLog({name:"removeContextListener",type:"success",value:a.contextListeners[n].type,variant:"text"}),a.contextListeners.splice(n,1)})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),ne.addLog({name:"removeContextListener",type:"error",value:this.contextListeners[n].type,variant:"code",body:JSON.stringify(e.t0,null,4)});case 12:case"end":return e.stop()}}),e,this,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"isContextListenerExists",value:function(e){return!!this.contextListeners.find((function(t){return t.type===e}))}}]),e}(),Se=new Ie,Ne=n(6),Ae=n(282),Te=Object(Ne.a)({root:{"& label.Mui-focused":{color:"#0086bf"},"& .MuiInput-underline:after":{borderBottomColor:"#0086bf"},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"#0086bf"},"&:hover fieldset":{borderColor:"#0086bf"},"&.Mui-focused fieldset":{borderColor:"#0086bf"}}}})(Ae.a),De=n(32),Ee=n.n(De),Fe=Object(u.a)((function(e){return Object(p.a)({root:{flexGrow:1},form:{display:"flex",flexWrap:"wrap",marginTop:e.spacing(1),"& > *":{marginRight:0}},controls:{"& .MuiIconButton-sizeSmall":{padding:"6px 0px 6px 0px"},"& > a":{display:"flex",padding:"6px 0px 6px 0px"}},spread:{flexDirection:"row",justifyContent:"flex-end"},contextListenerName:{flexGrow:1,marginRight:e.spacing(1),minWidth:"190px"},bottomAlignChildren:{display:"flex",alignItems:"end"},rightAlign:{flexDirection:"row",justifyContent:"flex-end"}})})),Ve=Object(Ce.a)(),Re=Object(v.a)((function(){var e=Fe(),t=Object(a.useState)(null),n=Object(l.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)(!1),s=Object(l.a)(i,2),o=s[0],d=s[1],u=Se.contextsList.map((function(e){var t=e.id,n=e.template;return{title:t,value:t,type:null===n||void 0===n?void 0:n.type}}));u.unshift({title:"All",value:"all",type:"All"});var p,b,f=Array.from(new Map(u.reverse().map((function(e){return[e.type,e]}))).values()).reverse();return Object(k.jsxs)("div",{className:e.root,children:[Object(k.jsx)(h.a,{item:!0,xs:12,children:Object(k.jsx)(x.a,{variant:"h5",children:"Add Context Listener"})}),Object(k.jsxs)(h.a,{container:!0,direction:"row",justifyContent:"space-between",className:"".concat(e.controls," ").concat(e.rightAlign),children:[Object(k.jsx)(h.a,{item:!0,className:e.contextListenerName,children:Object(k.jsx)(Le.a,{id:"context-listener",size:"small",selectOnFocus:!0,blurOnSelect:!0,clearOnBlur:!0,handleHomeEndKeys:!0,value:r,onChange:(p=c,b=d,function(e,t){"string"===typeof t?p({title:t,value:t,type:t}):t&&t.inputValue?p({title:t.inputValue,value:t.inputValue,type:t.inputValue}):p(t),b(!1)}),filterOptions:function(e,t){var n=Ve(e,t);return""!==t.inputValue&&n.push({value:t.inputValue,title:'Add "'.concat(t.inputValue,'"'),type:t.inputValue}),n},options:f,getOptionLabel:function(e){return e.type?e.type:e.title},renderOption:function(e){return e.type},renderInput:function(e){return Object(k.jsx)(Te,Object(L.a)(Object(L.a)({label:"CONTEXT TYPE",placeholder:"Enter Context Type",variant:"outlined"},e),{},{error:!!o,helperText:o}))}})}),Object(k.jsx)(h.a,{item:!0,className:e.bottomAlignChildren,children:Object(k.jsxs)(h.a,{container:!0,direction:"row",justifyContent:"flex-end",spacing:1,children:[Object(k.jsx)(h.a,{item:!0,className:e.controls,children:Object(k.jsx)(W.a,{variant:"contained",color:"primary",onClick:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null===e||void 0===e||e.preventDefault(),r?Se.isContextListenerExists(r.type)?d("Listener already added"):(Se.addContextListener(r.type),c(null)):d("Enter context type")},children:"Add Listener"})}),Object(k.jsx)(h.a,{item:!0,className:e.controls,children:Object(k.jsx)(D.a,{title:"Copy code example","aria-label":"Copy code example",children:Object(k.jsx)(G.a,{size:"small","aria-label":"Copy code example",color:"primary",onClick:ge(pe,"addContextListener"),children:Object(k.jsx)(Q.a,{})})})}),Object(k.jsx)(h.a,{item:!0,className:e.controls,children:Object(k.jsx)(m.a,{onClick:ye,target:"FDC3APIDocs",href:"https://fdc3.finos.org/docs/api/ref/Channel#addcontextlistener",children:Object(k.jsx)(Ee.a,{})})})]})})]})]})})),Pe=Object(u.a)((function(e){return Object(p.a)({root:{flexGrow:1},form:{display:"flex",flexWrap:"wrap","& > *":{marginRight:0}},controls:{"& .MuiIconButton-sizeSmall":{padding:"6px",marginLeft:e.spacing(1)}},contextName:{flexGrow:1,minWidth:"190px"},rightAlign:{flexDirection:"row",justifyContent:"flex-end"},link:{cursor:"pointer",color:"black"}})})),Me=Object(Ce.a)(),Ue=Object(v.a)((function(e){var t,n,r=e.handleTabChange,c=e.contextStateSetter,i=e.channel,s=Pe(),o=Object(a.useState)(null),d=Object(l.a)(o,2),u=d[0],p=d[1],b=Object(a.useState)(!1),f=Object(l.a)(b,2),j=f[0],x=f[1],m=Se.contextsList.map((function(e){var t=e.id;return{title:t,value:t}})),v=Object(a.useRef)(!0);return Object(a.useEffect)((function(){v.current?v.current=!1:Se.contextsList.find((function(e){return e.id===(null===u||void 0===u?void 0:u.value)}))||r(null,0,null===u||void 0===u?void 0:u.value)}),[u]),Object(k.jsx)("div",{className:s.root,children:Object(k.jsx)(h.a,{container:!0,direction:"row",spacing:1,justifyContent:"space-between",className:"".concat(s.controls," ").concat(s.rightAlign),children:Object(k.jsx)(h.a,{item:!0,className:s.contextName,children:Object(k.jsx)(Le.a,{id:"context-",size:"small",selectOnFocus:!0,blurOnSelect:!0,clearOnBlur:!0,handleHomeEndKeys:!0,value:u,onChange:(t=p,n=x,function(e,a){var r=Se.contextsList.find((function(e){return e.id===(null===a||void 0===a?void 0:a.value)}));r&&c(r.template,i),"string"===typeof a?t({title:a,value:a}):a&&a.inputValue?t({title:a.inputValue,value:a.inputValue}):t(a),n(!1)}),getOptionSelected:function(e,t){return e.value===t.value},filterOptions:function(e,t){var n=Me(e,t);return""!==t.inputValue&&n.push({value:t.inputValue,title:'Add "'.concat(t.inputValue,'"')}),n},options:m,getOptionLabel:function(e){return e.value||e.title},renderOption:function(e){return e.title},renderInput:function(e){return Object(k.jsx)(Te,Object(L.a)(Object(L.a)({label:"CONTEXT ",placeholder:"Enter Context Type",variant:"outlined"},e),{},{error:!!j,helperText:j}))}})})})})})),ze=Object(u.a)((function(e){return Object(p.a)({root:{flexGrow:1},form:{display:"flex",flexWrap:"wrap",alignItems:"center",marginTop:e.spacing(1),"& > *":{margin:e.spacing(1)},"& > *:first-child":{marginLeft:0,paddingLeft:0},"& > * > *:first-child":{marginLeft:0,paddingLeft:0}},channelsSelect:{width:"100%",marginRight:e.spacing(1)},controls:{"& .MuiIconButton-sizeSmall":{padding:"6px 0px 6px 0px"},"& > a":{display:"flex",padding:"6px 0px 6px 0px"}},border:{height:"1px",width:"100%",backgroundColor:"#acb2c0",marginTop:"24px",marginBottom:"16px"},bottomAlignChildren:{display:"flex",alignItems:"end"},dropDown:{flexGrow:1,marginRight:e.spacing(1),minWidth:"190px"},rightAlign:{flexDirection:"row",justifyContent:"flex-end"}})})),Be=Object(v.a)((function(e){var t,n,r=e.handleTabChange,c=ze(),i=Object(a.useState)(""),s=Object(l.a)(i,2),o=s[0],d=s[1],u=Object(a.useState)(!1),p=Object(l.a)(u,2),b=p[0],f=p[1],j=Object(a.useState)(null),v=Object(l.a)(j,2),O=v[0],g=v[1];return Object(k.jsxs)("div",{className:c.root,children:[Object(k.jsx)(h.a,{item:!0,xs:12,children:Object(k.jsx)(x.a,{variant:"h5",children:"Current Channel"})}),Object(k.jsxs)(h.a,{container:!0,direction:"row",justifyContent:"space-between",className:"".concat(c.controls," ").concat(c.rightAlign),children:[Object(k.jsx)(h.a,{item:!0,className:c.dropDown,children:Object(k.jsx)(x.a,{variant:"body1",children:null!==(t=null===(n=re.currentUserChannel)||void 0===n?void 0:n.id)&&void 0!==t?t:"None"})}),Object(k.jsx)(h.a,{item:!0,children:Object(k.jsxs)(h.a,{container:!0,direction:"row",justifyContent:"flex-end",spacing:1,children:[Object(k.jsx)(h.a,{item:!0,className:c.controls,children:Object(k.jsx)(W.a,{variant:"contained",color:"primary",onClick:function(){re.getCurrentUserChannel()},children:"Refresh"})}),Object(k.jsx)(h.a,{item:!0,className:c.controls,children:Object(k.jsx)(W.a,{variant:"contained",color:"primary",onClick:function(){re.leaveUserChannel()},children:"Leave"})}),Object(k.jsx)(h.a,{item:!0,className:c.controls,children:Object(k.jsx)(D.a,{title:"Copy code example","aria-label":"Copy code example",children:Object(k.jsx)(G.a,{size:"small","aria-label":"Copy code example",color:"primary",onClick:ge(ie,"getCurrentUserChannel"),children:Object(k.jsx)(Q.a,{})})})}),Object(k.jsx)(h.a,{item:!0,className:c.controls,children:Object(k.jsx)(m.a,{onClick:ye,target:"FDC3APIDocs",href:"https://fdc3.finos.org/docs/api/ref/DesktopAgent#getcurrentchannel",children:Object(k.jsx)(Ee.a,{})})})]})})]}),Object(k.jsx)("div",{className:c.border}),Object(k.jsx)(h.a,{item:!0,xs:12,children:Object(k.jsx)(x.a,{variant:"h5",children:"Join User Channels"})}),Object(k.jsxs)(h.a,{container:!0,direction:"row",justifyContent:"space-between",className:"".concat(c.controls," ").concat(c.rightAlign),children:[Object(k.jsx)(h.a,{item:!0,className:c.dropDown,children:Object(k.jsxs)(H.a,{variant:"outlined",className:c.channelsSelect,size:"small",error:b,children:[Object(k.jsx)(Y.a,{id:"channel",children:"Channel"}),Object(k.jsxs)(q.a,{labelId:"channel",id:"channel-select",value:null!==o&&void 0!==o?o:"",onChange:function(e){d(e.target.value),f(!1)},label:"User Channel",MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},children:[!re.userChannels.length&&Object(k.jsx)(X.a,{value:"",disabled:!0,children:"No channels received"}),re.userChannels.length&&Object(k.jsx)(X.a,{value:"",style:{height:"0",padding:"0"}}),re.userChannels.length&&re.userChannels.map((function(e){var t=e.id;return Object(k.jsx)(X.a,{value:t,children:t},t)}))]}),b&&Object(k.jsx)(_.a,{children:"Select channel from list"})]})}),Object(k.jsx)(h.a,{item:!0,xs:12,sm:3,className:c.bottomAlignChildren,children:Object(k.jsxs)(h.a,{container:!0,direction:"row",justifyContent:"flex-end",spacing:1,children:[Object(k.jsx)(h.a,{item:!0,className:c.controls,children:Object(k.jsx)(W.a,{variant:"contained",color:"primary",onClick:function(){o?(re.joinUserChannel(o),d("")):f(!0)},children:"Join"})}),Object(k.jsx)(h.a,{item:!0,className:c.controls,children:Object(k.jsx)(D.a,{title:"Copy code example","aria-label":"Copy code example",children:Object(k.jsx)(G.a,{size:"small","aria-label":"Copy code example",color:"primary",onClick:ge(ce,"joinUserChannel"),children:Object(k.jsx)(Q.a,{})})})}),Object(k.jsx)(h.a,{item:!0,className:c.controls,children:Object(k.jsx)(m.a,{onClick:ye,target:"FDC3APIDocs",href:"https://fdc3.finos.org/docs/api/ref/DesktopAgent#joinuserchannel",children:Object(k.jsx)(Ee.a,{})})})]})})]}),Object(k.jsx)("div",{className:c.border}),Object(k.jsx)(h.a,{item:!0,xs:12,children:Object(k.jsx)(x.a,{variant:"h5",children:"Broadcast context"})}),Object(k.jsxs)(h.a,{container:!0,direction:"row",justifyContent:"space-between",className:"".concat(c.controls," ").concat(c.rightAlign),children:[Object(k.jsx)(h.a,{item:!0,className:c.dropDown,children:Object(k.jsx)(Ue,{handleTabChange:r,contextStateSetter:g})}),Object(k.jsx)(h.a,{item:!0,className:c.bottomAlignChildren,children:Object(k.jsxs)(h.a,{container:!0,direction:"row",justifyContent:"flex-end",spacing:1,children:[Object(k.jsx)(h.a,{item:!0,className:c.controls,children:Object(k.jsx)(W.a,{disabled:!O,variant:"contained",color:"primary",onClick:function(){O&&Se.broadcast(O)},children:"Broadcast"})}),Object(k.jsx)(h.a,{item:!0,className:c.controls,children:Object(k.jsx)(D.a,{title:"Copy code example","aria-label":"Copy code example",children:Object(k.jsx)(G.a,{size:"small","aria-label":"Copy code example",color:"primary",onClick:ge(se,"broadcast"),children:Object(k.jsx)(Q.a,{})})})}),Object(k.jsx)(h.a,{item:!0,className:c.controls,children:Object(k.jsx)(m.a,{onClick:ye,target:"FDC3APIDocs",href:"https://fdc3.finos.org/docs/api/ref/DesktopAgent#broadcast",children:Object(k.jsx)(Ee.a,{})})})]})}),Object(k.jsx)("div",{className:c.border}),Object(k.jsx)(Re,{})]})]})})),Je=n(95),We=n.n(Je),Ge=n(283),He=n(236),Ye=n(292),qe=n(293),Xe=n(315),_e=n(290),Ke=n(291),Qe=n(142),Ze=n.n(Qe),$e=Object(u.a)((function(e){return Object(p.a)({accordion:{margin:e.spacing(1,0,0,0),boxShadow:"none","&::before":{display:"none"},"&.Mui-expanded":{margin:e.spacing(1,0,0,0)}},accordionSummary:{border:"none",padding:0,minHeight:"initial","&.Mui-expanded":{minHeight:"initial"},"& .MuiAccordionSummary-content":{margin:"0 12px 0 0","&.Mui-expanded":{margin:"0 12px 0 0"}},"& .MuiAccordionSummary-expandIcon":{padding:"6px"}},accordionDetails:{paddingTop:0,paddingLeft:0,flexDirection:"column"},accordionTitle:{color:"#0086bf",fontSize:"16px"},expand_icon:{color:"#0086bf"},icon:{marginBottom:"-1px !important",fontSize:"15px",marginLeft:"5px"}})})),et=function(e){var t=e.icon,n=e.title,a=e.children,r=$e();return Object(k.jsxs)(Xe.a,{className:r.accordion,defaultExpanded:!0,children:[Object(k.jsx)(_e.a,{className:r.accordionSummary,expandIcon:Object(k.jsx)(Ze.a,{className:r.expand_icon}),"aria-label":"Expand","aria-controls":"additional-actions1-content",id:"additional-actions1-header",children:Object(k.jsxs)(x.a,{variant:"h5",className:r.accordionTitle,children:[n,t&&Object(k.jsx)(D.a,{title:t,"aria-label":t,children:Object(k.jsx)(We.a,{className:r.icon})})]})}),Object(k.jsx)(Ke.a,{className:r.accordionDetails,children:a})]})},tt=n(143),nt=n.n(tt),at=Object(u.a)((function(e){return Object(p.a)({list:{padding:0,width:"100%"},listItem:{padding:0,"&.MuiListItem-secondaryAction":{paddingRight:e.spacing(6)}},listAction:{top:"2px",transform:"none"}})})),rt=function(e){var t=e.title,n=e.icon,a=e.listItems,r=e.noItemsText,c=e.onDelete,i=at(),s=function(e){return function(){c&&c(e)}};return Object(k.jsxs)(et,{title:t,icon:n,children:[!a.length&&Object(k.jsx)(x.a,{variant:"body1",children:r}),!!a.length&&Object(k.jsx)(Ge.a,{className:i.list,children:a.map((function(e){var t=e.id,n=e.textPrimary,a=e.afterEachElement;return Object(k.jsxs)(He.a,{className:i.listItem,disableGutters:!0,children:[Object(k.jsx)(Ye.a,{disableTypography:!0,primary:n,secondary:a}),Object(k.jsx)(qe.a,{className:i.listAction,children:c&&Object(k.jsx)(G.a,{size:"small",edge:"end","aria-label":"delete",onClick:s(t),children:Object(k.jsx)(nt.a,{})})})]},t)}))})]})},ct=Object(u.a)((function(e){return Object(p.a)({textField:{marginTop:e.spacing(2),width:"100%"},input:{fontSize:"14px"}})})),it=Object(v.a)((function(e){var t=e.metaData,n=ct(),a=null!==t&&void 0!==t&&t.source?"appId: ".concat(t.source.appId,"\ninstanceId: ").concat(t.source.instanceId):"METADATA NOT PROVIDED";return Object(k.jsx)(Ae.a,{disabled:!0,label:"RECEIVED FROM",className:n.textField,InputLabelProps:{shrink:!0},contentEditable:!1,fullWidth:!0,multiline:!0,variant:"outlined",size:"small",value:a,InputProps:{classes:{input:n.input}}})})),st=Object(u.a)((function(e){return Object(p.a)({textField:{marginTop:e.spacing(2),width:"100%"},input:{fontSize:"14px"}})})),ot=Object(v.a)((function(){var e=st(),t=Se.contextListeners.map((function(t){var n=t.id,a=t.type,r=t.lastReceivedContext,c=t.metaData,i=r?JSON.stringify(r,void 0,4):"",s=Object(k.jsxs)("div",{children:[Object(k.jsx)(Ae.a,{disabled:!0,label:"LAST RECEIVED CONTEXT",className:e.textField,InputLabelProps:{shrink:!0},contentEditable:!1,fullWidth:!0,multiline:!0,variant:"outlined",size:"small",value:i,InputProps:{classes:{input:e.input}}}),"2.0"===window.fdc3Version&&Object(k.jsx)(it,{metaData:c})]});return{id:n,textPrimary:"".concat(a),afterEachElement:s}}));return Object(k.jsx)(rt,{title:"System Channels",icon:"Any context already in the channel will be received automatically",noItemsText:"No System Channels Listeners",listItems:t,onDelete:function(e){Se.removeContextListener(e)}})})),lt=[{title:"StartCall",value:"StartCall"},{title:"StartChat",value:"StartChat"},{title:"ViewChart",value:"ViewChart"},{title:"ViewContact",value:"ViewContact"},{title:"ViewQuote",value:"ViewQuote"},{title:"ViewNews",value:"ViewNews"},{title:"ViewAnalysis",value:"ViewAnalysis"},{title:"ViewInstrument",value:"ViewInstrument"}],dt=function(){function e(){Object(V.a)(this,e),this.appChannelsList=[],this.currentAppChannel=null,this.channelListeners=[],Object(Z.m)(this,{appChannelsList:Z.n,currentAppChannel:Z.n,channelListeners:Z.n,getOrCreateChannel:Z.f,leaveChannel:Z.f,broadcast:Z.f})}return Object(R.a)(e,[{key:"getOrCreateChannel",value:function(){var e=Object(o.a)(Object(s.a)().mark((function e(t){var n,a;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.getOrCreateChannel(t);case 3:return n=e.sent,(a=null!==n)&&(this.currentAppChannel={id:t,channel:n},this.appChannelsList.find((function(e){return e.id===t}))||this.appChannelsList.push(this.currentAppChannel)),Object(Z.o)((function(){ne.addLog({name:"getOrCreateChannel",type:a?"success":"error",value:a?null===n||void 0===n?void 0:n.id:t,variant:"text"})})),e.abrupt("return",n);case 10:return e.prev=10,e.t0=e.catch(0),ne.addLog({name:"getOrCreateChannel",type:"error",value:t,variant:"code",body:JSON.stringify(e.t0,null,4)}),e.abrupt("return");case 14:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"isContextListenerExists",value:function(e,t){var n;return!(null===(n=this.channelListeners)||void 0===n||!n.find((function(n){return n.type===t&&n.channelId===e})))}},{key:"isAppChannelExists",value:function(e){return!!this.appChannelsList.find((function(t){return t.id===e}))}},{key:"broadcast",value:function(){var e=Object(o.a)(Object(s.a)().mark((function e(t,n){var a,r;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.id,n||ne.addLog({name:"appbroadcast",type:"warning",value:"You must set a context before you can broadcast it to channel: ".concat(a),variant:"text"}),r=this.appChannelsList.find((function(e){return e.id===a}))){e.next=6;break}return ne.addLog({name:"appbroadcast",type:"warning",value:"You are not currently joined to a channel (no-op)",variant:"text"}),e.abrupt("return");case 6:return e.prev=6,e.next=9,r.channel.broadcast(Object(Z.p)(n));case 9:ne.addLog({name:"appbroadcast",type:"success",body:JSON.stringify(n,null,4),variant:"code",value:a}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(6),ne.addLog({name:"appbroadcast",type:"error",body:JSON.stringify(e.t0,null,4),variant:"code",value:a});case 15:case"end":return e.stop()}}),e,this,[[6,12]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"leaveChannel",value:function(){var e=Object(o.a)(Object(s.a)().mark((function e(){var t,n,a,r=this;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.getCurrentChannel();case 3:if(t=e.sent){e.next=8;break}ne.addLog({name:"leaveChannel",type:"warning",value:"",variant:"text"}),e.next=15;break;case 8:return e.next=10,z.leaveCurrentChannel();case 10:return e.next=12,z.getCurrentChannel();case 12:t=e.sent,n=null===t,Object(Z.o)((function(){var e;ne.addLog({name:"leaveChannel",type:n?"success":"error",value:null===(e=r.currentAppChannel)||void 0===e?void 0:e.id,variant:"text"}),n&&(r.currentAppChannel=null)}));case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),ne.addLog({name:"leaveChannel",type:"error",value:null===(a=this.currentAppChannel)||void 0===a?void 0:a.id,variant:"code",body:JSON.stringify(e.t0,null,4)});case 20:case"end":return e.stop()}}),e,this,[[0,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"addChannelListener",value:function(){var e=Object(o.a)(Object(s.a)().mark((function e(t,n){var a,r,c,i,o=this;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.id,e.prev=1,r=this.appChannelsList.find((function(e){return e.id===a})),this.channelListeners.find((function(e){return e.type===n&&e.channelId===a}))||!r||void 0===n){e.next=10;break}return c=Object($.a)(),e.next=8,r.channel.addContextListener("all"===(null===n||void 0===n?void 0:n.toLowerCase())?null:n,(function(e,t){var r=o.channelListeners.find((function(e){return e.type===n&&e.channelId===a}));Object(Z.o)((function(){r&&(r.lastReceivedContext=e,r.metaData=t)})),ne.addLog({name:"receivedAppContextListener",type:"info",value:"Channel [".concat(a,"] Received context via '[").concat(n,"]' listener"),variant:"code",body:JSON.stringify(e,null,4)})}));case 8:i=e.sent,Object(Z.o)((function(){ne.addLog({name:"addAppContextListener",type:"success",value:"A context listener for '[".concat(n,"]' has been added on channel [").concat(a,"]"),variant:"text"}),o.channelListeners.push({id:c,type:n,listener:i,channelId:a})}));case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),ne.addLog({name:"addAppContextListener",type:"error",value:"Failed to add a context listener for '[".concat(n,"]' on channel [").concat(a,"]"),variant:"code",body:JSON.stringify(e.t0,null,4)});case 15:case"end":return e.stop()}}),e,this,[[1,12]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeContextListener",value:function(e){var t,n=this,a=null===(t=this.channelListeners)||void 0===t?void 0:t.findIndex((function(t){return t.id===e})),r=this.channelListeners[a];if(-1!==a)try{this.channelListeners[a].listener.unsubscribe(),Object(Z.o)((function(){ne.addLog({name:"removeAppChannelContextListener",type:"success",value:"A context listener for '[".concat(r.type,"]' for channel [").concat(r.channelId,"] has been removed"),variant:"text"}),n.channelListeners.splice(a,1)}))}catch(c){ne.addLog({name:"removeAppChannelContextListener",type:"error",value:"Failed to remove a context listener for '[".concat(r.type,"]' on channel [").concat(r.channelId,"]"),variant:"code",body:JSON.stringify(c,null,4)})}}},{key:"remove",value:function(e){var t=this;this.channelListeners.forEach((function(e){return t.removeContextListener(e.id)})),this.appChannelsList=this.appChannelsList.filter((function(t){return t.id!==e.id}))}}]),e}(),ut=new dt,pt=function(){function e(){Object(V.a)(this,e),this.privateChannelsList=[],this.currentPrivateChannel=null,this.channelListeners=[],Object(Z.m)(this,{privateChannelsList:Z.n,currentPrivateChannel:Z.n,channelListeners:Z.n,createPrivateChannel:Z.f,broadcast:Z.f,onAddContextListener:Z.f,onDisconnect:Z.f,onUnsubscribe:Z.f,disconnect:Z.f})}return Object(R.a)(e,[{key:"createPrivateChannel",value:function(){var e=Object(o.a)(Object(s.a)().mark((function e(){var t,n;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.createPrivateChannel();case 3:return t=e.sent,(n=null!==t)&&this.privateChannelsList.push(t),Object(Z.o)((function(){ne.addLog({name:"createPrivateChannel",type:n?"success":"error",value:n&&(null===t||void 0===t)?void 0:t.id,variant:"text"})})),e.abrupt("return",t);case 10:e.prev=10,e.t0=e.catch(0),ne.addLog({name:"createPrivateChannel",type:"error",value:"",variant:"code",body:JSON.stringify(e.t0,null,4)});case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"isContextListenerExists",value:function(e,t){var n;return!(null===(n=this.channelListeners)||void 0===n||!n.find((function(n){return n.type===t&&n.channelId===e})))}},{key:"isPrivateChannelExists",value:function(e){return!!this.privateChannelsList.find((function(t){return t.id===e}))}},{key:"broadcast",value:function(){var e=Object(o.a)(Object(s.a)().mark((function e(t,n){var a;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.id,n||ne.addLog({name:"appbroadcast",type:"warning",value:"You must set a context before you can broadcast it to channel: ".concat(a),variant:"text"}),t){e.next=5;break}return ne.addLog({name:"appbroadcast",type:"warning",value:"You are not currently joined to a channel (no-op)",variant:"text"}),e.abrupt("return");case 5:return e.prev=5,e.next=8,t.broadcast(Object(Z.p)(n));case 8:ne.addLog({name:"appbroadcast",type:"success",body:JSON.stringify(n,null,4),variant:"code",value:a}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),ne.addLog({name:"appbroadcast",type:"error",body:JSON.stringify(e.t0,null,4),variant:"code",value:a});case 14:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"addChannelListener",value:function(){var e=Object(o.a)(Object(s.a)().mark((function e(t,n){var a,r,c,i=this;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.id,e.prev=1,this.channelListeners.find((function(e){return e.type===n&&e.channelId===a}))||!t||void 0===n){e.next=9;break}return r=Object($.a)(),e.next=7,t.addContextListener("all"===(null===n||void 0===n?void 0:n.toLowerCase())?null:n,(function(e,t){var r=i.channelListeners.find((function(e){return e.type===n&&e.channelId===a}));Object(Z.o)((function(){r&&(r.lastReceivedContext=e,r.metaData=t)})),ne.addLog({name:"receivedAppContextListener",type:"info",value:"Channel [".concat(a,"] Received context via '[").concat(n,"]' listener"),variant:"code",body:JSON.stringify(e,null,4)})}));case 7:c=e.sent,Object(Z.o)((function(){i.channelListeners.push({id:r,type:n,listener:c,channelId:a})}));case 9:e.next=13;break;case 11:e.prev=11,e.t0=e.catch(1);case 13:case"end":return e.stop()}}),e,this,[[1,11]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeContextListener",value:function(e){var t,n=this,a=null===(t=this.channelListeners)||void 0===t?void 0:t.findIndex((function(t){return t.id===e})),r=this.channelListeners[a];if(-1!==a)try{this.channelListeners[a].listener.unsubscribe(),Object(Z.o)((function(){ne.addLog({name:"removeAppChannelContextListener",type:"success",value:"A context listener for '[".concat(r.type,"]' for channel [").concat(r.channelId,"] has been removed"),variant:"text"}),n.channelListeners.splice(a,1)}))}catch(c){ne.addLog({name:"removeAppChannelContextListener",type:"error",value:"Failed to remove a context listener for '[".concat(r.type,"]' on channel [").concat(r.channelId,"]"),variant:"code",body:JSON.stringify(c,null,4)})}}},{key:"onAddContextListener",value:function(e,t,n){var a=this;e.onAddContextListener((function(){try{ne.addLog({name:"pcAddContextListener",type:"success",value:"A context listener for '[all]' has been added on channel [".concat(e.id,"]")}),0!==Object.keys(t).length&&Object.keys(t).forEach((function(r){var c=setTimeout(Object(o.a)(Object(s.a)().mark((function n(){return Object(s.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a.broadcast(e,t[r]),clearTimeout(c);case 2:case"end":return n.stop()}}),n)}))),n[r])}))}catch(r){ne.addLog({name:"pcAddContextListener",type:"error",value:"Failed to add a context listener for '[all]' on channel [".concat(e.id,"]")})}}))}},{key:"onUnsubscribe",value:function(e){e.onUnsubscribe((function(){try{ne.addLog({name:"pcOnUnsubscribe",type:"success",value:"Sucessfully unsubscribed from listener '[all]' for channel [".concat(e.id,"]")})}catch(t){ne.addLog({name:"pcOnUnsubscribe",type:"error",value:"Could not unsubscribed listener '[all]' from channel [".concat(e.id,"]")})}}))}},{key:"onDisconnect",value:function(e){var t=this;e.onDisconnect((function(){try{t.channelListeners.forEach((function(e){t.removeContextListener(e.id)})),t.privateChannelsList=t.privateChannelsList.filter((function(t){return t.id!==e.id})),ne.addLog({name:"pcOnDisconnect",type:"success",value:"Sucessfully disconntected from channel [".concat(e.id,"]")})}catch(n){ne.addLog({name:"pcOnDisconnect",type:"error",value:"Unable to disconnect from channel [".concat(e.id,"]")})}}))}},{key:"disconnect",value:function(e){var t=this;this.channelListeners.forEach((function(e){t.removeContextListener(e.id)})),this.privateChannelsList=this.privateChannelsList.filter((function(t){return t.id!==e.id})),e.disconnect()}}]),e}(),ht=new pt,bt=function(){function e(){Object(V.a)(this,e),this.intentsList=lt,this.intentListeners=[],Object(Z.m)(this,{intentsList:Z.n,intentListeners:Z.n,raiseIntent:Z.f,addIntentListener:Z.f,removeIntentListener:Z.f,raiseIntentForContext:Z.f})}return Object(R.a)(e,[{key:"addIntentListener",value:function(){var e=Object(o.a)(Object(s.a)().mark((function e(t,n,a,r,c,i){var l,d,u=this;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l=Object($.a)(),e.next=4,z.addIntentListener(t,function(){var e=Object(o.a)(Object(s.a)().mark((function e(d,p){var h,b;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h=u.intentListeners.find((function(e){return e.id===l})),!a||r){e.next=5;break}return e.next=4,ut.getOrCreateChannel(a);case 4:b=e.sent;case 5:if(!r||a){e.next=13;break}return e.next=8,ht.createPrivateChannel();case 8:b=e.sent,ht.addChannelListener(b,"all"),ht.onDisconnect(b),ht.onUnsubscribe(b),ht.onAddContextListener(b,c,i);case 13:if(r||!b){e.next=20;break}if(0===Object.keys(c).length){e.next=18;break}Object.keys(c).forEach((function(e){var t=setTimeout(Object(o.a)(Object(s.a)().mark((function n(){return Object(s.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:ut.broadcast(b,c[e]),clearTimeout(t);case 2:case"end":return n.stop()}}),n)}))),i[e])})),e.next=20;break;case 18:return e.next=20,b.broadcast(d);case 20:return Object(Z.o)((function(){h&&(h.lastReceivedContext=d,h.metaData=p)})),ne.addLog({name:"receivedIntentListener",type:"info",value:t,variant:"code",body:JSON.stringify(d,null,4)}),e.abrupt("return",b||n);case 23:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 4:d=e.sent,Object(Z.o)((function(){ne.addLog({name:"addIntentListener",type:"success",value:t,variant:"text"}),u.intentListeners.push({id:l,type:t,listener:d})})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ne.addLog({name:"addIntentListener",type:"error",value:t,variant:"code",body:JSON.stringify(e.t0,null,4)});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n,a,r,c,i){return e.apply(this,arguments)}}()},{key:"removeIntentListener",value:function(){var e=Object(o.a)(Object(s.a)().mark((function e(t){var n,a=this;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1===(n=this.intentListeners.findIndex((function(e){return e.id===t})))){e.next=12;break}return e.prev=2,e.next=5,this.intentListeners[n].listener;case 5:e.sent.unsubscribe(),Object(Z.o)((function(){ne.addLog({name:"removeIntentListener",type:"success",value:a.intentListeners[n].type,variant:"text"}),a.intentListeners.splice(n,1)})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),ne.addLog({name:"removeIntentListener",type:"error",value:this.intentListeners[n].type,variant:"code",body:JSON.stringify(e.t0,null,4)});case 12:case"end":return e.stop()}}),e,this,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"raiseIntent",value:function(){var e=Object(o.a)(Object(s.a)().mark((function e(t,n,a){var r;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=3;break}return ne.addLog({name:"raiseIntent",type:"error",value:t}),e.abrupt("return");case 3:if(e.prev=3,!a){e.next=10;break}return e.next=7,z.raiseIntent(t,Object(Z.p)(n),a);case 7:r=e.sent,e.next=13;break;case 10:return e.next=12,z.raiseIntent(t,Object(Z.p)(n));case 12:r=e.sent;case 13:return ne.addLog({name:"raiseIntent",type:"success",value:t,variant:"code",body:JSON.stringify(r,null,4)}),e.abrupt("return",r);case 17:e.prev=17,e.t0=e.catch(3),ne.addLog({name:"raiseIntent",type:"error",value:t,variant:"code",body:JSON.stringify(e.t0,null,4)});case 20:case"end":return e.stop()}}),e,null,[[3,17]])})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"raiseIntentForContext",value:function(){var e=Object(o.a)(Object(s.a)().mark((function e(t,n){var a;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return ne.addLog({name:"raiseIntentForContext",type:"error"}),e.abrupt("return");case 3:if(e.prev=3,!n){e.next=10;break}return e.next=7,z.raiseIntentForContext(Object(Z.p)(t),n);case 7:a=e.sent,e.next=13;break;case 10:return e.next=12,z.raiseIntentForContext(Object(Z.p)(t));case 12:a=e.sent;case 13:return ne.addLog({name:"raiseIntentForContext",type:"success"}),e.abrupt("return",a);case 17:e.prev=17,e.t0=e.catch(3),console.log(e.t0),ne.addLog({name:"raiseIntentForContext",type:"error"});case 21:case"end":return e.stop()}}),e,null,[[3,17]])})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),ft=new bt,jt=Object(u.a)((function(e){return Object(p.a)({textField:{marginTop:e.spacing(2),width:"100%"},input:{fontSize:"14px",color:"rgba(0, 0, 0, 0.6)"},"& .Mui-disabled":{borderColor:e.palette.text.primary}})})),xt=Object(v.a)((function(){var e=jt(),t=ft.intentListeners.map((function(t){var n=t.id,a=t.type,r=t.lastReceivedContext,c=t.metaData,i=r?JSON.stringify(r,void 0,4):"",s=Object(k.jsxs)("div",{children:[Object(k.jsx)(Ae.a,{disabled:!0,label:"LAST RECEIVED CONTEXT",className:e.textField,InputLabelProps:{shrink:!0},contentEditable:!1,fullWidth:!0,multiline:!0,variant:"outlined",size:"small",value:i,InputProps:{classes:{input:e.input}}}),"2.0"===window.fdc3Version&&Object(k.jsx)(it,{metaData:c})]});return{id:n,textPrimary:"".concat(a),afterEachElement:s}}));return Object(k.jsx)(rt,{title:"Intents",noItemsText:"No Intent Listeners",listItems:t,onDelete:function(e){ft.removeIntentListener(e)}})})),mt=Object(u.a)((function(e){return Object(p.a)({textField:{marginTop:e.spacing(2),width:"100%"},input:{fontSize:"14px"}})})),vt=Object(v.a)((function(){var e=mt(),t=[];ut.channelListeners.forEach((function(n){var a=n.id,r=n.channelId,c=n.type,i=n.lastReceivedContext,s=n.metaData,o=i?JSON.stringify(i,void 0,4):"",l=Object(k.jsxs)("div",{children:[Object(k.jsx)(Ae.a,{disabled:!0,label:"LAST RECEIVED CONTEXT",className:e.textField,InputLabelProps:{shrink:!0},contentEditable:!1,fullWidth:!0,multiline:!0,variant:"outlined",size:"small",value:o,InputProps:{classes:{input:e.input}}}),"2.0"===window.fdc3Version&&Object(k.jsx)(it,{metaData:s})]});t.push({id:a,textPrimary:"".concat(r,": ").concat(c),afterEachElement:l})}));return Object(k.jsx)(rt,{title:"App Channels",icon:"Any context already in the channel will NOT be received automatically",noItemsText:"No App Channel Listeners",listItems:t,onDelete:function(e){ut.removeContextListener(e)}})})),Ot=function(e){var t=e.logItem,n=function(e){return Object(u.a)((function(t){return Object(p.a)({root:{flexDirection:"column",justifyContent:"flex-start",alignItems:"flex-start",padding:t.spacing(3,0),"&:first-child":{borderTop:"1px solid rgba(0, 0, 0, 0.12)"}},message:{color:t.palette[e.logItem.type].dark},textField:{width:"100%"},input:{fontSize:"14px",color:t.palette.text.primary},"& .Mui-disabled":{borderColor:t.palette.text.primary}})}))}(e)();return Object(k.jsxs)(He.a,{className:n.root,divider:!0,children:[Object(k.jsx)(x.a,{className:n.message,variant:"body1",children:t.message}),"code"===t.variant&&Object(k.jsx)(Ae.a,{disabled:!0,className:n.textField,id:t.id,contentEditable:!1,fullWidth:!0,multiline:!0,variant:"outlined",size:"small",value:t.body,InputProps:{classes:{input:n.input}}}),"text"===t.variant&&t.body&&Object(k.jsxs)(x.a,{variant:"body1",children:["error"===t.type&&"ERROR:","warning"===t.type&&"WARNING:","info"===t.type&&"INFO:","success"===t.type&&"SUCCESS:",t.body]})]})},gt=Object(u.a)((function(){return Object(p.a)({root:{width:"100%"}})})),yt=Object(v.a)((function(){var e=gt();return Object(k.jsx)(Ge.a,{component:"nav",className:e.root,"aria-label":"mailbox folders",children:ne.logList.map((function(e){return Object(k.jsx)(Ot,{logItem:e},e.id)}))})})),Ct=Object(u.a)((function(e){return Object(p.a)({textField:{marginTop:e.spacing(2),width:"100%"},input:{fontSize:"14px"}})})),Lt=Object(v.a)((function(){var e=Ct(),t=[];ht.channelListeners.forEach((function(n){var a=n.id,r=n.channelId,c=n.type,i=n.lastReceivedContext,s=n.metaData,o=i?JSON.stringify(i,void 0,4):"",l=Object(k.jsxs)("div",{children:[Object(k.jsx)(Ae.a,{disabled:!0,label:"LAST RECEIVED CONTEXT",className:e.textField,InputLabelProps:{shrink:!0},contentEditable:!1,fullWidth:!0,multiline:!0,variant:"outlined",size:"small",value:o,InputProps:{classes:{input:e.input}}}),"2.0"===window.fdc3Version&&Object(k.jsx)(it,{metaData:s})]});t.push({id:a,textPrimary:"Channel Id: ".concat(r,": ").concat(c),afterEachElement:l})}));return Object(k.jsx)(rt,{title:"Private Channels",icon:"Any context already in the channel will NOT be received automatically",noItemsText:"No Private Channel Listeners",listItems:t,onDelete:function(e){ht.removeContextListener(e)}})})),wt=Object(u.a)((function(e){return Object(p.a)({"@global":{".MuiTab-wrapper":{flexDirection:"row !important"}},root:{flexGrow:1},paper:{marginTop:e.spacing(2),padding:e.spacing(2),"&:first-child":{marginTop:0}},systemLog:{maxHeight:"1000px",overflowY:"scroll"},indicator:{backgroundColor:"#00bbe1"},tabs:{borderBottomColor:"#acb2c0",borderBottomStyle:"solid",borderBottomWidth:"1px",minHeight:"28px"},icon:{marginBottom:"3px !important",fontSize:"15px",marginRight:"3px"}})})),kt=function(e){return{id:"scrollable-auto-tab-".concat(e),"aria-controls":"scrollable-auto-tabpanel-".concat(e)}},It=Object(v.a)((function(){var e=wt(),t=Object(a.useState)(0),n=Object(l.a)(t,2),r=n[0],c=n[1];return Object(k.jsxs)("div",{children:[Object(k.jsxs)(f.a,{value:r,onChange:function(e,t){c(t)},indicatorColor:"primary",variant:"scrollable",scrollButtons:"auto",classes:{indicator:e.indicator},className:e.tabs,children:[Object(k.jsx)(j.a,Object(L.a)(Object(L.a)({label:"Listeners"},kt(0)),{},{style:{display:"flex",alignItems:"center"},icon:Object(k.jsx)(D.a,{title:"Context received will be displayed here, but you will not receive your own messages back","aria-label":"Context received will be displayed here, but you will not receive your own messages back",children:Object(k.jsx)(We.a,{className:e.icon})})})),Object(k.jsx)(j.a,Object(L.a)({label:"System Log"},kt(1)))]}),Object(k.jsxs)(N,{value:r,index:0,children:[Object(k.jsx)(ot,{}),Object(k.jsx)(xt,{}),Object(k.jsx)(vt,{}),Object(k.jsx)(Lt,{})]}),Object(k.jsx)("div",{className:e.systemLog,children:Object(k.jsx)(N,{value:r,index:1,children:Object(k.jsx)(yt,{})})})]})})),St=n(297),Nt=n(298),At=n(299),Tt=n(300),Dt=n(301),Et=n(145),Ft=n.n(Et),Vt=n(146),Rt=n.n(Vt),Pt=n(144),Mt=n.n(Pt),Ut=(n(171),n(99)),zt=n.n(Ut),Bt=Object(u.a)((function(e){return Object(p.a)({root:{position:"relative",flexGrow:1,padding:e.spacing(1),border:"1px solid #0086bf",borderRadius:e.shape.borderRadius,"& .jsoneditor":{border:"none"},"& .ace-jsoneditor .ace_gutter":{backgroundColor:"transparent"},"& .ace-jsoneditor .ace_gutter-active-line":{backgroundColor:e.palette.grey[200]},"& .ace-jsoneditor .ace_marker-layer .ace_active-line":{backgroundColor:e.palette.grey[200]}},jsonInput:{height:"270px"},errorText:{bottom:"-8px",padding:e.spacing(0,.5),fontSize:"0.75rem",position:"absolute",backgroundColor:"#fff",color:e.palette.error.main}})})),Jt=function(e){var t=Bt(),n=Object(a.useState)(),r=Object(l.a)(n,2),c=r[0],i=r[1],d=Object(a.useRef)(null),u={mode:"code",mainMenuBar:!1,statusBar:!1,indentation:2,onChangeText:function(t){if(""===t)e.onChange(null);else try{e.onChange(JSON.parse(t))}catch(n){}},onValidationError:function(t){if(e.onJsonError)if(t.length>0){var n="error"===t[0].type?"Bad json format":"Json doesn't match the schema";e.onJsonError([n])}else e.onJsonError([])}};return Object(a.useEffect)((function(){return Object(o.a)(Object(s.a)().mark((function t(){var n,a;return Object(s.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=Object(L.a)({},u),!d.current){t.next=24;break}if(!e.schema){t.next=12;break}return t.prev=3,t.next=6,zt.a.dereference(e.schema,{dereference:{circular:!0}});case 6:n.schema=t.sent,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),console.error(t.t0);case 12:if(!e.schemaUrl){t.next=22;break}return t.prev=13,t.next=16,zt.a.dereference(e.schemaUrl.href,{dereference:{circular:!0}});case 16:n.schema=t.sent,t.next=22;break;case 19:t.prev=19,t.t1=t.catch(13),console.error(t.t1);case 22:a=new Mt.a(d.current,n,e.json),i(a);case 24:case"end":return t.stop()}}),t,null,[[3,9],[13,19]])})))(),null===c||void 0===c?void 0:c.destroy}),[]),Object(a.useEffect)((function(){e.schema&&(null===c||void 0===c||c.setSchema(e.schema))}),[e.schema]),Object(a.useEffect)((function(){Object(o.a)(Object(s.a)().mark((function t(){var n;return Object(s.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.schemaUrl){t.next=11;break}return t.prev=1,t.next=4,zt.a.dereference(e.schemaUrl.href,{dereference:{circular:!0}});case 4:n=t.sent,null===c||void 0===c||c.setSchema(n),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))()}),[e.schemaUrl]),Object(a.useEffect)((function(){c&&(e.json||null===e.json)&&(null===e.json?c.set({}):c.set(e.json))}),[e.json,c]),Object(k.jsxs)("div",{className:t.root,tabIndex:0,children:[Object(k.jsx)("div",{className:t.jsonInput,ref:d}),!!e.error&&Object(k.jsx)("div",{className:t.errorText,children:e.error})]})},Wt=n(316),Gt=n(295),Ht=n(296);function Yt(e){var t=e.onClose,n=e.onAgree,a=e.open,r=e.selectedValue,c=function(){t(!1)};return Object(k.jsxs)(Wt.a,{open:a,onClose:c,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(k.jsx)(Gt.a,{id:"alert-dialog-title",children:"Delete context template: ".concat((null===r||void 0===r?void 0:r.name)||(null===r||void 0===r?void 0:r.id))}),Object(k.jsxs)(Ht.a,{children:[Object(k.jsx)(W.a,{onClick:c,children:"Disagree"}),Object(k.jsx)(W.a,{onClick:function(){n((null===r||void 0===r?void 0:r.id)||""),t(!1)},autoFocus:!0,children:"Agree"})]})]})}var qt=Object(u.a)((function(e){return Object(p.a)({root:{flexGrow:1},form:{display:"flex",flexWrap:"wrap",alignItems:"center",marginTop:e.spacing(1),"& > *":{margin:e.spacing(1)},"& > *:first-child":{marginLeft:0,paddingLeft:0},"& > * > *:first-child":{marginLeft:0,paddingLeft:0},"& .MuiGrid-grid-xs-12":{paddingLeft:0}},controls:{"& .MuiIconButton-sizeSmall":{padding:"6px",marginLeft:e.spacing(1)}},templateSelect:{flexGrow:1,minWidth:"190px"},textField:{width:"100%"},multilineField:{width:"100%"},button:{marginLeft:"auto"},rightAlign:{flexDirection:"row",justifyContent:"flex-end"},border:{height:"1px",width:"100%",backgroundColor:"#acb2c0",marginTop:"24px",marginBottom:"16px"},delete:{height:"15px",transform:"scale(1.7)"},copy:{height:"20px"},link:{cursor:"pointer",color:"black"},margins:{margin:"0 5px"},tableContainer:{maxHeight:250,"& > table":{width:"calc(100% - 4px)"}}})})),Xt={type:"",id:{}},_t=Object(v.a)((function(e){var t=e.contextName,n=qt(),r=Object(a.useState)({title:t,value:t}),c=Object(l.a)(r,2),i=c[0],s=c[1],o=Object(a.useState)(!1),d=Object(l.a)(o,2),u=d[0],p=d[1],b=Object(a.useState)(Xt),f=Object(l.a)(b,2),j=f[0],m=f[1],v=Object(a.useState)({id:t||"empty",template:Xt,schemaUrl:new URL("https://fdc3.finos.org/schemas/1.2/context.schema.json")}),O=Object(l.a)(v,2),g=O[0],y=O[1],C=Object(a.useState)(!1),L=Object(l.a)(C,2),w=L[0],I=L[1],S=Object(a.useState)(!1),N=Object(l.a)(S,2),A=N[0],T=N[1],E=Object(a.useState)(null),F=Object(l.a)(E,2),V=F[0],R=F[1],P=Object(a.useState)(!0),M=Object(l.a)(P,2),U=M[0],z=M[1],B=Object(a.useRef)(null),J=function(e){if(s(e),null!==e&&void 0!==e&&e.value){var t=Se.contextsList.find((function(t){return t.id===(null===e||void 0===e?void 0:e.value)}));t&&(m(t.template),y(t))}I(!1)},H=function(e,t){return Se.contextsList.reduce((function(n,a){var r=a.id,c=a.uuid;return r!==e||t&&t===c||(n+=1),n}),0)},Y=function(){return j?null!==j&&void 0!==j&&j.type?""===(null===j||void 0===j?void 0:j.type)?(I("Property 'type' can't be empty"),!1):!!i||(I("Template name is required"),!1):(I("Context must have property 'type'"),!1):(I("Context is required"),!1)},q=function(){s(null),y(null),m(null),z(!0)},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(null===e||void 0===e||e.preventDefault(),!U){var t=Y();if(t&&g&&i){var n=Se.contextsList.find((function(e){return e.id===g.id})),a={id:i.value,schemaUrl:g.schemaUrl,template:j};n||Se.addContextItem(a),Se.saveContextItem(a,g.id),J({title:a.id,value:a.id}),ne.addLog({name:"saveTemplate",type:"success",value:null===a||void 0===a?void 0:a.id,variant:"text"})}else ne.addLog({name:"saveTemplate",type:"error",value:void 0,variant:"text"});z(!0)}},_=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a="".concat(t.value,"-copy").concat(n>0?" (".concat(n,")"):"");if(null!==t&&void 0!==t&&t.value&&!H(a)){s({value:a,title:a});var r=Se.contextsList.find((function(e){return e.id===t.value}));if(r){var c={id:a,template:r.template,schemaUrl:r.schemaUrl};Se.addContextItem(c),Se.saveContextItem(c),m(r.template),y(c),ne.addLog({name:"saveTemplate",type:"success",value:c.id,variant:"text"})}}else H(a)&&e(t,++n);I(!1)};return Object(a.useEffect)((function(){u?(z(!0),I("Template name already exists")):z(!1)}),[u,j]),Object(a.useEffect)((function(){if(B&&B.current&&B.current.scrollIntoView({behavior:"auto",block:"nearest"}),null==g){var e={id:"empty",template:Xt,schemaUrl:new URL("https://fdc3.finos.org/schemas/1.2/context.schema.json")};y(e),m(Xt)}}),[g]),Object(k.jsxs)("div",{className:n.root,children:[Object(k.jsx)(Yt,{open:A,onClose:function(e){T(e)},onAgree:function(e){var t=Se.contextsList.find((function(t){return t.id===e}));t?(Se.deleteContextItem(t),ne.addLog({name:"deleteTemplate",type:"success",value:null===t||void 0===t?void 0:t.id,variant:"text"})):ne.addLog({name:"deleteTemplate",type:"error",value:void 0,variant:"text"})},selectedValue:V}),Object(k.jsxs)(h.a,{container:!0,spacing:1,children:[Object(k.jsx)(h.a,{item:!0,xs:12,children:Object(k.jsx)(x.a,{variant:"h5",children:"Context templates:"})}),Object(k.jsx)(h.a,{item:!0,xs:12,children:Object(k.jsx)(St.a,{className:n.tableContainer,children:Object(k.jsx)(Nt.a,{children:Object(k.jsx)(At.a,{children:Se.contextsList.map((function(e,t){var a=e.id,r=e.template;return Object(k.jsxs)(Tt.a,{hover:!0,role:"checkbox",tabIndex:-1,selected:a===(null===i||void 0===i?void 0:i.value),ref:a===(null===i||void 0===i?void 0:i.value)?B:null,children:[Object(k.jsx)(Dt.a,{align:"left",onClick:function(){return J({title:a,value:a})},children:Object(k.jsx)(x.a,{variant:"body2",children:a})},"row-".concat(t,"-column-0")),Object(k.jsx)(Dt.a,{align:"left",onClick:function(){return J({title:a,value:a})},children:Object(k.jsx)(x.a,{variant:"caption",children:null===r||void 0===r?void 0:r.type})},"row-".concat(t,"-column-1")),Object(k.jsx)(Dt.a,{align:"right",children:Object(k.jsx)(D.a,{title:"Duplicate Template","aria-label":"Copy code",children:Object(k.jsx)(G.a,{size:"small","aria-label":"Copy code example",color:"primary",onClick:function(){return _({title:a,value:a})},children:Object(k.jsx)(Ft.a,{className:n.copy})})})},"row-".concat(t,"-column-2")),Object(k.jsx)(Dt.a,{align:"right",children:Object(k.jsx)(D.a,{title:"Delete template","aria-label":"Delete template",children:Object(k.jsx)(G.a,{size:"small","aria-label":"Delete template",color:"primary",onClick:function(){return function(e,t){T(!0),R({id:e,name:t})}(a,null===r||void 0===r?void 0:r.name)},children:Object(k.jsx)(Rt.a,{className:n.delete})})})},"row-".concat(t,"-column-3"))]},"row-".concat(t))}))})})})})]}),Object(k.jsx)("form",{className:n.form,noValidate:!0,autoComplete:"off",children:Object(k.jsxs)(h.a,{container:!0,direction:"row",spacing:1,children:[Object(k.jsx)(h.a,{item:!0,className:n.controls,children:Object(k.jsx)(W.a,{className:n.button,variant:"contained",color:"primary",onClick:q,children:"Create new template"})}),Object(k.jsx)(h.a,{item:!0,className:n.controls,children:Object(k.jsx)(W.a,{className:n.button,variant:"contained",color:"primary",onClick:function(){Se.resetContextList(),q()},children:"Reset templates"})})]})}),Object(k.jsx)("form",{className:n.form,noValidate:!0,autoComplete:"off",onSubmit:function(e){return X(e)},children:Object(k.jsxs)(h.a,{container:!0,direction:"row",spacing:1,className:n.rightAlign,children:[Object(k.jsx)(h.a,{item:!0,xs:12,className:"".concat(n.controls," ").concat(n.templateSelect),children:Object(k.jsxs)(h.a,{item:!0,xs:6,className:n.field,children:[Object(k.jsx)(h.a,{item:!0,xs:12,className:n.textField,children:Object(k.jsx)(x.a,{variant:"h5",children:"Edit template:"})}),Object(k.jsx)(Te,{label:"Template name",variant:"outlined",className:n.textField,placeholder:"Choose Context Template",value:(null===i||void 0===i?void 0:i.value)||"",onChange:function(e){return t={title:e.target.value,value:e.target.value},z(!1),I(!1),s(t),void(g&&!H(t.value,g.uuid)?p(!1):H(t.value)>=1&&p(!0));var t}})]})}),Object(k.jsx)(h.a,{item:!0,xs:12,className:n.controls,children:Object(k.jsx)(Jt,{json:null===g||void 0===g?void 0:g.template,onChange:function(e){m(e),I(!1)},onJsonError:function(e){I(e[0])},schemaUrl:new URL((null===g||void 0===g?void 0:g.schemaUrl)||"https://fdc3.finos.org/schemas/1.2/context.schema.json"),error:w})}),Object(k.jsxs)(h.a,{item:!0,children:[Object(k.jsx)(D.a,{title:"Copy code","aria-label":"Copy code",children:Object(k.jsx)(G.a,{size:"small","aria-label":"Copy code example",color:"primary",onClick:ge("let context = ".concat(JSON.stringify(j,null,2)),"createContext"),children:Object(k.jsx)(Q.a,{})})}),Object(k.jsx)(W.a,{className:n.button,variant:"contained",color:"primary",onClick:X,disabled:U,children:"Save Changes"})]})]})})]})})),Kt=n(46),Qt=n(286),Zt=n(303),$t=n(310),en=n(147),tn=n.n(en),nn=Object(Ce.a)(),an=Object(u.a)((function(e){return Object(p.a)({root:{flexGrow:1},title:{display:"flex",alignItems:"center",justifyContent:"space-between"},form:{display:"flex",flexWrap:"wrap",alignItems:"center",marginTop:e.spacing(1),"& > *":{margin:e.spacing(1),marginLeft:"0px"}},contextType:{flexGrow:1,minWidth:"190px"},topMargin:{marginTop:e.spacing(2)},secondMargin:{marginTop:e.spacing(1)},controls:{"& > *:first-child":{marginLeft:0},"& > *":{marginRight:e.spacing(1)},"& > *:last-child":{marginRight:0},"& .MuiIconButton-sizeSmall":{padding:"6px 0px 6px 0px"},"& > a":{display:"flex",padding:"6px 0px 6px 0px"}},rightAlign:{flexDirection:"row",justifyContent:"flex-end"},spread:{flexDirection:"row","& > *:first-child":{paddingLeft:"0px"}},textField:{width:"100%","& input":{height:"29px",padding:"6px"}},h4:{fontSize:"22px"},h6:{fontSize:"14px"},field:{flexGrow:1,marginRight:e.spacing(1),minWidth:"190px"},border:{height:"1px",width:"100%",backgroundColor:"#acb2c0",marginTop:"24px",marginBottom:"16px"},rightPadding:{paddingRight:e.spacing(.5)}})})),rn=Object(v.a)((function(e){var t=e.handleTabChange,n=e.channelsList,r=e.isPrivateChannel,c=void 0!==r&&r,i=e.channelName,s=an(),o=Object(a.useState)(null),d=Object(l.a)(o,2),u=d[0],p=d[1],b=Object(a.useState)(n),f=Object(l.a)(b,2),j=f[0],v=f[1],O=c?ht:ut,g=Se.contextsList.map((function(e){var t=e.id,n=e.template;return{title:t,value:t,type:null===n||void 0===n?void 0:n.type}}));g.unshift({title:"All",value:"all",type:"All"});var y=Array.from(new Map(g.reverse().map((function(e){return[e.type,e]}))).values()).reverse(),C=function(e){return e.type||e.title},w=function(e){var t=j.find((function(t){return t.id===e}));t&&(null!==t&&void 0!==t&&t.currentListener?O.isContextListenerExists(e,null===t||void 0===t?void 0:t.currentListener.type)?t.listenerError="Listener already added":(O.addChannelListener(t,t.currentListener.type),t.listenerError=""):t.listenerError="Enter context type")},I=function(e,t){var n=j.find((function(e){return e.id===t}));n&&(p(e),n.context=e)},S=function(e,t){var n=nn(e,t);return""!==t.inputValue&&n.push({value:t.inputValue,title:'Add "'.concat(t.inputValue,'"'),type:t.inputValue}),n};return Object(a.useEffect)((function(){v(n)}),[n]),Object(k.jsx)("div",{children:j.length>0&&j.map((function(e){var n,a=Object(k.jsxs)(h.a,{container:!0,className:s.spread,children:[Object(k.jsx)(h.a,{item:!0,className:s.field,children:Object(k.jsxs)(x.a,{variant:"h5",children:["Channel: ",e.id]})}),Object(k.jsxs)(h.a,{container:!0,className:s.topMargin,children:[Object(k.jsx)(h.a,{item:!0,xs:12,children:Object(k.jsx)(x.a,{variant:"h5",className:s.h6,children:"Broadcast"})}),Object(k.jsx)(h.a,{item:!0,sm:7,children:Object(k.jsx)(Ue,{handleTabChange:t,contextStateSetter:I,channel:e.id})}),Object(k.jsxs)(h.a,{item:!0,container:!0,className:s.controls,sm:5,justifyContent:"flex-end",children:[Object(k.jsx)(W.a,{disabled:!e.context,variant:"contained",color:"primary",onClick:function(){return function(e){e.context&&u&&O.broadcast(e,u)}(e)},children:"Broadcast"}),Object(k.jsx)(D.a,{title:"Copy code example","aria-label":"Copy code example",children:Object(k.jsx)(G.a,{size:"small","aria-label":"Copy code example",color:"primary",onClick:ge(oe,"channelBroadcast"),children:Object(k.jsx)(Q.a,{})})}),Object(k.jsx)(m.a,{onClick:ye,target:"FDC3APIDocs",href:"https://fdc3.finos.org/docs/api/ref/Channel#broadcast",children:Object(k.jsx)(Ee.a,{})})]})]}),Object(k.jsxs)(h.a,{container:!0,className:s.secondMargin,children:[Object(k.jsx)(h.a,{item:!0,xs:12,children:Object(k.jsx)(x.a,{variant:"h5",className:s.h6,children:"Add Context Listener"})}),Object(k.jsx)(h.a,{item:!0,sm:7,className:s.rightPadding,children:Object(k.jsx)(Le.a,{size:"small",selectOnFocus:!0,blurOnSelect:!0,clearOnBlur:!0,handleHomeEndKeys:!0,value:e.currentListener,onChange:(n=e.id,function(e,t){var a,r,c=j.find((function(e){return e.id===n}));c&&((null===(a=O.channelListeners)||void 0===a?void 0:a.find((function(e){return e.type===t&&e.channelId===n})))||(r="string"===typeof t?{title:t,value:t,type:t}:t&&t.inputValue?{title:t.inputValue,value:t.inputValue,type:t.inputValue}:t,c.currentListener=r,c.listenerError=""))}),filterOptions:S,options:y,getOptionLabel:C,renderOption:function(e){return e.type},renderInput:function(t){return Object(k.jsx)(Te,Object(L.a)(Object(L.a)({label:"CONTEXT TYPE",placeholder:"Enter Context Type",variant:"outlined"},t),{},{error:!!e.listenerError,helperText:e.listenerError}))},onKeyDown:function(t){"Enter"===t.key&&(t.defaultPrevented=!0,w(e.id))}})}),Object(k.jsxs)(h.a,{item:!0,container:!0,className:s.controls,sm:5,justifyContent:"flex-end",children:[Object(k.jsx)(W.a,{variant:"contained",color:"primary",onClick:function(){return w(e.id)},children:"Add Listener"}),Object(k.jsx)(D.a,{title:"Copy code example","aria-label":"Copy code example",children:Object(k.jsx)(G.a,{size:"small","aria-label":"Copy code example",color:"primary",onClick:ge(he,"addchannelContextListener"),children:Object(k.jsx)(Q.a,{})})}),Object(k.jsx)(m.a,{onClick:ye,target:"FDC3APIDocs",href:"https://fdc3.finos.org/docs/api/ref/Channel#addcontextlistener",children:Object(k.jsx)(Ee.a,{})})]})]}),Object(k.jsx)(W.a,{variant:"contained",color:"secondary",onClick:function(){return function(e){c?ht.disconnect(e):ut.remove(e),v(j.filter((function(t){return t.id!==e.id})))}(e)},className:s.secondMargin,children:c?"Disconnect":"Discard Channel"}),Object(k.jsx)("div",{className:s.border})]},e.id);return i?e.id===i&&a:a}))})})),cn=Object(u.a)((function(e){return Object(p.a)({textField:{marginTop:e.spacing(2),width:"100%"},input:{fontSize:"14px",color:"rgba(0, 0, 0, 0.6)"},"& .Mui-disabled":{borderColor:e.palette.text.primary}})})),sn=Object(v.a)((function(e){var t=e.data,n=e.handleTabChange,r=cn(),c=Object(a.useState)("pending..."),i=Object(l.a)(c,2),d=i[0],u=i[1],p=Object(a.useState)(!1),h=Object(l.a)(p,2),b=h[0],f=h[1],j=Object(a.useState)(!1),x=Object(l.a)(j,2),m=x[0],v=x[1],O=Object(a.useState)([]),g=Object(l.a)(O,2),y=g[0],C=g[1],L=Object(a.useState)(""),w=Object(l.a)(L,2),I=w[0],S=w[1],N="appId: ".concat(t.source.appId,"\ninstanceId: ").concat(t.source.instanceId),A=function(){var e=Object(o.a)(Object(s.a)().mark((function e(){var n;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t.hasOwnProperty("getResult")){e.next=18;break}return e.next=4,t.getResult();case 4:if(null===(n=e.sent)||void 0===n||!n.broadcast){e.next=17;break}if(u(""),"app"!==n.type){e.next=13;break}return e.next=10,ut.getOrCreateChannel(n.id);case 10:S(n.id),f(!0),C(ut.appChannelsList);case 13:"private"===n.type&&(f(!0),v(!0),C([n]),ht.addChannelListener(n,"all")),u(null),e.next=18;break;case 17:n&&u(JSON.stringify(n,null,2));case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(0),"".concat(e.t0).includes("NoResultReturned")?u("<void>"):u("".concat(e.t0)),console.error("".concat(t.source.appId," returned a result error: ").concat(e.t0));case 24:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){A()}),[]),Object(k.jsxs)("div",{children:[Object(k.jsx)(Ae.a,{disabled:!0,label:"Resolved By",InputLabelProps:{shrink:!0},contentEditable:!1,fullWidth:!0,multiline:!0,variant:"outlined",size:"small",value:N,InputProps:{classes:{input:r.input}}}),d&&Object(k.jsx)(Ae.a,{disabled:!0,label:"Results",InputLabelProps:{shrink:!0},contentEditable:!1,fullWidth:!0,multiline:!0,variant:"outlined",size:"small",value:d,InputProps:{classes:{input:r.input}}}),b&&Object(k.jsx)(rn,{handleTabChange:n,channelsList:y,isPrivateChannel:m,channelName:I})]})})),on=n(313),ln=n(237),dn=n(302),un=n(304),pn=n(318),hn=n(305),bn=Object(u.a)((function(e){return Object(p.a)({root:{flexGrow:1},title:{display:"flex",alignItems:"center",justifyContent:"space-between"},form:{display:"flex",flexWrap:"wrap",alignItems:"center",marginTop:e.spacing(1),"& > *":{margin:e.spacing(1),marginLeft:"0px"}},controls:{"& > *:first-child":{marginLeft:0},"& > *":{marginRight:e.spacing(1)},"& > *:last-child":{marginRight:0},"& .MuiIconButton-sizeSmall":{padding:"6px 0px 6px 0px"},"& > a":{display:"flex",padding:"6px 0px 6px 0px"},display:"flex",alignItems:"center"},rightAlign:{flexDirection:"row",justifyContent:"flex-end"},spread:{flexDirection:"row","& > *:first-child":{paddingLeft:"0px"}},textField:{width:"100%","& input":{height:"29px",padding:"6px"}},h4:{fontSize:"22px"},field:{flexGrow:1,marginRight:e.spacing(1),minWidth:"190px"},border:{height:"1px",width:"100%",backgroundColor:"#acb2c0",marginTop:"24px",marginBottom:"16px"},bottomMargin:{marginBottom:e.spacing(1)},removeSidePadding:{paddingLeft:0},targetSelect:{width:"100%",marginRight:e.spacing(1)},rightPadding:{paddingRight:e.spacing(.5)},input:{color:"#0086bf",outline:"1px","&.Mui-checked":{color:"#0086bf"}},toggle:{"&.Mui-selected":{color:"#0086bf",backgroundColor:"rgba(0, 134, 191, 0.21)"}},indentLeft:{marginLeft:"30px"},caption:{color:"#0086bf",marginTop:"10px"}})})),fn=Object(Ce.a)(),jn=Object(v.a)((function(e){var t=e.handleTabChange,n=bn(),c=Object(a.useState)(null),i=Object(l.a)(c,2),u=i[0],p=i[1],b=Object(a.useState)(!1),f=Object(l.a)(b,2),j=f[0],v=f[1],O=Object(a.useState)(null),g=Object(l.a)(O,2),y=g[0],C=g[1],w=Object(a.useState)(null),I=Object(l.a)(w,2),S=I[0],N=I[1],A=Object(a.useState)(null),T=Object(l.a)(A,2),E=T[0],F=T[1],V=Object(a.useState)(null),R=Object(l.a)(V,2),P=R[0],M=R[1],U=Object(a.useState)(null),B=Object(l.a)(U,2),J=B[0],_=B[1],K=Object(a.useState)(null),$=Object(l.a)(K,2),ee=$[0],te=$[1],ne=Object(a.useState)(!1),ae=Object(l.a)(ne,2),re=ae[0],ce=ae[1],ie=Object(a.useState)(null),se=Object(l.a)(ie,2),oe=se[0],pe=se[1],he=Object(a.useState)(null),Ce=Object(l.a)(he,2),we=Ce[0],ke=Ce[1],Ie=ft.intentsList,Se=Object(a.useState)([]),Ne=Object(l.a)(Se,2),De=Ne[0],Fe=Ne[1],Ve=Object(a.useState)(null),Re=Object(l.a)(Ve,2),Pe=Re[0],Me=Re[1],ze=Object(a.useState)({}),Be=Object(l.a)(ze,2),Je=Be[0],We=Be[1],Ge=Object(a.useState)({}),He=Object(l.a)(Ge,2),Ye=He[0],qe=He[1],Xe=Object(a.useState)(!1),_e=Object(l.a)(Xe,2),Ke=_e[0],Qe=_e[1],Ze=Object(a.useState)(null),$e=Object(l.a)(Ze,2),et=$e[0],tt=$e[1],nt=Object(a.useState)(!1),at=Object(l.a)(nt,2),rt=at[0],ct=at[1],it=Object(a.useState)(!1),st=Object(l.a)(it,2),ot=st[0],lt=st[1],dt=Object(a.useState)("app-channel"),ut=Object(l.a)(dt,2),pt=ut[0],ht=ut[1],bt=Object(a.useState)(!1),jt=Object(l.a)(bt,2),xt=jt[0],mt=jt[1],vt=Object(a.useState)(""),Ot=Object(l.a)(vt,2),gt=Ot[0],yt=Ot[1],Ct=Object(a.useState)([]),Lt=Object(l.a)(Ct,2),wt=Lt[0],kt=Lt[1],It=Object(a.useState)([]),St=Object(l.a)(It,2),Nt=St[0],At=St[1],Tt=Object(a.useState)([]),Dt=Object(l.a)(Tt,2),Et=Dt[0],Ft=Dt[1],Vt=function(){var e=Object(o.a)(Object(s.a)().mark((function e(){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(pe(null),u){e.next=5;break}v("enter intent name"),e.next=24;break;case 5:if(J){e.next=9;break}v("enter context name"),e.next=24;break;case 9:if(!E){e.next=18;break}return e.t0=pe,e.next=13,ft.raiseIntent(u.value,J,E);case 13:e.t1=e.sent,(0,e.t0)(e.t1),v(""),e.next=24;break;case 18:return e.t2=pe,e.next=21,ft.raiseIntent(u.value,J);case 21:e.t3=e.sent,(0,e.t2)(e.t3),v("");case 24:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Rt=function(){var e=Object(o.a)(Object(s.a)().mark((function e(){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ee){e.next=2;break}return e.abrupt("return");case 2:if(!P){e.next=10;break}return e.t0=ke,e.next=6,ft.raiseIntentForContext(ee,P);case 6:e.t1=e.sent,(0,e.t0)(e.t1),e.next=15;break;case 10:return e.t2=ke,e.next=13,ft.raiseIntentForContext(ee);case 13:e.t3=e.sent,(0,e.t2)(e.t3);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Pt=function(e,t){return function(n,a){"string"===typeof a?e({title:a,value:a}):a&&a.inputValue?e({title:a.inputValue,value:a.inputValue}):e(a),t(!1)}},Mt=function(e){return e.value||e.title},Ut=function(e,t){var n=fn(e,t);return""!==t.inputValue&&n.push({value:t.inputValue,title:'Add "'.concat(t.inputValue,'"')}),n},zt=function(){F(null),At([])},Bt=function(){M(null),lt(!1),Ft([])},Jt=function(){Fe((function(e){return[].concat(Object(Kt.a)(e),[Object(k.jsxs)(h.a,{container:!0,direction:"row",children:[Object(k.jsx)(h.a,{item:!0,className:n.indentLeft,children:Object(k.jsx)(Ae.a,{variant:"outlined",label:"Delay (ms)",type:"number",size:"small",onChange:function(e){return t=e.target.value,n=De.length,void qe((function(e){var a=e[n-1]||0;return Object(L.a)(Object(L.a)({},e),{},Object(d.a)({},n,a+Number(t)))}));var t,n}})}),Object(k.jsx)(h.a,{item:!0,className:"".concat(n.indentLeft," ").concat(n.field),children:Object(k.jsx)(Ue,{handleTabChange:t,contextStateSetter:function(e){return function(e,t){We((function(n){return Object(L.a)(Object(L.a)({},n),{},Object(d.a)({},t,e))}))}(e,De.length)}})})]},De.length)])}))};return Object(a.useEffect)((function(){p(null);var e=function(){var e=Object(o.a)(Object(s.a)().mark((function e(){var t;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,J){e.next=3;break}return e.abrupt("return");case 3:return v(!1),e.next=6,z.findIntentsByContext(Object(Z.p)(J));case 6:t=e.sent,ct(!1),zt(),t.length>0&&(kt(t),N(t.map((function(e){var t=e.intent;return{title:t.name,value:t.name}})))),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),N([]),v("no intents found");case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();e()}),[J]),Object(a.useEffect)((function(){if(!u)return ct(!1),void zt();var e=wt.find((function(e){return e.intent.name===(null===u||void 0===u?void 0:u.value)}));if(null===e||void 0===e||!e.apps)return ct(!1),void zt();var t=[];e.apps.forEach((function(e){var n=t.find((function(t){return t.appId===e.appId}));n?e.instanceId?window.fdc3Version.includes("2.0")&&(n.instances=n.instances?n.instances.concat([e]):[e]):n.app=e:null!==e&&void 0!==e&&e.instanceId?window.fdc3Version.includes("2.0")&&t.push({appId:e.appId||e.name,instances:[e]}):t.push({appId:e.appId||e.name,app:e})}));var n=[];t.length<1?n.push(Object(k.jsx)(X.a,{value:"",disabled:!0,children:"No Target Apps Found"})):n.push(Object(k.jsx)(X.a,{value:"None",children:"None"},"")),t.map((function(e){var t,a;e.app&&window.fdc3Version.includes("2.0")&&n.push(Object(k.jsxs)(Qt.a,{children:["Launch New: (",e.appId,")"]})),n.push(Object(k.jsx)(X.a,{className:"app",value:JSON.stringify(null===e||void 0===e?void 0:e.app),children:(null===e||void 0===e?void 0:e.app.appId)||(null===e||void 0===e?void 0:e.app.name)},(null===e||void 0===e?void 0:e.app.appId)||(null===e||void 0===e?void 0:e.app.name))),null!==(t=e.instances)&&void 0!==t&&t.length&&window.fdc3Version.includes("2.0")&&n.push(Object(k.jsxs)(Qt.a,{children:["Launch Existing: (",e.appId,")"]})),null===e||void 0===e||null===(a=e.instances)||void 0===a||a.map((function(e){n.push(Object(k.jsx)(X.a,{className:"instance",value:JSON.stringify(e),children:e.instanceId},e.instanceId))}))})),At(n)}),[u]),Object(a.useEffect)((function(){var e=function(){var e=Object(o.a)(Object(s.a)().mark((function e(){var t,n,a,r;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ee){e.next=4;break}return lt(!1),Bt(),e.abrupt("return");case 4:return e.prev=4,e.next=7,z.findIntentsByContext(Object(Z.p)(ee));case 7:if(e.t0=e.sent,e.t0){e.next=10;break}e.t0=[];case 10:if(t=e.t0,lt(!1),Bt(),t){e.next=15;break}return e.abrupt("return");case 15:t.length>0&&(n=[],t.map((function(e){if(!n.find((function(t){return e.intent.name===t.intent}))){var t=[];e.apps.forEach((function(e){var n=t.find((function(t){return t.appId===e.appId}));n?e.instanceId?window.fdc3Version.includes("2.0")&&(n.instances=n.instances?n.instances.concat([e]):[e]):n.app=e:e.instanceId?window.fdc3Version.includes("2.0")&&t.push({appId:e.appId||e.name,instances:[e]}):t.push({appId:e.appId||e.name,app:e})})),n.push({intent:e.intent.name,sortedApps:t})}})),a=[],r=0,0,n.map((function(e){r+=e.sortedApps.length||0,e.sortedApps.map((function(e){var t;(null===(t=e.instances)||void 0===t?void 0:t.length)||0}))})),r>0?a.push(Object(k.jsx)(X.a,{value:"None",children:"None"},"")):a.push(Object(k.jsx)(X.a,{value:"",disabled:!0,children:"No Target Apps Found"})),n.map((function(e){e.sortedApps.map((function(t){var n;t.app&&("2.0"==window.fdc3Version&&a.push(Object(k.jsxs)(Qt.a,{children:["Launch new (",t.appId,"):"]})),a.push(Object(k.jsxs)(X.a,{value:JSON.stringify(t.app),children:[e.intent," - ",t.app.name]},t.app.name))),null!==(n=t.instances)&&void 0!==n&&n.length&&("2.0"==window.fdc3Version&&a.push(Object(k.jsxs)(Qt.a,{children:["Launch Existing: (",t.appId,")"]})),t.instances.map((function(t){a.push(Object(k.jsxs)(X.a,{value:JSON.stringify(t),children:[e.intent," - ",t.instanceId]},t.instanceId))})))}))})),Ft(a)),e.next=23;break;case 18:e.prev=18,e.t1=e.catch(4),lt(!1),Bt(),console.log(e.t1);case 23:case"end":return e.stop()}}),e,null,[[4,18]])})));return function(){return e.apply(this,arguments)}}();e()}),[ee]),Object(a.useEffect)((function(){xt?Jt():Fe([])}),[xt]),Object(k.jsxs)("div",{className:n.root,children:[Object(k.jsx)(h.a,{item:!0,xs:12,children:Object(k.jsx)(x.a,{variant:"h5",children:"Raise Intent"})}),Object(k.jsx)("form",{className:n.form,noValidate:!0,autoComplete:"off",children:Object(k.jsxs)(h.a,{container:!0,direction:"row",spacing:2,children:[Object(k.jsxs)(h.a,{container:!0,item:!0,spacing:2,justifyContent:"flex-end",className:n.spread,children:[Object(k.jsxs)(h.a,{item:!0,className:n.field,children:[Object(k.jsx)(Ue,{handleTabChange:t,contextStateSetter:_}),Object(k.jsx)(Le.a,{className:n.rightPadding,id:"raise-intent",size:"small",selectOnFocus:!0,blurOnSelect:!0,clearOnBlur:!0,handleHomeEndKeys:!0,value:u,onChange:Pt(p,v),filterOptions:Ut,options:S||Ie,getOptionLabel:Mt,renderOption:function(e){return e.title},renderInput:function(e){return Object(k.jsx)(Te,Object(L.a)(Object(L.a)({label:"INTENT TYPE",placeholder:"Enter Intent Type",variant:"outlined"},e),{},{error:!!j,helperText:j}))}}),Object(k.jsxs)(h.a,{className:n.rightPadding,children:[Object(k.jsx)(ln.a,{children:Object(k.jsx)(dn.a,{control:Object(k.jsx)(Zt.a,{checked:rt,onChange:function(e,t){ct(t),t||zt()},color:"primary",disabled:!u}),label:"Select Target"})}),rt&&Object(k.jsxs)(H.a,{variant:"outlined",size:"small",className:n.targetSelect,children:[Object(k.jsx)(Y.a,{id:"intent-target-app",children:"Target App (optional)"}),Object(k.jsx)(q.a,{labelId:"intent-target-app",id:"intent-target-app-select",value:(null===E||void 0===E?void 0:E.instanceId)||(null===E||void 0===E?void 0:E.appId),onChange:function(e){if("None"===e.target.value)F(null);else{var t=JSON.parse(e.target.value),n=Object(L.a)({appId:t.appId||t.name},t.instanceId&&{instanceId:t.instanceId||""});F(n)}},label:"Target App (optional)",MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},children:Nt})]})]})]}),Object(k.jsxs)(h.a,{item:!0,className:n.controls,children:[Object(k.jsx)(W.a,{variant:"contained",color:"primary",onClick:Vt,disabled:!J,children:"Raise Intent"}),Object(k.jsx)(D.a,{title:"Copy code example","aria-label":"Copy code example",children:Object(k.jsx)(G.a,{size:"small","aria-label":"Copy code example",color:"primary",onClick:function(){var e=JSON.stringify(J,null,2),t=String(u),n=le(e,t);null!==E&&void 0!==E&&E.instanceId?n=ue(e,t):E&&(n=de(e,t)),ge(n,"raiseIntent")()},children:Object(k.jsx)(Q.a,{})})}),Object(k.jsx)(m.a,{onClick:ye,target:"FDC3APIDocs",href:"https://fdc3.finos.org/docs/api/ref/DesktopAgent#raiseintent",children:Object(k.jsx)(Ee.a,{})})]})]}),(null===oe||void 0===oe?void 0:oe.source)&&Object(k.jsxs)(h.a,{container:!0,item:!0,spacing:2,justifyContent:"flex-end",className:n.spread,children:[Object(k.jsx)(h.a,{item:!0,className:n.textField,children:Object(k.jsx)(sn,{data:oe,handleTabChange:t})}),Object(k.jsx)(h.a,{item:!0,children:Object(k.jsx)(W.a,{variant:"contained",color:"secondary",onClick:function(){return pe(null)},children:"Clear result"})})]}),Object(k.jsx)("div",{className:n.border}),Object(k.jsxs)(h.a,{container:!0,item:!0,spacing:2,justifyContent:"flex-end",className:n.spread,children:[Object(k.jsx)(h.a,{item:!0,xs:12,className:n.bottomMargin,children:Object(k.jsx)(x.a,{variant:"h5",children:"Raise Intent for Context"})}),Object(k.jsxs)(h.a,{item:!0,className:"".concat(n.field," ").concat(n.removeSidePadding),children:[Object(k.jsx)(Ue,{handleTabChange:t,contextStateSetter:te}),Object(k.jsxs)(h.a,{className:n.rightPadding,children:[Object(k.jsx)(ln.a,{children:Object(k.jsx)(dn.a,{control:Object(k.jsx)(Zt.a,{checked:ot,color:"primary",onChange:function(e,t){lt(t),t||Bt()}}),label:"Select Target",disabled:!ee||Et.length<1})}),ot&&Object(k.jsxs)(H.a,{variant:"outlined",size:"small",className:n.targetSelect,children:[Object(k.jsx)(Y.a,{id:"intent-context-target-app",children:"Target (optional)"}),Object(k.jsx)(q.a,{labelId:"intent-context-target-app",id:"intent-context-target-app-select",value:(null===P||void 0===P?void 0:P.instanceId)||(null===P||void 0===P?void 0:P.appId),onChange:function(e){if("None"===e.target.value)M(null);else{var t=JSON.parse(e.target.value),n=Object(L.a)({appId:t.appId||t.name},t.instanceId&&{instanceId:t.instanceId||""});M(n)}},label:"Target App (optional)",MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},children:Et})]})]})]}),Object(k.jsxs)(h.a,{item:!0,className:n.controls,children:[Object(k.jsx)(W.a,{disabled:!ee,variant:"contained",color:"primary",onClick:Rt,children:"Raise intent for context"}),Object(k.jsx)(D.a,{title:"Copy code example","aria-label":"Copy code example",children:Object(k.jsx)(G.a,{size:"small","aria-label":"Copy code example",color:"primary",onClick:function(){var e=JSON.stringify(ee,null,2),t=me(e);null!==P&&void 0!==P&&P.instanceId?t=Oe(e):P&&(t=ve(e)),ge(t,"raiseIntentForContext")()},children:Object(k.jsx)(Q.a,{})})}),Object(k.jsx)(m.a,{onClick:ye,target:"FDC3APIDocs",href:"https://fdc3.finos.org/docs/api/ref/DesktopAgent#raiseintentforcontext",children:Object(k.jsx)(Ee.a,{})})]})]}),(null===we||void 0===we?void 0:we.source)&&Object(k.jsxs)(h.a,{container:!0,item:!0,spacing:2,justifyContent:"flex-end",className:n.spread,children:[Object(k.jsx)(h.a,{item:!0,className:n.textField,children:Object(k.jsx)(sn,{data:we,handleTabChange:t})}),Object(k.jsx)(h.a,{item:!0,children:Object(k.jsx)(W.a,{variant:"contained",color:"secondary",onClick:function(){return pe(null)},children:"Clear result"})})]}),Object(k.jsx)("div",{className:n.border}),Object(k.jsxs)(h.a,{container:!0,item:!0,spacing:2,justifyContent:"flex-end",className:n.spread,children:[Object(k.jsx)(h.a,{item:!0,xs:12,children:Object(k.jsx)(x.a,{className:n.bottomMargin,variant:"h5",children:"Add Intent Listener"})}),Object(k.jsx)(h.a,{item:!0,className:"".concat(n.field," ").concat(n.removeSidePadding),children:Object(k.jsx)(Le.a,{id:"intent-listener",size:"small",selectOnFocus:!0,blurOnSelect:!0,clearOnBlur:!0,handleHomeEndKeys:!0,value:y,onChange:Pt(C,ce),filterOptions:Ut,options:Ie,getOptionLabel:Mt,renderOption:function(e){return e.title},renderInput:function(e){return Object(k.jsx)(Te,Object(L.a)(Object(L.a)({label:"INTENT LISTENER",placeholder:"Enter Intent Type",variant:"outlined"},e),{},{error:!!re,helperText:re}))}})}),Object(k.jsxs)(h.a,{item:!0,className:n.controls,children:[Object(k.jsx)(W.a,{variant:"contained",color:"primary",onClick:function(){y?(ft.addIntentListener(y.value,Object(Z.p)(Pe),gt,"private-channel"===pt,Je,Ye),C(null),Qe(!1)):ce("Enter intent")},disabled:null===y,children:"Add Listener"}),Object(k.jsx)(D.a,{title:"Copy code example","aria-label":"Copy code example",children:Object(k.jsx)(G.a,{size:"small","aria-label":"Copy code example",color:"primary",onClick:function(){var e=be;"context-result"===et?e=fe:"channel-result"===et&&(e="app-channel"===pt?je:xe),ge(e,"addIntentListener")()},children:Object(k.jsx)(Q.a,{})})}),Object(k.jsx)(m.a,{onClick:ye,target:"FDC3APIDocs",href:"https://fdc3.finos.org/docs/api/ref/DesktopAgent#addintentlistener",children:Object(k.jsx)(Ee.a,{})})]})]}),"2.0"===window.fdc3Version&&Object(k.jsx)(h.a,{item:!0,xs:12,children:Object(k.jsx)(ln.a,{children:Object(k.jsx)(dn.a,{control:Object(k.jsx)(on.a,{className:n.input,color:"default",checked:Ke,onChange:function(e){return Qe(e.target.checked)}}),label:"Send Intent Result"})})}),Ke&&Object(k.jsx)(h.a,{item:!0,xs:12,className:n.indentLeft,children:Object(k.jsxs)(un.a,{name:"intent-result-type",value:et,onChange:function(e){return tt(e.target.value)},children:[Object(k.jsx)(dn.a,{value:"context-result",control:Object(k.jsx)($t.a,{className:n.input}),label:"Context result"}),"context-result"===et&&Object(k.jsx)(h.a,{item:!0,className:n.indentLeft,children:Object(k.jsx)(Ue,{handleTabChange:t,contextStateSetter:Me})}),Object(k.jsx)(dn.a,{value:"channel-result",control:Object(k.jsx)($t.a,{className:n.input}),label:"Channel result"}),"channel-result"===et&&Object(k.jsxs)(h.a,{item:!0,className:n.indentLeft,children:[Object(k.jsxs)(pn.a,{value:pt,exclusive:!0,onChange:function(e,t){ht(t)},"aria-label":"result channel type",children:[Object(k.jsx)(hn.a,{className:n.toggle,value:"app-channel","aria-label":"left aligned",children:"App Channel"}),Object(k.jsx)(hn.a,{className:n.toggle,value:"private-channel","aria-label":"left aligned",children:"Private Channel"})]}),"app-channel"===pt&&Object(k.jsx)(h.a,{item:!0,className:n.field,children:Object(k.jsx)(Ae.a,{fullWidth:!0,variant:"outlined",label:"Channel Name",type:"text",size:"small",onChange:function(e){return yt(e.target.value)},value:gt})}),Object(k.jsxs)(ln.a,{children:["private-channel"===pt&&Object(k.jsx)(x.a,{variant:"caption",className:n.caption,children:"Context streaming will start AFTER a context listener is added to the channel"}),Object(k.jsx)(dn.a,{control:Object(k.jsx)(on.a,{className:n.input,color:"default",checked:xt,onChange:function(e){return mt(e.target.checked)}}),label:"Send context result over channel"})]}),xt&&Object(k.jsxs)(k.Fragment,{children:[De.map((function(e,t){return Object(k.jsx)(r.a.Fragment,{children:e},t)})),Object(k.jsxs)(h.a,{item:!0,className:n.indentLeft,children:[Object(k.jsx)(D.a,{title:"Add context result (delays will trigger sequentially)","aria-label":"Add context result (delays will trigger sequentially)",children:Object(k.jsx)(G.a,{size:"small","aria-label":"Add context result (delays will trigger sequentially)",color:"primary",onClick:Jt,children:Object(k.jsx)(tn.a,{})})}),Object(k.jsx)(m.a,{target:"FDC3APIDocs",href:"https://fdc3.finos.org/docs/api/ref/DesktopAgent#addintentlistener",children:Object(k.jsx)(Ee.a,{})})]})]})]})]})})]})})]})})),xn=Object(u.a)((function(e){return Object(p.a)({root:{flexGrow:1},title:{display:"flex",alignItems:"center",justifyContent:"space-between"},form:{display:"flex",flexWrap:"wrap",alignItems:"center",marginTop:e.spacing(1),"& > *":{margin:e.spacing(1),marginLeft:"0px"}},contextType:{flexGrow:1,minWidth:"190px"},controls:{"& > *:first-child":{marginLeft:0},"& > *":{marginRight:e.spacing(1)},"& > *:last-child":{marginRight:0},"& .MuiIconButton-sizeSmall":{padding:"6px 0px 6px 0px"},"& > a":{display:"flex",padding:"6px 0px 6px 0px"}},rightAlign:{flexDirection:"row",justifyContent:"flex-end"},spread:{flexDirection:"row","& > *:first-child":{paddingLeft:"0px"}},textField:{width:"100%","& input":{height:"29px",padding:"6px"}},h4:{fontSize:"22px"},h6:{fontSize:"14px"},field:{flexGrow:1,marginRight:e.spacing(1),minWidth:"190px"},border:{height:"1px",width:"100%",backgroundColor:"#acb2c0",marginTop:"24px",marginBottom:"16px"},rightPadding:{paddingRight:e.spacing(.5)}})})),mn=Object(v.a)((function(e){var t=e.handleTabChange,n=xn(),r=Object(a.useState)(""),c=Object(l.a)(r,2),i=c[0],s=c[1];Se.contextsList.map((function(e){var t=e.id,n=e.template;return{title:t,value:t,type:null===n||void 0===n?void 0:n.type}})).unshift({title:"All",value:"all",type:"All"});var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(null===e||void 0===e||e.preventDefault(),i){var t=ut.appChannelsList.find((function(e){return e.id===i}));t||ut.getOrCreateChannel(i),s("")}};return Object(k.jsxs)("div",{className:n.root,children:[Object(k.jsx)(h.a,{item:!0,xs:12,children:Object(k.jsx)(x.a,{variant:"h5",children:"Get Channel"})}),Object(k.jsx)("form",{className:n.form,noValidate:!0,autoComplete:"off",onSubmit:function(e){return o(e)},children:Object(k.jsxs)(h.a,{container:!0,direction:"row",spacing:1,children:[Object(k.jsx)(h.a,{item:!0,className:n.field,children:Object(k.jsx)(Ae.a,{fullWidth:!0,variant:"outlined",label:"Channel Name",type:"text",size:"small",onChange:function(e){s(e.target.value)},value:i})}),Object(k.jsx)(h.a,{item:!0,className:n.controls,children:Object(k.jsx)(W.a,{variant:"contained",color:"primary",onClick:o,disabled:!i,children:"Get or Create Channel"})})]})}),Object(k.jsx)("div",{className:n.border}),Object(k.jsx)(rn,{handleTabChange:t,channelsList:ut.appChannelsList})]})})),vn=(n(225),Object(g.a)({palette:{primary:{light:"#005d85",main:"#0086bf",dark:"#339ecb",contrastText:"#fff"},secondary:{light:"#ff7961",main:"#f44336",dark:"#ba000d",contrastText:"#fff"}},props:{MuiLink:{underline:"hover"},MuiTableCell:{padding:"normal"}},overrides:{MuiTableCell:{root:{padding:"1px"}}}}));vn.typography.h4={fontFamily:"Source Code Pro",fontSize:"20px",color:"#0086bf",paddingLeft:"4px",paddingBottom:"11px"},vn.typography.h5={fontSize:"16px"},vn.typography.body1={fontSize:"1rem",fontFamily:"Roboto, Helvetica, Arial, sans-serif",fontWeight:400,lineHeight:1.5,letterSpacing:"0.00938em",marginBlockStart:"10px",marginBlockEnd:"10px"};var On=Object(u.a)((function(e){return Object(p.a)({"@global":{".MuiFormHelperText-contained.Mui-error":{position:"absolute",marginLeft:"9px",bottom:"-11px",padding:"0 4px",backgroundColor:e.palette.common.white},".MuiButton-contained":{boxShadow:"none"},".MuiGrid-item:has(> .MuiButton-root)":{display:"flex",alignItems:"end"},".MuiInputBase-root.Mui-disabled":{color:"rgba(0, 0, 0, 0.6)",cursor:"default"},".MuiInputBase-root":{marginBlockEnd:"0px"}},root:{flexGrow:1},header:{marginBottom:e.spacing(2)},body:{height:"100%"},paper:{marginTop:e.spacing(2),padding:e.spacing(2),height:"100%","&:first-child":{marginTop:0}},tabs:{borderBottomColor:"#acb2c0",borderBottomStyle:"solid",borderBottomWidth:"1px",minHeight:"28px","& [aria-selected='true']":{backgroundColor:"rgba(0, 134, 191, 0.21)"}},tabIndicator:{backgroundColor:"rgba(0, 134, 191, 0.21)"},indicator:{backgroundColor:"#00bbe1"},footer:{fontSize:"10px",fontStyle:"italic",color:"#5b606f",flexDirection:"row",justifyContent:"center",margin:e.spacing(2),"& *:first-child":{paddingTop:"27px"}},link:{color:"#5b606f",fontWeight:"bold","&:hover":{color:"#5b606f"}},code:{fontFamily:"courier, courier new, serif"},workbench:Object(d.a)({},e.breakpoints.down("sm"),{marginTop:"30px"})})})),gn=function(e){return e.preventDefault(),window.open("https://fdc3.finos.org/docs/api/overview","FDC3ApiDocs"),!1},yn=function(e){return e.preventDefault(),window.open("https://fdc3.finos.org/docs/api/spec#api-access","FDC3ApiDocs"),!1},Cn=function(e){return e.preventDefault(),window.open("https://fdc3.finos.org/docs/supported-platforms","FDC3ApiDocs"),!1},Ln=Object(v.a)((function(){var e,t,n,r=On(),c=Object(a.useState)(!1),i=Object(l.a)(c,2),d=i[0],u=i[1],p=Object(a.useState)(!1),v=Object(l.a)(p,2),g=v[0],L=v[1],w=Object(a.useState)(0),I=Object(l.a)(w,2),S=I[0],A=I[1],T=Object(a.useState)(""),D=Object(l.a)(T,2),E=D[0],F=D[1],V=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";F(n),A(t)},R=function(e,t){"clickaway"!==t&&(L(!1),setTimeout((function(){return ee.clearSnackbarData()}),500))};return Object(a.useEffect)((function(){Object(o.a)(Object(s.a)().mark((function e(){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.fdc3Ready(5e3);case 3:u(!0),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})))()}),[]),Object(a.useEffect)((function(){L(!!ee.snackbarData)}),[ee.snackbarData]),Object(k.jsxs)(O.a,{theme:vn,children:[Object(k.jsxs)(h.a,{className:r.root,container:!0,children:[Object(k.jsx)(h.a,{className:r.header,container:!0,item:!0,xs:12,children:Object(k.jsx)(J,{fdc3Available:d})}),d?Object(k.jsxs)(h.a,{className:r.body,container:!0,spacing:2,item:!0,xs:12,style:{marginLeft:"0px"},children:[Object(k.jsx)(h.a,{item:!0,xs:12,md:8,style:{flex:1},children:Object(k.jsxs)(b.a,{className:r.paper,children:[Object(k.jsxs)(f.a,{value:S,indicatorColor:"primary",onChange:V,variant:"scrollable",scrollButtons:"auto",className:r.tabs,classes:{indicator:r.indicator},children:[Object(k.jsx)(j.a,{label:"Contexts"}),Object(k.jsx)(j.a,{label:"Intents"}),Object(k.jsx)(j.a,{label:"User Channels"}),Object(k.jsx)(j.a,{label:"App Channels"})]}),Object(k.jsx)(N,{value:S,index:0,children:Object(k.jsx)(_t,{contextName:E})}),Object(k.jsx)(N,{value:S,index:1,children:Object(k.jsx)(jn,{handleTabChange:V})}),Object(k.jsx)(N,{value:S,index:2,children:Object(k.jsx)(Be,{handleTabChange:V})}),Object(k.jsx)(N,{value:S,index:3,children:Object(k.jsx)(mn,{handleTabChange:V})})]})}),Object(k.jsx)(h.a,{item:!0,xs:12,md:4,className:r.workbench,children:Object(k.jsx)(b.a,{className:r.paper,children:Object(k.jsx)(It,{})})})]}):Object(k.jsx)(h.a,{className:r.body,container:!0,spacing:2,item:!0,xs:12,style:{marginLeft:"0px"},children:Object(k.jsx)(h.a,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",spacing:2,item:!0,xs:12,children:Object(k.jsxs)(b.a,{className:r.paper,children:[Object(k.jsx)(x.a,{variant:"h4",children:"FDC3 API not detected!"}),Object(k.jsxs)(x.a,{variant:"body1",children:["An FDC3 desktop agent implementation was not found at"," ",Object(k.jsx)("span",{className:r.code,children:"window.fdc3"}),"."]}),Object(k.jsx)(x.a,{variant:"body1",children:"For web applications to be FDC3-enabled, they need to run in the context of an agent that makes the FDC3 API available to the application. This desktop agent is also responsible for lauching and co-ordinating applications. It could be a browser extension, web app, or full-fledged desktop container framework."}),Object(k.jsxs)(x.a,{variant:"body1",children:["See the FDC3 standard documentation for details on"," ",Object(k.jsx)(m.a,{className:r.link,href:"https://fdc3.finos.org/docs/supported-platforms",onClick:Cn,children:"supported platforms"})," ","and"," ",Object(k.jsx)(m.a,{className:r.link,href:"https://fdc3.finos.org/docs/api/spec#api-access",onClick:yn,children:"accessing the FDC3 API"}),"."]})]})})}),Object(k.jsx)(h.a,{container:!0,item:!0,xs:12,className:r.footer,children:Object(k.jsxs)(x.a,{variant:"body1",children:["Learn more about the"," ",Object(k.jsx)(m.a,{className:r.link,href:"https://fdc3.finos.org/docs/api/overview",onClick:gn,children:"FDC3 Standard and APIs"})," ","| Proud member of the"," ",Object(k.jsx)(m.a,{className:r.link,href:"https://www.finos.org/",children:"Fintech Open Source Foundation"})," ","| Copyright \xa9 2021 Cosaic, inc. & Contributors to the FDC3 standards project"]})})]}),Object(k.jsx)(y.a,{open:g,autoHideDuration:4e3,onClose:R,children:Object(k.jsx)(C.a,{elevation:6,variant:"filled",onClose:R,severity:null===(t=ee.snackbarData)||void 0===t?void 0:t.type,children:null===(n=ee.snackbarData)||void 0===n?void 0:n.message})},null===(e=ee.snackbarData)||void 0===e?void 0:e.id)]})})),wn=Ln;window.location.href.endsWith("/")||(window.location.href="".concat(window.location.href,"/")),i.a.render(Object(k.jsx)(r.a.StrictMode,{children:Object(k.jsx)(wn,{})}),document.getElementById("root"))}},[[226,1,2]]]);
//# sourceMappingURL=main.886b7e02.chunk.js.map