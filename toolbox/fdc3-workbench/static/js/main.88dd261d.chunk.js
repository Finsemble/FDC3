(this["webpackJsonpfdc3-workbench"]=this["webpackJsonpfdc3-workbench"]||[]).push([[0],{201:function(e,t){},204:function(e,t){},206:function(e,t){},220:function(e,t,n){},221:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(16),c=n.n(r),o=n(11),s=n.n(o),l=n(20),d=n(10),u=n(84),p=n(270),h=n(303),b=n(278),j=n(223),f=n(296),x=n(286),m=n(71),v=n(295),O=n(19),g=n(294),y=n(141),C=n(300),L=n(297),w=(n(156),n(157),n(158),n(17)),k=n(142),N=n(1),S=["children","value","index"],I=Object(p.a)((function(e){return Object(h.a)({tabPanel:{padding:e.spacing(2)}})})),T=function(e){var t=I(),n=e.children,a=e.value,i=e.index,r=Object(k.a)(e,S);return Object(N.jsx)("div",Object(w.a)(Object(w.a)({role:"tabpanel",hidden:a!==i,id:"scrollable-auto-tabpanel-".concat(i),"aria-labelledby":"scrollable-auto-tab-".concat(i)},r),{},{children:a===i&&Object(N.jsx)("div",{className:t.tabPanel,children:n})}))},A=n(272),E=n(274),F=n(15),D=Object(p.a)((function(e){return Object(h.a)({root:{flexGrow:1},toolbar:{backgroundColor:"transparent",padding:e.spacing(2,4),paddingBottom:"0px"},link:{color:e.palette.common.white,textDecoration:"underline","&:hover":{color:e.palette.common.white}},info:{marginLeft:"auto",minWidth:"200px",fontSize:"12px"},fdc3:{},headerCube:{width:"350px",height:"50px"},backgroundHeader:{background:"linear-gradient(to bottom, #0086bf, #00bbe1)",height:"200px",width:"100%",left:"0px",top:"0px",position:"absolute",zIndex:-10}})})),V=function(e){var t=D(),n=Object(a.useState)(),i=Object(d.a)(n,2),r=i[0],c=i[1];return Object(a.useEffect)((function(){if(e.fdc3Available)try{var t=F.f(),n={fdc3Version:"not specified",provider:"not specified",providerVersion:"not specified"};t.fdc3Version&&(n.fdc3Version=t.fdc3Version),t.provider&&(n.provider=t.provider),t.providerVersion&&(n.providerVersion=t.providerVersion),c(n)}catch(a){console.error("Failed to retrieve FDC3 implementation info",a)}}),[e.fdc3Available]),Object(N.jsxs)("div",{className:t.root,children:[Object(N.jsx)("div",{className:t.backgroundHeader}),Object(N.jsx)(A.a,{position:"static",elevation:0,style:{backgroundColor:"transparent"},children:Object(N.jsxs)(E.a,{className:t.toolbar,children:[Object(N.jsx)("div",{children:Object(N.jsx)(m.a,{variant:"h3",color:"inherit",className:t.fdc3,children:Object(N.jsx)("img",{src:"./fdc3-logo.svg",className:t.headerCube})})}),Object(N.jsx)("div",{className:t.info,children:Object(N.jsx)("table",{id:"providerInfo",children:Object(N.jsxs)("tbody",{children:[Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{scope:"row",children:"FDC3 Version"}),Object(N.jsx)("td",{children:(null===r||void 0===r?void 0:r.fdc3Version)?r.fdc3Version:"unknown"})]}),Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{scope:"row",children:"Provider"}),Object(N.jsx)("td",{children:(null===r||void 0===r?void 0:r.provider)?r.provider:"unknown"})]}),Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{scope:"row",children:"Provider version"}),Object(N.jsx)("td",{children:(null===r||void 0===r?void 0:r.providerVersion)?r.providerVersion:"unknown"})]})]})})})]})})]})},R=n(279),z=n(280),M=n(231),P=n(226),B=n(236),J=n(234),U=n(281),W=n(229),G=n(26),H=n.n(G),Y=n(33),X=n(34),_=n(5),K=n(45),Q=new(function(){function e(){Object(Y.a)(this,e),this.snackbarData=null,Object(_.m)(this,{snackbarData:_.n,setSnackbar:_.f,clearSnackbarData:_.f})}return Object(X.a)(e,[{key:"setSnackbar",value:function(e){this.snackbarData=Object(w.a)(Object(w.a)({},e),{},{id:Object(K.a)()})}},{key:"clearSnackbarData",value:function(){this.snackbarData=null}}]),e}()),q=new(function(){function e(){Object(Y.a)(this,e),this.logList=[],Object(_.m)(this,{logList:_.n,addLog:_.f})}return Object(X.a)(e,[{key:"addLog",value:function(e){var t=e.name,n=e.type,a=e.value,i=e.body,r=e.variant,c=function(e,t){var n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i={getFdc3:{error:"The FDC3 API is not ready".concat(a?" (".concat(a,")"):"")},getChannels:{success:"Successfully retrieved System channels",error:"Failed to retrieve System channels"},getCurrentChannel:{success:"Successfully retrieved current channel [".concat(a,"]"),error:"Failed to retrieve current channel"},joinChannel:{success:"Successfully joined the [".concat(a,"] channel"),error:"Failed to join the [".concat(a,"] channel")},leaveChannel:{success:"Successfully left the [".concat(a,"] channel"),error:"Failed to leave the [".concat(a,"] channel"),warning:"Not currently joined to a channel"},broadcast:{success:"Successfully broadcasted context",error:"Failed to broadcast context:"},appbroadcast:{success:"Successfully broadcasted context to channel [".concat(a,"]: "),error:"Failed to broadcast context to channel [".concat(a,"]:")},raiseIntent:{success:"Successfully raised intent [".concat(a,"]"),error:"Failed to raise intent [".concat(a,"]")},raiseIntentForContext:{success:"Successfully raised intent for context",error:"Failed to raise intent for context"},addContextListener:{success:"A context listener for '[".concat(a,"]' has been added"),error:"Failed to add a context listener for '[".concat(a,"]'")},removeContextListener:{success:"A context listener for '[".concat(a,"]' has been removed"),error:"Failed to remove a context listener for '[".concat(a,"]'")},removeAppChannelContextListener:{success:"".concat(a),error:"".concat(a)},addIntentListener:{success:"An intent listener for '[".concat(a,"]' has been added"),error:"Failed to add an intent listener for '[".concat(a,"]'")},removeIntentListener:{success:"An intent listener for '[".concat(a,"]' has been removed"),error:"Failed to remove an intent listener for '[".concat(a,"]'")},receivedContextListener:{info:"Received context via '[".concat(a,"]' listener"),error:"Failed to receive context from '[".concat(a,"]' listener")},receivedAppContextListener:{info:"".concat(a),error:"".concat(a)},addAppContextListener:{info:"".concat(a),error:"".concat(a)},receivedIntentListener:{info:"Received context via '[".concat(a,"]' listener."),error:"Failed to receive context from '[".concat(a,"]' listener.")},saveTemplate:{success:"Saved context template for '[".concat(a,"]'."),error:"Failed to save context template."},deleteTemplate:{success:"Deleted context template for '[".concat(a,"]'."),error:"Failed to delete context template."},copyToClipboard:{info:"".concat(a," code snippet copied to clipboard"),error:"Failed to copy code ".concat(a," snippet to clipboard.")},getOrCreateChannel:{success:"Successfully retrieved or created current app channel [".concat(a,"]"),error:"Failed retrieve or create app channel ".concat(a,".")}};return null!==(n=i[e][t])&&void 0!==n?n:""!=a?"".concat(a):"Undefined log message ".concat(e,".").concat(t)}(t,n,a);Q.setSnackbar({message:c,type:n}),this.logList.push({id:Object(K.a)(),name:t,type:n,message:c,body:i,variant:null!==r&&void 0!==r?r:"text"})}}]),e}()),Z=new(function(){function e(){Object(Y.a)(this,e),this.systemChannels=[],this.currentChannel=null,Object(_.m)(this,{systemChannels:_.n,currentChannel:_.n,getChannels:_.f,joinChannel:_.f,leaveChannel:_.f,getCurrentChannel:_.f}),this.getChannels()}return Object(X.a)(e,[{key:"getCurrentChannel",value:function(){var e=Object(l.a)(s.a.mark((function e(){var t,n=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.e();case 3:t=e.sent,Object(_.o)((function(){q.addLog({name:"getCurrentChannel",type:"success",value:t?t.id:"none",variant:"text"}),n.currentChannel=t})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Object(_.o)((function(){q.addLog({name:"getCurrentChannel",type:"error",variant:"text"})}));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"getChannels",value:function(){var e=Object(l.a)(s.a.mark((function e(){var t=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(F.c)(5e3).then(Object(l.a)(s.a.mark((function e(){var n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.h();case 3:return n=e.sent,e.next=6,F.e();case 6:a=e.sent,Object(_.o)((function(){q.addLog({name:"getChannels",type:"success"}),t.systemChannels=n,t.currentChannel=a})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),q.addLog({name:"getChannels",type:"error",variant:"code",body:JSON.stringify(e.t0,null,4)});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).catch((function(e){q.addLog({name:"getFdc3",type:"error",variant:"text",value:e})}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"joinChannel",value:function(){var e=Object(l.a)(s.a.mark((function e(t){var n,a,i=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.i(t);case 3:return e.next=5,F.e();case 5:n=e.sent,a=null!==n,Object(_.o)((function(){q.addLog({name:"joinChannel",type:a?"success":"error",value:a?null===n||void 0===n?void 0:n.id:t,variant:"text"}),i.currentChannel=n})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),q.addLog({name:"joinChannel",type:"error",value:t,variant:"code",body:JSON.stringify(e.t0,null,4)});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"leaveChannel",value:function(){var e=Object(l.a)(s.a.mark((function e(){var t,n,a,i=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.e();case 3:if(t=e.sent){e.next=8;break}q.addLog({name:"leaveChannel",type:"warning",value:"",variant:"text"}),e.next=15;break;case 8:return e.next=10,F.j();case 10:return e.next=12,F.e();case 12:t=e.sent,n=null===t,Object(_.o)((function(){var e;q.addLog({name:"leaveChannel",type:n?"success":"error",value:null===(e=i.currentChannel)||void 0===e?void 0:e.id,variant:"text"}),n&&(i.currentChannel=null)}));case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),q.addLog({name:"leaveChannel",type:"error",value:null===(a=this.currentChannel)||void 0===a?void 0:a.id,variant:"code",body:JSON.stringify(e.t0,null,4)});case 20:case"end":return e.stop()}}),e,this,[[0,17]])})));return function(){return e.apply(this,arguments)}}()}]),e}()),$="// get all system channels\nconst channels = await fdc3.getSystemChannels();\n\n// create UI to pick from the system channels\n\n// join the channel on selection\nfdc3.joinChannel(selectedChannel.id);",ee="// get the current channel membership\nlet current = await fdc3.getCurrentChannel();\n\n//leave the current channel\nawait fdc3.leaveCurrentChannel();\n//the fdc3Listener will now cease receiving context",te="const instrument = {\n    type: 'fdc3.instrument',\n    id: {\n        ticker: 'AAPL'\n    }\n};\n\nfdc3.broadcast(instrument);",ne="const instrument = {\n    type: 'fdc3.instrument',\n    id: {\n        ticker: 'AAPL'\n    }\n};\n\nappChannelID.broadcast(instrument);",ae='//Raise an intent with a specified context\nlet context = {type: "fdc3.instrument", name: "Tesla, inc.", id: {ticker: "TSLA"}}; \nfdc3.raiseIntent("ViewChart", context);',ie="// any context\nconst listener = fdc3.addContextListener(null, context => {\n    //add context handling code here\n});\n\n// listener for a specific type\nconst contactListener = fdc3.addContextListener('fdc3.contact', contact => {\n    //add context handling code here\n});",re="// any context\nconst listener = appChannelID.addContextListener(null, context => {\n    //add context handling code here\n});\n\n// listener for a specific type\nconst contactListener = appChannelID.addContextListener('fdc3.contact', contact => {\n    //add context handling code here\n});",ce="const listener = fdc3.addIntentListener('StartChat', context => {\n  // start chat has been requested by another application\n});",oe="const intentResolution = await fdc3.raiseIntentForContext(context);",se=function(e,t){return function(){navigator.clipboard.writeText(e),Object(_.o)((function(){q.addLog({name:"copyToClipboard",type:"info",value:t,variant:"text"})}))}},le=n(277),de=n(299),ue=[{id:"Contact example",template:{type:"fdc3.contact",name:"Jane Doe",id:{email:"jane.doe@mail.com"}},schemaUrl:new URL("https://fdc3.finos.org/schemas/1.2/contact.schema.json")},{id:"ContactList example",template:{type:"fdc3.contactList",contacts:[{type:"fdc3.contact",name:"Jane Doe",id:{email:"jane.doe@mail.com"}},{type:"fdc3.contact",name:"John Doe",id:{email:"john.doe@mail.com"}}]},schemaUrl:new URL("https://fdc3.finos.org/schemas/1.2/contactList.schema.json")},{id:"Instrument example",template:{type:"fdc3.instrument",name:"Microsoft",id:{ticker:"MSFT",RIC:"MSFT.OQ",ISIN:"US5949181045"}},schemaUrl:new URL("https://fdc3.finos.org/schemas/1.2/instrument.schema.json")},{id:"InstrumentList example",template:{type:"fdc3.instrumentList",instruments:[{type:"fdc3.instrument",id:{ticker:"AAPL"}},{type:"fdc3.instrument",id:{ticker:"MSFT"}}]},schemaUrl:new URL("https://fdc3.finos.org/schemas/1.2/instrumentList.schema.json")},{id:"Organization example",template:{type:"fdc3.organization",name:"Cargill, Incorporated",id:{LEI:"QXZYQNMR4JZ5RIRN4T31",FDS_ID:"00161G-E"}},schemaUrl:new URL("https://fdc3.finos.org/schemas/1.2/organization.schema.json")},{id:"Country example",template:{type:"fdc3.country",name:"Sweden",id:{ISOALPHA3:"SWE"}},schemaUrl:new URL("https://fdc3.finos.org/schemas/1.2/country.schema.json")},{id:"Position example",template:{type:"fdc3.position",instrument:{type:"fdc3.instrument",id:{ticker:"AAPL"}},holding:2e6},schemaUrl:new URL("https://fdc3.finos.org/schemas/1.2/position.schema.json")},{id:"Portfolio example",template:{type:"fdc3.portfolio",positions:[{type:"fdc3.position",instrument:{type:"fdc3.instrument",id:{ticker:"AAPL"}},holding:2e6},{type:"fdc3.position",instrument:{type:"fdc3.instrument",id:{ticker:"MSFT"}},holding:15e5},{type:"fdc3.position",instrument:{type:"fdc3.instrument",id:{ticker:"IBM"}},holding:3e6}]},schemaUrl:new URL("https://fdc3.finos.org/schemas/1.2/portfolio.schema.json")}],pe=new(function(){function e(){Object(Y.a)(this,e),this.contextsList=ue,this.currentContext=null,this.contextListeners=[],Object(_.m)(this,{contextsList:_.n,currentContext:_.n,contextListeners:_.n,setContext:_.f,deleteContextItem:_.f,broadcast:_.f,addContextItem:_.f,saveContextItem:_.f,addContextListener:_.f,removeContextListener:_.f});var t=localStorage.getItem("contextList"),n=!0;try{if(t){var a=JSON.parse(t);Array.isArray(a)&&(this.contextsList=a,n=!1)}}catch(i){console.log("Failed to parse context list from localstorage")}n&&this.updateLocalStorage(JSON.stringify(ue))}return Object(X.a)(e,[{key:"addContextItem",value:function(e){this.contextsList.push(e),this.contextsList.sort((function(e,t){return e.id.localeCompare(t.id)})),this.updateLocalStorage(this.contextsList)}},{key:"saveContextItem",value:function(e,t){var n=this.contextsList.find((function(n){var a=n.id;return a===t||a===e.id}));n&&Object.keys(e).forEach((function(t){return n[t]=e[t]})),this.updateLocalStorage(this.contextsList)}},{key:"setContext",value:function(e){this.currentContext=e}},{key:"deleteContextItem",value:function(e){this.contextsList=this.contextsList.filter((function(t){return t!=e})),this.updateLocalStorage(this.contextsList)}},{key:"resetContextList",value:function(){this.contextsList=ue,this.updateLocalStorage(this.contextsList)}},{key:"updateLocalStorage",value:function(e){localStorage.setItem("contextList",JSON.stringify(e))}},{key:"broadcast",value:function(){var e=Object(l.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=19;break}return e.next=3,F.e();case 3:if(e.sent){e.next=8;break}q.addLog({name:"broadcast",type:"warning",value:"You are not currently joined to a channel (no-op)",variant:"text"}),e.next=17;break;case 8:return e.prev=8,e.next=11,F.b(Object(_.p)(t));case 11:q.addLog({name:"broadcast",type:"success",body:JSON.stringify(t,null,4),variant:"code"}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(8),q.addLog({name:"broadcast",type:"error",body:JSON.stringify(e.t0,null,4),variant:"code"});case 17:e.next=20;break;case 19:q.addLog({name:"broadcast",type:"warning",value:"You must set a context before you can broadcast it",variant:"text"});case 20:case"end":return e.stop()}}),e,null,[[8,14]])})));return function(t){return e.apply(this,arguments)}}()},{key:"addContextListener",value:function(e){var t=this;try{if("string"===typeof e){var n=Object(K.a)(),a=window.fdc3.addContextListener("all"===e.toLowerCase()?null:e,(function(a){var i=t.contextListeners.find((function(e){return e.id===n}));Object(_.o)((function(){i&&(i.lastReceivedContext=a)})),q.addLog({name:"receivedContextListener",type:"info",value:e,variant:"code",body:JSON.stringify(a,null,4)})}));Object(_.o)((function(){q.addLog({name:"addContextListener",type:"success",value:e,variant:"text"}),t.contextListeners.push({id:n,type:e,listener:a})}))}else Object(_.o)((function(){q.addLog({name:"addContextListener",type:"error",value:e,variant:"code"})}))}catch(i){q.addLog({name:"addContextListener",type:"error",value:e,variant:"code",body:JSON.stringify(i,null,4)})}}},{key:"removeContextListener",value:function(e){var t=this,n=this.contextListeners.findIndex((function(t){return t.id===e}));if(-1!==n)try{this.contextListeners[n].listener.unsubscribe(),Object(_.o)((function(){q.addLog({name:"removeContextListener",type:"success",value:t.contextListeners[n].type,variant:"text"}),t.contextListeners.splice(n,1)}))}catch(a){q.addLog({name:"removeContextListener",type:"error",value:this.contextListeners[n].type,variant:"code",body:JSON.stringify(a,null,4)})}}},{key:"isContextListenerExists",value:function(e){return!!this.contextListeners.find((function(t){return t.type===e}))}}]),e}()),he=n(6),be=n(275),je=Object(he.a)({root:{"& label.Mui-focused":{color:"#0086bf"},"& .MuiInput-underline:after":{borderBottomColor:"#0086bf"},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"#0086bf"},"&:hover fieldset":{borderColor:"#0086bf"},"&.Mui-focused fieldset":{borderColor:"#0086bf"}}}})(be.a),fe=Object(p.a)((function(e){return Object(h.a)({root:{flexGrow:1},form:{display:"flex",flexWrap:"wrap",marginTop:e.spacing(1),"& > *":{marginRight:0}},controls:{"& .MuiIconButton-sizeSmall":{padding:"6px",marginLeft:e.spacing(1)}},spread:{flexDirection:"row",justifyContent:"flex-end"},contextListenerName:{flexGrow:1,marginRight:e.spacing(1),minWidth:"190px"},rightAlign:{flexDirection:"row",justifyContent:"flex-end"}})})),xe=Object(le.a)(),me=Object(O.a)((function(){var e=fe(),t=Object(a.useState)(null),n=Object(d.a)(t,2),i=n[0],r=n[1],c=Object(a.useState)(!1),o=Object(d.a)(c,2),s=o[0],l=o[1],u=pe.contextsList.map((function(e){var t=e.id,n=e.template;return{title:t,value:t,type:null===n||void 0===n?void 0:n.type}}));u.unshift({title:"All",value:"all",type:"All"});var p,h,j=Array.from(new Map(u.reverse().map((function(e){return[e.type,e]}))).values()).reverse();return Object(N.jsxs)("div",{className:e.root,children:[Object(N.jsx)(b.a,{item:!0,xs:12,children:Object(N.jsx)(m.a,{variant:"h5",children:"Add Context Listener"})}),Object(N.jsx)("form",{className:e.form,noValidate:!0,autoComplete:"off",children:Object(N.jsxs)(b.a,{container:!0,direction:"row",spacing:1,justifyContent:"space-between",className:"".concat(e.controls," ").concat(e.rightAlign),children:[Object(N.jsx)(b.a,{item:!0,className:e.contextListenerName,children:Object(N.jsx)(de.a,{id:"context-listener",size:"small",selectOnFocus:!0,blurOnSelect:!0,clearOnBlur:!0,handleHomeEndKeys:!0,value:i,onChange:(p=r,h=l,function(e,t){"string"===typeof t?p({title:t,value:t,type:t}):t&&t.inputValue?p({title:t.inputValue,value:t.inputValue,type:t.inputValue}):p(t),h(!1)}),filterOptions:function(e,t){var n=xe(e,t);return""!==t.inputValue&&n.push({value:t.inputValue,title:'Add "'.concat(t.inputValue,'"'),type:t.inputValue}),n},options:j,getOptionLabel:function(e){return e.type?e.type:e.title},renderOption:function(e){return e.type},renderInput:function(e){return Object(N.jsx)(je,Object(w.a)(Object(w.a)({label:"CONTEXT TYPE",placeholder:"Enter Context Type",variant:"outlined"},e),{},{error:!!s,helperText:s}))}})}),Object(N.jsxs)(b.a,{item:!0,className:e.controls,children:[Object(N.jsx)(R.a,{variant:"contained",color:"primary",onClick:function(){i?pe.isContextListenerExists(i.type)?l("Listener already added"):(pe.addContextListener(i.type),r(null)):l("Enter context type")},children:"Add Listener"}),Object(N.jsx)(z.a,{title:"Copy code example","aria-label":"Copy code example",children:Object(N.jsx)(M.a,{size:"small","aria-label":"Copy code example",color:"primary",onClick:se(ie,"addContextListener"),children:Object(N.jsx)(H.a,{})})})]})]})})]})})),ve=Object(p.a)((function(e){return Object(h.a)({root:{flexGrow:1},form:{display:"flex",flexWrap:"wrap","& > *":{marginRight:0}},controls:{"& .MuiIconButton-sizeSmall":{padding:"6px",marginLeft:e.spacing(1)}},contextName:{flexGrow:1,minWidth:"190px"},rightAlign:{flexDirection:"row",justifyContent:"flex-end"},link:{cursor:"pointer",color:"black"}})})),Oe=Object(le.a)(),ge=Object(O.a)((function(e){var t,n,i=e.handleTabChange,r=e.contextStateSetter,c=e.channel,o=ve(),s=Object(a.useState)(null),l=Object(d.a)(s,2),u=l[0],p=l[1],h=Object(a.useState)(!1),j=Object(d.a)(h,2),f=j[0],x=j[1],m=pe.contextsList.map((function(e){var t=e.id;return{title:t,value:t}})),v=Object(a.useRef)(!0);return Object(a.useEffect)((function(){v.current?v.current=!1:pe.contextsList.find((function(e){return e.id===(null===u||void 0===u?void 0:u.value)}))||i(null,0,null===u||void 0===u?void 0:u.value)}),[u]),Object(N.jsx)("div",{className:o.root,children:Object(N.jsx)("form",{className:o.form,noValidate:!0,autoComplete:"off",children:Object(N.jsx)(b.a,{container:!0,direction:"row",spacing:1,justifyContent:"space-between",className:"".concat(o.controls," ").concat(o.rightAlign),children:Object(N.jsx)(b.a,{item:!0,className:o.contextName,children:Object(N.jsx)(de.a,{id:"context-",size:"small",selectOnFocus:!0,blurOnSelect:!0,clearOnBlur:!0,handleHomeEndKeys:!0,value:u,onChange:(t=p,n=x,function(e,a){var i=pe.contextsList.find((function(e){return e.id===(null===a||void 0===a?void 0:a.value)}));i&&r(i.template,c),"string"===typeof a?t({title:a,value:a}):a&&a.inputValue?t({title:a.inputValue,value:a.inputValue}):t(a),n(!1)}),getOptionSelected:function(e,t){return e.value===t.value},filterOptions:function(e,t){var n=Oe(e,t);return""!==t.inputValue&&n.push({value:t.inputValue,title:'Add "'.concat(t.inputValue,'"')}),n},options:m,getOptionLabel:function(e){return e.value?e.value:e.title},renderOption:function(e){return e.title},renderInput:function(e){return Object(N.jsx)(je,Object(w.a)(Object(w.a)({label:"CONTEXT ",placeholder:"Enter Context Type",variant:"outlined"},e),{},{error:!!f,helperText:f}))}})})})})})})),ye=Object(p.a)((function(e){return Object(h.a)({root:{flexGrow:1},form:{display:"flex",flexWrap:"wrap",alignItems:"center",marginTop:e.spacing(1),"& > *":{margin:e.spacing(1)},"& > *:first-child":{marginLeft:0,paddingLeft:0},"& > * > *:first-child":{marginLeft:0,paddingLeft:0}},channelsSelect:{width:"100%",marginRight:e.spacing(1)},controls:{"& .MuiIconButton-sizeSmall":{padding:"6px"}},border:{height:"1px",width:"100%",backgroundColor:"#acb2c0",marginTop:"24px",marginBottom:"16px"},centerChildren:{display:"flex",alignItems:"center"}})})),Ce=Object(O.a)((function(e){var t,n,i=e.handleTabChange,r=ye(),c=Object(a.useState)(""),o=Object(d.a)(c,2),s=o[0],l=o[1],u=Object(a.useState)(!1),p=Object(d.a)(u,2),h=p[0],j=p[1],f=Object(a.useState)(null),x=Object(d.a)(f,2),v=x[0],O=x[1];return Object(N.jsxs)("div",{className:r.root,children:[Object(N.jsx)(b.a,{item:!0,xs:12,children:Object(N.jsx)(m.a,{variant:"h5",children:"Current Channel"})}),Object(N.jsx)("form",{className:r.form,noValidate:!0,autoComplete:"off",children:Object(N.jsxs)(b.a,{container:!0,direction:"row",spacing:1,children:[Object(N.jsx)(b.a,{item:!0,xs:12,sm:5,children:Object(N.jsx)(m.a,{variant:"body1",children:null!==(t=null===(n=Z.currentChannel)||void 0===n?void 0:n.id)&&void 0!==t?t:"None"})}),Object(N.jsx)(b.a,{item:!0,xs:12,sm:7,children:Object(N.jsxs)(b.a,{container:!0,direction:"row",justifyContent:"flex-end",spacing:1,children:[Object(N.jsx)(b.a,{item:!0,className:r.controls,children:Object(N.jsx)(R.a,{variant:"contained",color:"primary",onClick:function(){Z.getCurrentChannel()},children:"Refresh"})}),Object(N.jsx)(b.a,{item:!0,className:r.controls,children:Object(N.jsx)(R.a,{variant:"contained",color:"primary",onClick:function(){Z.leaveChannel()},children:"Leave"})}),Object(N.jsx)(b.a,{item:!0,className:r.controls,children:Object(N.jsx)(z.a,{title:"Copy code example","aria-label":"Copy code example",children:Object(N.jsx)(M.a,{size:"small","aria-label":"Copy code example",color:"primary",onClick:se(ee,"getCurrentChannel"),children:Object(N.jsx)(H.a,{})})})})]})})]})}),Object(N.jsx)("div",{className:r.border}),Object(N.jsx)(b.a,{item:!0,xs:12,children:Object(N.jsx)(m.a,{variant:"h5",children:"Join System Channels"})}),Object(N.jsx)("form",{className:r.form,noValidate:!0,autoComplete:"off",children:Object(N.jsxs)(b.a,{container:!0,spacing:1,children:[Object(N.jsx)(b.a,{item:!0,xs:12,sm:9,children:Object(N.jsxs)(P.a,{variant:"outlined",className:r.channelsSelect,size:"small",error:h,children:[Object(N.jsx)(B.a,{id:"channel",children:"Channel"}),Object(N.jsxs)(J.a,{labelId:"channel",id:"channel-select",value:null!==s&&void 0!==s?s:"",onChange:function(e){l(e.target.value),j(!1)},label:"Channel",MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},children:[!Z.systemChannels.length&&Object(N.jsx)(U.a,{value:"",disabled:!0,children:"No channels received"}),Z.systemChannels.length&&Object(N.jsx)(U.a,{value:"",style:{height:"0",padding:"0"}}),Z.systemChannels.length&&Z.systemChannels.map((function(e){var t=e.id;return Object(N.jsx)(U.a,{value:t,children:t},t)}))]}),h&&Object(N.jsx)(W.a,{children:"Select channel from list"})]})}),Object(N.jsx)(b.a,{item:!0,xs:12,sm:3,className:r.centerChildren,children:Object(N.jsxs)(b.a,{container:!0,direction:"row",justifyContent:"flex-end",spacing:1,children:[Object(N.jsx)(b.a,{item:!0,className:r.controls,children:Object(N.jsx)(R.a,{variant:"contained",color:"primary",onClick:function(){s?(Z.joinChannel(s),l("")):j(!0)},children:"Join"})}),Object(N.jsx)(b.a,{item:!0,className:r.controls,children:Object(N.jsx)(z.a,{title:"Copy code example","aria-label":"Copy code example",children:Object(N.jsx)(M.a,{size:"small","aria-label":"Copy code example",color:"primary",onClick:se($,"joinChannel"),children:Object(N.jsx)(H.a,{})})})})]})})]})}),Object(N.jsx)("div",{className:r.border}),Object(N.jsx)(b.a,{item:!0,xs:12,children:Object(N.jsx)(m.a,{variant:"h5",children:"Broadcast context"})}),Object(N.jsxs)(b.a,{container:!0,direction:"row",spacing:1,children:[Object(N.jsx)(b.a,{item:!0,sm:9,children:Object(N.jsx)(ge,{handleTabChange:i,contextStateSetter:O})}),Object(N.jsx)(b.a,{item:!0,sm:3,className:r.centerChildren,children:Object(N.jsxs)(b.a,{container:!0,direction:"row",justifyContent:"flex-end",spacing:1,children:[Object(N.jsx)(b.a,{item:!0,className:r.controls,children:Object(N.jsx)(R.a,{disabled:!v,variant:"contained",color:"primary",onClick:function(){v&&pe.broadcast(v)},children:"Broadcast Context"})}),Object(N.jsx)(b.a,{item:!0,className:r.controls,children:Object(N.jsx)(z.a,{title:"Copy code example","aria-label":"Copy code example",children:Object(N.jsx)(M.a,{size:"small","aria-label":"Copy code example",color:"primary",onClick:se(te,"broadcast"),children:Object(N.jsx)(H.a,{})})})})]})}),Object(N.jsx)("div",{className:r.border}),Object(N.jsx)(me,{})]})]})})),Le=n(94),we=n.n(Le),ke=n(276),Ne=n(232),Se=n(284),Ie=n(285),Te=n(301),Ae=n(282),Ee=n(283),Fe=n(136),De=n.n(Fe),Ve=Object(p.a)((function(e){return Object(h.a)({accordion:{margin:e.spacing(1,0,0,0),boxShadow:"none","&::before":{display:"none"},"&.Mui-expanded":{margin:e.spacing(1,0,0,0)}},accordionSummary:{border:"none",padding:0,minHeight:"initial","&.Mui-expanded":{minHeight:"initial"},"& .MuiAccordionSummary-content":{margin:"0 12px 0 0","&.Mui-expanded":{margin:"0 12px 0 0"}},"& .MuiAccordionSummary-expandIcon":{padding:"6px"}},accordionDetails:{paddingTop:0,paddingLeft:0,flexDirection:"column"},accordionTitle:{color:"#0086bf",fontSize:"16px"},expand_icon:{color:"#0086bf"},icon:{marginBottom:"-1px !important",fontSize:"15px",marginLeft:"5px"}})})),Re=function(e){var t=e.icon,n=e.title,a=e.children,i=Ve();return Object(N.jsxs)(Te.a,{className:i.accordion,defaultExpanded:!0,children:[Object(N.jsx)(Ae.a,{className:i.accordionSummary,expandIcon:Object(N.jsx)(De.a,{className:i.expand_icon}),"aria-label":"Expand","aria-controls":"additional-actions1-content",id:"additional-actions1-header",children:Object(N.jsxs)(m.a,{variant:"h5",className:i.accordionTitle,children:[n,t&&Object(N.jsx)(z.a,{title:t,"aria-label":t,children:Object(N.jsx)(we.a,{className:i.icon})})]})}),Object(N.jsx)(Ee.a,{className:i.accordionDetails,children:a})]})},ze=n(137),Me=n.n(ze),Pe=Object(p.a)((function(e){return Object(h.a)({list:{padding:0,width:"100%"},listItem:{padding:0,"&.MuiListItem-secondaryAction":{paddingRight:e.spacing(6)}},listAction:{top:"2px",transform:"none"}})})),Be=function(e){var t=e.title,n=e.icon,a=e.listItems,i=e.noItemsText,r=e.onDelete,c=Pe(),o=function(e){return function(){r&&r(e)}};return Object(N.jsxs)(Re,{title:t,icon:n,children:[!a.length&&Object(N.jsx)(m.a,{variant:"body1",children:i}),!!a.length&&Object(N.jsx)(ke.a,{className:c.list,children:a.map((function(e){var t=e.id,n=e.textPrimary,a=e.afterEachElement;return Object(N.jsxs)(Ne.a,{className:c.listItem,disableGutters:!0,children:[Object(N.jsx)(Se.a,{disableTypography:!0,primary:n,secondary:a}),Object(N.jsx)(Ie.a,{className:c.listAction,children:r&&Object(N.jsx)(M.a,{size:"small",edge:"end","aria-label":"delete",onClick:o(t),children:Object(N.jsx)(Me.a,{})})})]},t)}))})]})},Je=Object(p.a)((function(e){return Object(h.a)({textField:{marginTop:e.spacing(2),width:"100%"},input:{fontSize:"14px"}})})),Ue=Object(O.a)((function(){var e=Je(),t=pe.contextListeners.map((function(t){var n=t.id,a=t.type,i=t.lastReceivedContext,r=i?JSON.stringify(i,void 0,4):"",c=Object(N.jsx)(be.a,{disabled:!0,label:"LAST RECEIVED CONTEXT",className:e.textField,InputLabelProps:{shrink:!0},contentEditable:!1,fullWidth:!0,multiline:!0,variant:"outlined",size:"small",value:r,InputProps:{classes:{input:e.input}}});return{id:n,textPrimary:"".concat(a),afterEachElement:c}}));return Object(N.jsx)(Be,{title:"System Channels",icon:"Any context already in the channel will be received automatically",noItemsText:"No System Channels Listeners",listItems:t,onDelete:function(e){pe.removeContextListener(e)}})})),We=[{title:"StartCall",value:"StartCall"},{title:"StartChat",value:"StartChat"},{title:"ViewChart",value:"ViewChart"},{title:"ViewContact",value:"ViewContact"},{title:"ViewQuote",value:"ViewQuote"},{title:"ViewNews",value:"ViewNews"},{title:"ViewAnalysis",value:"ViewAnalysis"},{title:"ViewInstrument",value:"ViewInstrument"}],Ge=new(function(){function e(){Object(Y.a)(this,e),this.intentsList=We,this.intentListeners=[],Object(_.m)(this,{intentsList:_.n,intentListeners:_.n,raiseIntent:_.f,addIntentListener:_.f,removeIntentListener:_.f,raiseIntentForContext:_.f})}return Object(X.a)(e,[{key:"addIntentListener",value:function(e){var t=this;try{var n=Object(K.a)(),a=F.a(e,(function(a){var i=t.intentListeners.find((function(e){return e.id===n}));Object(_.o)((function(){i&&(i.lastReceivedContext=a)})),q.addLog({name:"receivedIntentListener",type:"info",value:e,variant:"code",body:JSON.stringify(a,null,4)})}));Object(_.o)((function(){q.addLog({name:"addIntentListener",type:"success",value:e,variant:"text"}),t.intentListeners.push({id:n,type:e,listener:a})}))}catch(i){q.addLog({name:"addIntentListener",type:"error",value:e,variant:"code",body:JSON.stringify(i,null,4)})}}},{key:"removeIntentListener",value:function(e){var t=this,n=this.intentListeners.findIndex((function(t){return t.id===e}));if(-1!==n)try{this.intentListeners[n].listener.unsubscribe(),Object(_.o)((function(){q.addLog({name:"removeIntentListener",type:"success",value:t.intentListeners[n].type,variant:"text"}),t.intentListeners.splice(n,1)}))}catch(a){q.addLog({name:"removeIntentListener",type:"error",value:this.intentListeners[n].type,variant:"code",body:JSON.stringify(a,null,4)})}}},{key:"raiseIntent",value:function(){var e=Object(l.a)(s.a.mark((function e(t,n,a){var i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=17;break}if(e.prev=1,!a){e.next=8;break}return e.next=5,F.k(t,Object(_.p)(n),a);case 5:i=e.sent,e.next=11;break;case 8:return e.next=10,F.k(t,Object(_.p)(n));case 10:i=e.sent;case 11:q.addLog({name:"raiseIntent",type:"success",value:t,variant:"code",body:JSON.stringify(i,null,4)}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),q.addLog({name:"raiseIntent",type:"error",value:t,variant:"code",body:JSON.stringify(e.t0,null,4)});case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"raiseIntentForContext",value:function(){var e=Object(l.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=15;break}if(e.prev=1,!n){e.next=7;break}return e.next=5,F.l(Object(_.p)(t),n);case 5:e.next=9;break;case 7:return e.next=9,F.l(Object(_.p)(t));case 9:q.addLog({name:"raiseIntentForContext",type:"success"}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),q.addLog({name:"raiseIntentForContext",type:"error"});case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,n){return e.apply(this,arguments)}}()}]),e}()),He=Object(p.a)((function(e){return Object(h.a)({textField:{marginTop:e.spacing(2),width:"100%"},input:{fontSize:"14px",color:"rgba(0, 0, 0, 0.6)"},"& .Mui-disabled":{borderColor:e.palette.text.primary}})})),Ye=Object(O.a)((function(){var e=He(),t=Ge.intentListeners.map((function(t){var n=t.id,a=t.type,i=t.lastReceivedContext,r=i?JSON.stringify(i,void 0,4):"",c=Object(N.jsx)(be.a,{disabled:!0,label:"LAST RECEIVED CONTEXT",className:e.textField,InputLabelProps:{shrink:!0},contentEditable:!1,fullWidth:!0,multiline:!0,variant:"outlined",size:"small",value:r,InputProps:{classes:{input:e.input}}});return{id:n,textPrimary:"".concat(a),afterEachElement:c}}));return Object(N.jsx)(Be,{title:"Intents",noItemsText:"No Intent Listeners",listItems:t,onDelete:function(e){Ge.removeIntentListener(e)}})})),Xe=new(function(){function e(){Object(Y.a)(this,e),this.appChannelsList=[],this.currentAppChannel=null,this.appChannelListeners=[],Object(_.m)(this,{appChannelsList:_.n,currentAppChannel:_.n,appChannelListeners:_.n,getOrCreateChannel:_.f,leaveChannel:_.f,broadcast:_.f})}return Object(X.a)(e,[{key:"getOrCreateChannel",value:function(){var e=Object(l.a)(s.a.mark((function e(t){var n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.g(t);case 3:n=e.sent,(a=null!==n)&&(this.currentAppChannel={id:t,channel:n},this.appChannelsList.find((function(e){return e.id===t}))||this.appChannelsList.push(this.currentAppChannel)),Object(_.o)((function(){q.addLog({name:"getOrCreateChannel",type:a?"success":"error",value:a?null===n||void 0===n?void 0:n.id:t,variant:"text"})})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),q.addLog({name:"getOrCreateChannel",type:"error",value:t,variant:"code",body:JSON.stringify(e.t0,null,4)});case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"isContextListenerExists",value:function(e,t){var n;return!!(null===(n=this.appChannelListeners)||void 0===n?void 0:n.find((function(n){return n.type===t&&n.channelId===e})))}},{key:"isAppChannelExists",value:function(e){return!!this.appChannelsList.find((function(t){return t.id===e}))}},{key:"broadcast",value:function(){var e=Object(l.a)(s.a.mark((function e(t,n){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=17;break}if(a=this.appChannelsList.find((function(e){return e.id===t}))){e.next=6;break}q.addLog({name:"appbroadcast",type:"warning",value:"You are not currently joined to a channel (no-op)",variant:"text"}),e.next=15;break;case 6:return e.prev=6,e.next=9,a.channel.broadcast(Object(_.p)(n));case 9:q.addLog({name:"appbroadcast",type:"success",body:JSON.stringify(n,null,4),variant:"code",value:t}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(6),q.addLog({name:"appbroadcast",type:"error",body:JSON.stringify(e.t0,null,4),variant:"code",value:t});case 15:e.next=18;break;case 17:q.addLog({name:"appbroadcast",type:"warning",value:"You must set a context before you can broadcast it to channel: ".concat(t),variant:"text"});case 18:case"end":return e.stop()}}),e,this,[[6,12]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"leaveChannel",value:function(){var e=Object(l.a)(s.a.mark((function e(){var t,n,a,i=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.e();case 3:if(t=e.sent){e.next=8;break}q.addLog({name:"leaveChannel",type:"warning",value:"",variant:"text"}),e.next=15;break;case 8:return e.next=10,F.j();case 10:return e.next=12,F.e();case 12:t=e.sent,n=null===t,Object(_.o)((function(){var e;q.addLog({name:"leaveChannel",type:n?"success":"error",value:null===(e=i.currentAppChannel)||void 0===e?void 0:e.id,variant:"text"}),n&&(i.currentAppChannel=null)}));case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),q.addLog({name:"leaveChannel",type:"error",value:null===(a=this.currentAppChannel)||void 0===a?void 0:a.id,variant:"code",body:JSON.stringify(e.t0,null,4)});case 20:case"end":return e.stop()}}),e,this,[[0,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"addChannelListener",value:function(e,t){var n=this;try{var a=this.appChannelsList.find((function(t){return t.id===e}));if(!this.appChannelListeners.find((function(n){return n.type===t&&n.channelId===e}))&&a&&void 0!==t){var i=Object(K.a)(),r=a.channel.addContextListener("all"===(null===t||void 0===t?void 0:t.toLowerCase())?null:t,(function(a){var i=n.appChannelListeners.find((function(n){return n.type===t&&n.channelId===e}));Object(_.o)((function(){i&&(i.lastReceivedContext=a)})),q.addLog({name:"receivedAppContextListener",type:"info",value:"Channel [".concat(e,"] Received context via '[").concat(t,"]' listener"),variant:"code",body:JSON.stringify(a,null,4)})}));Object(_.o)((function(){q.addLog({name:"addAppContextListener",type:"success",value:"A context listener for '[".concat(t,"]' has been added on channel [").concat(e,"]"),variant:"text"}),n.appChannelListeners.push({id:i,type:t,listener:r,channelId:e})}))}}catch(c){q.addLog({name:"addAppContextListener",type:"error",value:"Failed to add a context listener for '[".concat(t,"]' on channel [").concat(e,"]"),variant:"code",body:JSON.stringify(c,null,4)})}}},{key:"removeContextListener",value:function(e){var t,n=this,a=null===(t=this.appChannelListeners)||void 0===t?void 0:t.findIndex((function(t){return t.id===e})),i=this.appChannelListeners[a];if(-1!==a)try{this.appChannelListeners[a].listener.unsubscribe(),Object(_.o)((function(){q.addLog({name:"removeAppChannelContextListener",type:"success",value:"A context listener for '[".concat(i.type,"]' for channel [").concat(i.channelId,"] has been removed"),variant:"text"}),n.appChannelListeners.splice(a,1)}))}catch(r){q.addLog({name:"removeAppChannelContextListener",type:"error",value:"Failed to remove a context listener for '[".concat(i.type,"]' on channel [").concat(i.channelId,"]"),variant:"code",body:JSON.stringify(r,null,4)})}}}]),e}()),_e=Object(p.a)((function(e){return Object(h.a)({textField:{marginTop:e.spacing(2),width:"100%"},input:{fontSize:"14px"}})})),Ke=Object(O.a)((function(){var e=_e(),t=[];Xe.appChannelListeners.forEach((function(n){var a=n.id,i=n.channelId,r=n.type,c=n.lastReceivedContext,o=c?JSON.stringify(c,void 0,4):"",s=Object(N.jsx)(be.a,{disabled:!0,label:"LAST RECEIVED CONTEXT",className:e.textField,InputLabelProps:{shrink:!0},contentEditable:!1,fullWidth:!0,multiline:!0,variant:"outlined",size:"small",value:o,InputProps:{classes:{input:e.input}}});t.push({id:a,textPrimary:"".concat(i,": ").concat(r),afterEachElement:s})}));return Object(N.jsx)(Be,{title:"App Channels",icon:"Any context already in the channel will NOT be received automatically",noItemsText:"No App Channel Listeners",listItems:t,onDelete:function(e){Xe.removeContextListener(e)}})})),Qe=function(e){var t=e.logItem,n=function(e){return Object(p.a)((function(t){return Object(h.a)({root:{flexDirection:"column",justifyContent:"flex-start",alignItems:"flex-start",padding:t.spacing(3,0),"&:first-child":{borderTop:"1px solid rgba(0, 0, 0, 0.12)"}},message:{color:t.palette[e.logItem.type].dark},textField:{width:"100%"},input:{fontSize:"14px",color:t.palette.text.primary},"& .Mui-disabled":{borderColor:t.palette.text.primary}})}))}(e)();return Object(N.jsxs)(Ne.a,{className:n.root,divider:!0,children:[Object(N.jsx)(m.a,{className:n.message,variant:"body1",children:t.message}),"code"===t.variant&&Object(N.jsx)(be.a,{disabled:!0,className:n.textField,id:t.id,contentEditable:!1,fullWidth:!0,multiline:!0,variant:"outlined",size:"small",value:t.body,InputProps:{classes:{input:n.input}}}),"text"===t.variant&&t.body&&Object(N.jsxs)(m.a,{variant:"body1",children:["error"===t.type&&"ERROR:","warning"===t.type&&"WARNING:","info"===t.type&&"INFO:","success"===t.type&&"SUCCESS:",t.body]})]})},qe=Object(p.a)((function(){return Object(h.a)({root:{width:"100%"}})})),Ze=Object(O.a)((function(){var e=qe();return Object(N.jsx)(ke.a,{component:"nav",className:e.root,"aria-label":"mailbox folders",children:q.logList.map((function(e){return Object(N.jsx)(Qe,{logItem:e},e.id)}))})})),$e=Object(p.a)((function(e){return Object(h.a)({"@global":{".MuiTab-wrapper":{flexDirection:"row !important"}},root:{flexGrow:1},paper:{marginTop:e.spacing(2),padding:e.spacing(2),"&:first-child":{marginTop:0}},systemLog:{maxHeight:"1000px",overflowY:"scroll"},indicator:{backgroundColor:"#00bbe1"},tabs:{borderBottomColor:"#acb2c0",borderBottomStyle:"solid",borderBottomWidth:"1px",minHeight:"28px"},icon:{marginBottom:"3px !important",fontSize:"15px",marginRight:"3px"}})})),et=function(e){return{id:"scrollable-auto-tab-".concat(e),"aria-controls":"scrollable-auto-tabpanel-".concat(e)}},tt=Object(O.a)((function(){var e=$e(),t=Object(a.useState)(0),n=Object(d.a)(t,2),i=n[0],r=n[1];return Object(N.jsxs)("div",{children:[Object(N.jsxs)(f.a,{value:i,onChange:function(e,t){r(t)},indicatorColor:"primary",variant:"scrollable",scrollButtons:"auto",classes:{indicator:e.indicator},className:e.tabs,children:[Object(N.jsx)(x.a,Object(w.a)(Object(w.a)({label:"Listeners"},et(0)),{},{style:{display:"flex",alignItems:"center"},icon:Object(N.jsx)(z.a,{title:"Context received will be displayed here, but you will not receive your own messages back","aria-label":"Context received will be displayed here, but you will not receive your own messages back",children:Object(N.jsx)(we.a,{className:e.icon})})})),Object(N.jsx)(x.a,Object(w.a)({label:"System Log"},et(1)))]}),Object(N.jsxs)(T,{value:i,index:0,children:[Object(N.jsx)(Ue,{}),Object(N.jsx)(Ye,{}),Object(N.jsx)(Ke,{})]}),Object(N.jsx)("div",{className:e.systemLog,children:Object(N.jsx)(T,{value:i,index:1,children:Object(N.jsx)(Ze,{})})})]})})),nt=n(289),at=n(290),it=n(291),rt=n(292),ct=n(293),ot=n(139),st=n.n(ot),lt=n(140),dt=n.n(lt),ut=n(138),pt=n.n(ut),ht=(n(166),n(97)),bt=n.n(ht),jt=Object(p.a)((function(e){return Object(h.a)({root:{position:"relative",flexGrow:1,padding:e.spacing(1),border:"1px solid #0086bf",borderRadius:e.shape.borderRadius,"& .jsoneditor":{border:"none"},"& .ace-jsoneditor .ace_gutter":{backgroundColor:"transparent"},"& .ace-jsoneditor .ace_gutter-active-line":{backgroundColor:e.palette.grey[200]},"& .ace-jsoneditor .ace_marker-layer .ace_active-line":{backgroundColor:e.palette.grey[200]}},jsonInput:{height:"270px"},errorText:{bottom:"-8px",padding:e.spacing(0,.5),fontSize:"0.75rem",position:"absolute",backgroundColor:"#fff",color:e.palette.error.main}})})),ft=function(e){var t=jt(),n=Object(a.useState)(),i=Object(d.a)(n,2),r=i[0],c=i[1],o=Object(a.useRef)(null),u={mode:"code",mainMenuBar:!1,statusBar:!1,indentation:2,onChangeText:function(t){if(""===t)e.onChange(null);else try{e.onChange(JSON.parse(t))}catch(n){}},onValidationError:function(t){if(e.onJsonError)if(t.length>0){var n="error"===t[0].type?"Bad json format":"Json doesn't match the schema";e.onJsonError([n])}else e.onJsonError([])}};return Object(a.useEffect)((function(){return Object(l.a)(s.a.mark((function t(){var n,a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=Object(w.a)({},u),!o.current){t.next=24;break}if(!e.schema){t.next=12;break}return t.prev=3,t.next=6,bt.a.dereference(e.schema,{dereference:{circular:!0}});case 6:n.schema=t.sent,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),console.error(t.t0);case 12:if(!e.schemaUrl){t.next=22;break}return t.prev=13,t.next=16,bt.a.dereference(e.schemaUrl.href,{dereference:{circular:!0}});case 16:n.schema=t.sent,t.next=22;break;case 19:t.prev=19,t.t1=t.catch(13),console.error(t.t1);case 22:a=new pt.a(o.current,n,e.json),c(a);case 24:case"end":return t.stop()}}),t,null,[[3,9],[13,19]])})))(),null===r||void 0===r?void 0:r.destroy}),[]),Object(a.useEffect)((function(){e.schema&&(null===r||void 0===r||r.setSchema(e.schema))}),[e.schema]),Object(a.useEffect)((function(){Object(l.a)(s.a.mark((function t(){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.schemaUrl){t.next=11;break}return t.prev=1,t.next=4,bt.a.dereference(e.schemaUrl.href,{dereference:{circular:!0}});case 4:n=t.sent,null===r||void 0===r||r.setSchema(n),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))()}),[e.schemaUrl]),Object(a.useEffect)((function(){r&&(e.json||null===e.json)&&(null===e.json?r.set({}):r.set(e.json))}),[e.json,r]),Object(N.jsxs)("div",{className:t.root,tabIndex:0,children:[Object(N.jsx)("div",{className:t.jsonInput,ref:o}),!!e.error&&Object(N.jsx)("div",{className:t.errorText,children:e.error})]})},xt=n(302),mt=n(287),vt=n(288);function Ot(e){var t=e.onClose,n=e.onAgree,a=e.open,i=e.selectedValue,r=function(){t(!1)};return Object(N.jsxs)(xt.a,{open:a,onClose:r,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(N.jsx)(mt.a,{id:"alert-dialog-title",children:"Delete context template: ".concat((null===i||void 0===i?void 0:i.name)||(null===i||void 0===i?void 0:i.id))}),Object(N.jsxs)(vt.a,{children:[Object(N.jsx)(R.a,{onClick:r,children:"Disagree"}),Object(N.jsx)(R.a,{onClick:function(){n((null===i||void 0===i?void 0:i.id)||""),t(!1)},autoFocus:!0,children:"Agree"})]})]})}var gt=Object(p.a)((function(e){return Object(h.a)({root:{flexGrow:1},form:{display:"flex",flexWrap:"wrap",alignItems:"center",marginTop:e.spacing(1),"& > *":{margin:e.spacing(1)},"& > *:first-child":{marginLeft:0,paddingLeft:0},"& > * > *:first-child":{marginLeft:0,paddingLeft:0},"& .MuiGrid-grid-xs-12":{paddingLeft:0}},controls:{"& .MuiIconButton-sizeSmall":{padding:"6px",marginLeft:e.spacing(1)}},templateSelect:{flexGrow:1,minWidth:"190px"},textField:{width:"100%"},multilineField:{width:"100%"},button:{marginLeft:"auto"},rightAlign:{flexDirection:"row",justifyContent:"flex-end"},border:{height:"1px",width:"100%",backgroundColor:"#acb2c0",marginTop:"24px",marginBottom:"16px"},delete:{height:"15px",transform:"scale(1.7)"},copy:{height:"20px"},link:{cursor:"pointer",color:"black"},margins:{margin:"0 5px"},tableContainer:{maxHeight:350}})})),yt={type:"",id:{}},Ct=Object(O.a)((function(e){var t=e.contextName,n=gt(),i=Object(a.useState)({title:t,value:t}),r=Object(d.a)(i,2),c=r[0],o=r[1],s=Object(a.useState)(!1),l=Object(d.a)(s,2),u=l[0],p=l[1],h=Object(a.useState)(yt),j=Object(d.a)(h,2),f=j[0],x=j[1],v=Object(a.useState)({id:t||"empty",template:yt,schemaUrl:new URL("https://fdc3.finos.org/schemas/1.2/context.schema.json")}),O=Object(d.a)(v,2),g=O[0],y=O[1],C=Object(a.useState)(!1),L=Object(d.a)(C,2),w=L[0],k=L[1],S=Object(a.useState)(!1),I=Object(d.a)(S,2),T=I[0],A=I[1],E=Object(a.useState)(null),F=Object(d.a)(E,2),D=F[0],V=F[1],P=Object(a.useState)(!0),B=Object(d.a)(P,2),J=B[0],U=B[1],W=Object(a.useRef)(null),G=function(e){if(o(e),null===e||void 0===e?void 0:e.value){var t=pe.contextsList.find((function(t){return t.id===(null===e||void 0===e?void 0:e.value)}));t&&(x(t.template),y(t))}k(!1)},Y=function(e){return pe.contextsList.reduce((function(t,n){return n.id===e&&(t+=1),t}),0)},X=function(){o(null),y(null),x(null),U(!0)},_=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a="".concat(t.value,"-copy").concat(n>0?" (".concat(n,")"):"");if((null===t||void 0===t?void 0:t.value)&&!Y(a)){o({value:a,title:a});var i=pe.contextsList.find((function(e){return e.id===t.value}));if(i){var r={id:a,template:i.template,schemaUrl:i.schemaUrl};pe.addContextItem(r),pe.saveContextItem(r),x(i.template),y(r),q.addLog({name:"saveTemplate",type:"success",value:r.id,variant:"text"})}}else Y(a)&&e(t,++n);k(!1)};return Object(a.useEffect)((function(){u?(U(!0),k("Template name already exists")):U(!1)}),[u,f]),Object(a.useEffect)((function(){if(W&&W.current&&W.current.scrollIntoView({behavior:"auto",block:"nearest"}),null==g){var e={id:"empty",template:yt,schemaUrl:new URL("https://fdc3.finos.org/schemas/1.2/context.schema.json")};y(e),x(yt)}}),[g]),Object(N.jsxs)("div",{className:n.root,children:[Object(N.jsx)(Ot,{open:T,onClose:function(e){A(e)},onAgree:function(e){var t=pe.contextsList.find((function(t){return t.id===e}));t?(pe.deleteContextItem(t),q.addLog({name:"deleteTemplate",type:"success",value:null===t||void 0===t?void 0:t.id,variant:"text"})):q.addLog({name:"deleteTemplate",type:"error",value:void 0,variant:"text"})},selectedValue:D}),Object(N.jsxs)(b.a,{container:!0,spacing:1,children:[Object(N.jsx)(b.a,{item:!0,xs:12,children:Object(N.jsx)(m.a,{variant:"h5",children:"Context templates:"})}),Object(N.jsx)(nt.a,{className:n.tableContainer,children:Object(N.jsx)(at.a,{children:Object(N.jsx)(it.a,{children:pe.contextsList.map((function(e,t){var a=e.id,i=e.template;return Object(N.jsxs)(rt.a,{hover:!0,role:"checkbox",tabIndex:-1,selected:a===(null===c||void 0===c?void 0:c.value),ref:a===(null===c||void 0===c?void 0:c.value)?W:null,children:[Object(N.jsx)(ct.a,{align:"left",onClick:function(){return G({title:a,value:a})},children:Object(N.jsx)(m.a,{variant:"subtitle1",children:a})},"row-".concat(t,"-column-0")),Object(N.jsx)(ct.a,{align:"left",onClick:function(){return G({title:a,value:a})},children:Object(N.jsx)(m.a,{variant:"caption",children:null===i||void 0===i?void 0:i.type})},"row-".concat(t,"-column-1")),Object(N.jsx)(ct.a,{align:"right",children:Object(N.jsx)(z.a,{title:"Duplicate Template","aria-label":"Copy code",children:Object(N.jsx)(M.a,{size:"small","aria-label":"Copy code example",color:"primary",onClick:function(){return _({title:a,value:a})},children:Object(N.jsx)(st.a,{className:n.copy})})})},"row-".concat(t,"-column-2")),Object(N.jsx)(ct.a,{align:"right",children:Object(N.jsx)(z.a,{title:"Delete template","aria-label":"Delete template",children:Object(N.jsx)(M.a,{size:"small","aria-label":"Delete template",color:"primary",onClick:function(){return function(e,t){A(!0),V({id:e,name:t})}(a,null===i||void 0===i?void 0:i.name)},children:Object(N.jsx)(dt.a,{className:n.delete})})})},"row-".concat(t,"-column-3"))]},"row-".concat(t))}))})})})]}),Object(N.jsx)("form",{className:n.form,noValidate:!0,autoComplete:"off",children:Object(N.jsxs)(b.a,{container:!0,direction:"row",spacing:1,children:[Object(N.jsx)(b.a,{item:!0,className:n.controls,children:Object(N.jsx)(R.a,{className:n.button,variant:"contained",color:"primary",onClick:X,children:"Create new template"})}),Object(N.jsx)(b.a,{item:!0,className:n.controls,children:Object(N.jsx)(R.a,{className:n.button,variant:"contained",color:"primary",onClick:function(){pe.resetContextList(),X()},children:"Reset templates"})})]})}),Object(N.jsx)("form",{className:n.form,noValidate:!0,autoComplete:"off",children:Object(N.jsxs)(b.a,{container:!0,direction:"row",spacing:1,className:n.rightAlign,children:[Object(N.jsx)(b.a,{item:!0,xs:12,className:"".concat(n.controls," ").concat(n.templateSelect),children:Object(N.jsxs)(b.a,{item:!0,xs:6,className:n.field,children:[Object(N.jsx)(b.a,{item:!0,xs:12,className:n.textField,children:Object(N.jsx)(m.a,{variant:"h5",children:"Edit template:"})}),Object(N.jsx)(je,{label:"Template name",variant:"outlined",className:n.textField,placeholder:"Choose Context Template",value:(null===c||void 0===c?void 0:c.value)||"",onChange:function(e){return t={title:e.target.value,value:e.target.value},U(!1),k(!1),o(t),void(g&&!Y(t.value)?p(!1):Y(t.value)>=1&&p(!0));var t}})]})}),Object(N.jsx)(b.a,{item:!0,xs:12,className:n.controls,children:Object(N.jsx)(ft,{json:null===g||void 0===g?void 0:g.template,onChange:function(e){x(e),k(!1)},onJsonError:function(e){k(e[0])},schemaUrl:new URL((null===g||void 0===g?void 0:g.schemaUrl)||"https://fdc3.finos.org/schemas/1.2/context.schema.json"),error:w})}),Object(N.jsxs)(b.a,{item:!0,children:[Object(N.jsx)(z.a,{title:"Copy code","aria-label":"Copy code",children:Object(N.jsx)(M.a,{size:"small","aria-label":"Copy code example",color:"primary",onClick:se("let context = ".concat(JSON.stringify(f,null,2)),"createContext"),children:Object(N.jsx)(H.a,{})})}),Object(N.jsx)(R.a,{className:n.button,variant:"contained",color:"primary",onClick:function(){if((f?(null===f||void 0===f?void 0:f.type)?""===(null===f||void 0===f?void 0:f.type)?(k("Property 'type' can't be empty"),!1):!!c||(k("Template name is required"),!1):(k("Context must have property 'type'"),!1):(k("Context is required"),!1))&&g&&c){var e=pe.contextsList.find((function(e){return e.id===g.id})),t={id:c.value,schemaUrl:g.schemaUrl,template:f};e||pe.addContextItem(t),pe.saveContextItem(t,g.id),G({title:t.id,value:t.id}),q.addLog({name:"saveTemplate",type:"success",value:null===t||void 0===t?void 0:t.id,variant:"text"})}else q.addLog({name:"saveTemplate",type:"error",value:void 0,variant:"text"});U(!0)},disabled:J,children:"Save Changes"})]})]})})]})})),Lt=Object(p.a)((function(e){return Object(h.a)({root:{flexGrow:1},title:{display:"flex",alignItems:"center",justifyContent:"space-between"},form:{display:"flex",flexWrap:"wrap",alignItems:"center",marginTop:e.spacing(1),"& > *":{margin:e.spacing(1),marginLeft:"0px"}},controls:{"& > *:first-child":{marginLeft:0},"& > *":{marginRight:e.spacing(1)},"& > *:last-child":{marginRight:0},"& .MuiIconButton-sizeSmall":{padding:"6px"},display:"flex",alignItems:"center"},rightAlign:{flexDirection:"row",justifyContent:"flex-end"},spread:{flexDirection:"row","& > *:first-child":{paddingLeft:"0px"}},textField:{width:"100%","& input":{height:"29px",padding:"6px"}},h4:{fontSize:"22px"},field:{flexGrow:1,marginRight:e.spacing(1),minWidth:"190px"},border:{height:"1px",width:"100%",backgroundColor:"#acb2c0",marginTop:"24px",marginBottom:"16px"},bottomMargin:{marginBottom:e.spacing(1)},removeSidePadding:{paddingLeft:0},targetSelect:{width:"100%",marginRight:e.spacing(1)},rightPadding:{paddingRight:e.spacing(.5)}})})),wt=Object(le.a)(),kt=Object(O.a)((function(e){var t=e.handleTabChange,n=Lt(),i=Object(a.useState)(null),r=Object(d.a)(i,2),c=r[0],o=r[1],u=Object(a.useState)(!1),p=Object(d.a)(u,2),h=p[0],j=p[1],f=Object(a.useState)(null),x=Object(d.a)(f,2),v=x[0],O=x[1],g=Object(a.useState)(null),y=Object(d.a)(g,2),C=y[0],L=y[1],k=Object(a.useState)(null),S=Object(d.a)(k,2),I=S[0],T=S[1],A=Object(a.useState)(null),E=Object(d.a)(A,2),D=E[0],V=E[1],W=Object(a.useState)(null),G=Object(d.a)(W,2),Y=G[0],X=G[1],K=Object(a.useState)(null),Q=Object(d.a)(K,2),q=Q[0],Z=Q[1],$=Object(a.useState)(null),ee=Object(d.a)($,2),te=ee[0],ne=ee[1],ie=Object(a.useState)(null),re=Object(d.a)(ie,2),le=re[0],ue=re[1],pe=Object(a.useState)(null),he=Object(d.a)(pe,2),be=he[0],fe=he[1],xe=Object(a.useState)(!1),me=Object(d.a)(xe,2),ve=me[0],Oe=me[1],ye=Ge.intentsList,Ce=function(e,t){return function(n,a){"string"===typeof a?e({title:a,value:a}):a&&a.inputValue?e({title:a.inputValue,value:a.inputValue}):e(a),t(!1)}},Le=function(e){return e.value?e.value:e.title},we=function(e,t){var n=wt(e,t);return""!==t.inputValue&&n.push({value:t.inputValue,title:'Add "'.concat(t.inputValue,'"')}),n};return Object(a.useEffect)((function(){o(null),function(){var e=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!le){e.next=6;break}return e.next=4,F.d(Object(_.p)(le));case 4:(t=e.sent)&&(Z(t),L(t.map((function(e){var t=e.intent;return{title:t.name.includes("fdc3")?t.name.split(".")[1]:t.name,value:t.name.includes("fdc3")?t.name.split(".")[1]:t.name}}))));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),j(" no intents found");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()()}),[le]),Object(a.useEffect)((function(){if(q){var e=q.find((function(e){return(e.intent.name.includes("fdc3")?e.intent.name.split(".")[1]:e.intent.name)===(null===c||void 0===c?void 0:c.value)}));(null===e||void 0===e?void 0:e.apps)&&T(e.apps)}}),[c]),Object(a.useEffect)((function(){(function(){var e=Object(l.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!be){e.next=6;break}return e.next=4,F.d(Object(_.p)(be));case 4:(t=e.sent)&&(n=[],t.forEach((function(e){null===e||void 0===e||e.apps.forEach((function(t){n.push({name:"".concat(t.name," - ").concat(e.intent.name),app:t})}))})),ne(n));case 6:e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[be]),Object(N.jsxs)("div",{className:n.root,children:[Object(N.jsx)(b.a,{item:!0,xs:12,children:Object(N.jsx)(m.a,{variant:"h5",children:"Raise Intent"})}),Object(N.jsx)("form",{className:n.form,noValidate:!0,autoComplete:"off",children:Object(N.jsxs)(b.a,{container:!0,direction:"row",spacing:2,children:[Object(N.jsxs)(b.a,{container:!0,item:!0,spacing:2,justifyContent:"flex-end",className:n.spread,children:[Object(N.jsxs)(b.a,{item:!0,className:n.field,children:[Object(N.jsx)(ge,{handleTabChange:t,contextStateSetter:ue}),Object(N.jsx)(de.a,{className:n.rightPadding,id:"raise-intent",size:"small",selectOnFocus:!0,blurOnSelect:!0,clearOnBlur:!0,handleHomeEndKeys:!0,value:c,onChange:Ce(o,j),filterOptions:we,options:C||ye,getOptionLabel:Le,renderOption:function(e){return e.title},renderInput:function(e){return Object(N.jsx)(je,Object(w.a)(Object(w.a)({label:"INTENT TYPE",placeholder:"Enter Intent Type",variant:"outlined"},e),{},{error:!!h,helperText:h}))}}),Object(N.jsx)(b.a,{className:n.rightPadding,children:Object(N.jsxs)(P.a,{variant:"outlined",size:"small",className:n.targetSelect,children:[Object(N.jsx)(B.a,{id:"intent-target-app",children:"Target (optional)"}),Object(N.jsxs)(J.a,{labelId:"intent-target-app",id:"intent-target-app-select",value:null!==D&&void 0!==D?D:"",onChange:function(e){"None"===e.target.value?V(""):V(e.target.value)},label:"Target (optional)",MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},children:[!(null===I||void 0===I?void 0:I.length)&&Object(N.jsx)(U.a,{value:"",disabled:!0,children:"No Target Apps Found"}),(null===I||void 0===I?void 0:I.length)&&Object(N.jsx)(U.a,{value:"None",children:"None"},""),(null===I||void 0===I?void 0:I.length)&&I.map((function(e){return Object(N.jsx)(U.a,{value:e.name,children:e.name},e.name)}))]})]})})]}),Object(N.jsxs)(b.a,{item:!0,className:n.controls,children:[Object(N.jsx)(R.a,{variant:"contained",color:"primary",onClick:function(){if(c)if(le)if(D&&I){var e=I.find((function(e){return e.name===D}));e&&(Ge.raiseIntent(c.value,le,e),j(""))}else Ge.raiseIntent(c.value,le),j("");else j(" enter context name");else j(" enter intent name")},disabled:!le,children:"Raise Intent"}),Object(N.jsx)(z.a,{title:"Copy code example","aria-label":"Copy code example",children:Object(N.jsx)(M.a,{size:"small","aria-label":"Copy code example",color:"primary",onClick:se(ae,"raiseIntent"),children:Object(N.jsx)(H.a,{})})})]})]}),Object(N.jsx)("div",{className:n.border}),Object(N.jsxs)(b.a,{container:!0,item:!0,spacing:2,justifyContent:"flex-end",className:n.spread,children:[Object(N.jsx)(b.a,{item:!0,xs:12,className:n.bottomMargin,children:Object(N.jsx)(m.a,{variant:"h5",children:"Raise Intent for Context"})}),Object(N.jsxs)(b.a,{item:!0,className:"".concat(n.field," ").concat(n.removeSidePadding),children:[Object(N.jsx)(ge,{handleTabChange:t,contextStateSetter:fe}),Object(N.jsx)(b.a,{className:n.rightPadding,children:Object(N.jsxs)(P.a,{variant:"outlined",size:"small",className:n.targetSelect,children:[Object(N.jsx)(B.a,{id:"intent-context-target-app",children:"Target (optional)"}),Object(N.jsxs)(J.a,{labelId:"intent-context-target-app",id:"intent-context-target-app-select",value:null!==Y&&void 0!==Y?Y:"",onChange:function(e){"None"===e.target.value?X(""):X(e.target.value)},label:"Target (optional)",MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},children:[!(null===te||void 0===te?void 0:te.length)&&Object(N.jsx)(U.a,{value:"",disabled:!0,children:"No Target Apps Found"}),(null===te||void 0===te?void 0:te.length)&&Object(N.jsx)(U.a,{value:"None",children:"None"},""),(null===te||void 0===te?void 0:te.length)&&te.map((function(e){return Object(N.jsx)(U.a,{value:e.name,children:e.name},e.name)}))]})]})})]}),Object(N.jsxs)(b.a,{item:!0,className:n.controls,children:[Object(N.jsx)(R.a,{disabled:!be,variant:"contained",color:"primary",onClick:function(){if(be)if(Y&&te){var e=te.find((function(e){return e.name===Y}));Ge.raiseIntentForContext(be,e)}else Ge.raiseIntentForContext(be)},children:"Raise intent for context"}),Object(N.jsx)(z.a,{title:"Copy code example","aria-label":"Copy code example",children:Object(N.jsx)(M.a,{size:"small","aria-label":"Copy code example",color:"primary",onClick:se(oe,"raiseIntentForContext"),children:Object(N.jsx)(H.a,{})})})]})]}),Object(N.jsx)("div",{className:n.border}),Object(N.jsxs)(b.a,{container:!0,item:!0,spacing:2,justifyContent:"flex-end",className:n.spread,children:[Object(N.jsx)(b.a,{item:!0,xs:12,children:Object(N.jsx)(m.a,{className:n.bottomMargin,variant:"h5",children:"Add Context Listener"})}),Object(N.jsx)(b.a,{item:!0,className:"".concat(n.field," ").concat(n.removeSidePadding),children:Object(N.jsx)(de.a,{id:"intent-listener",size:"small",selectOnFocus:!0,blurOnSelect:!0,clearOnBlur:!0,handleHomeEndKeys:!0,value:v,onChange:Ce(O,Oe),filterOptions:we,options:ye,getOptionLabel:Le,renderOption:function(e){return e.title},renderInput:function(e){return Object(N.jsx)(je,Object(w.a)(Object(w.a)({label:"INTENT LISTENER",placeholder:"Enter Intent Type",variant:"outlined"},e),{},{error:!!ve,helperText:ve}))}})}),Object(N.jsxs)(b.a,{item:!0,className:n.controls,children:[Object(N.jsx)(R.a,{variant:"contained",color:"primary",onClick:function(){v?(Ge.addIntentListener(v.value),O(null)):Oe("Enter intent")},disabled:null===v,children:"Add Listener"}),Object(N.jsx)(z.a,{title:"Copy code example","aria-label":"Copy code example",children:Object(N.jsx)(M.a,{size:"small","aria-label":"Copy code example",color:"primary",onClick:se(ce,"addIntentListener"),children:Object(N.jsx)(H.a,{})})})]})]})]})})]})})),Nt=Object(p.a)((function(e){return Object(h.a)({root:{flexGrow:1},title:{display:"flex",alignItems:"center",justifyContent:"space-between"},form:{display:"flex",flexWrap:"wrap",alignItems:"center",marginTop:e.spacing(1),"& > *":{margin:e.spacing(1),marginLeft:"0px"}},contextType:{flexGrow:1,minWidth:"190px"},topMargin:{marginTop:e.spacing(2)},controls:{"& > *:first-child":{marginLeft:0},"& > *":{marginRight:e.spacing(1)},"& > *:last-child":{marginRight:0},"& .MuiIconButton-sizeSmall":{padding:"6px"}},rightAlign:{flexDirection:"row",justifyContent:"flex-end"},spread:{flexDirection:"row","& > *:first-child":{paddingLeft:"0px"}},textField:{width:"100%","& input":{height:"29px",padding:"6px"}},h4:{fontSize:"22px"},h6:{fontSize:"14px"},field:{flexGrow:1,marginRight:e.spacing(1),minWidth:"190px"},border:{height:"1px",width:"100%",backgroundColor:"#acb2c0",marginTop:"24px",marginBottom:"16px"},rightPadding:{paddingRight:e.spacing(.5)}})})),St=Object(le.a)(),It=Object(O.a)((function(e){var t=e.handleTabChange,n=Nt(),i=Object(a.useState)(!1),r=Object(d.a)(i,2),c=r[0],o=r[1],s=Object(a.useState)(""),l=Object(d.a)(s,2),u=l[0],p=l[1],h=pe.contextsList.map((function(e){var t=e.id,n=e.template;return{title:t,value:t,type:null===n||void 0===n?void 0:n.type}}));h.unshift({title:"All",value:"all",type:"All"});var j=Array.from(new Map(h.reverse().map((function(e){return[e.type,e]}))).values()).reverse(),f=function(e){return e.type?e.type:e.title},x=function(e,t){var n=Xe.appChannelsList.find((function(e){return e.id===t}));n&&(n.context=e)},v=function(e,t){var n=St(e,t);return""!==t.inputValue&&n.push({value:t.inputValue,title:'Add "'.concat(t.inputValue,'"'),type:t.inputValue}),n};return Object(N.jsxs)("div",{className:n.root,children:[Object(N.jsx)(b.a,{item:!0,xs:12,children:Object(N.jsx)(m.a,{variant:"h5",children:"Get Channel"})}),Object(N.jsx)("form",{className:n.form,noValidate:!0,autoComplete:"off",children:Object(N.jsxs)(b.a,{container:!0,direction:"row",spacing:1,children:[Object(N.jsx)(b.a,{item:!0,className:n.field,children:Object(N.jsx)(be.a,{fullWidth:!0,variant:"outlined",label:"Channel Name",type:"text",size:"small",onChange:function(e){p(e.target.value)}})}),Object(N.jsx)(b.a,{item:!0,className:n.controls,children:Object(N.jsx)(R.a,{variant:"contained",color:"primary",onClick:function(){u&&(Xe.appChannelsList.find((function(e){return e.id===u}))||Xe.getOrCreateChannel(u),p(""))},disabled:!u,children:"Get or Create Channel"})})]})}),Object(N.jsx)("div",{className:n.border}),Xe.appChannelsList.length>0&&Xe.appChannelsList.map((function(e){return Object(N.jsxs)(b.a,{container:!0,spacing:2,className:n.spread,children:[Object(N.jsx)(b.a,{item:!0,className:n.field,children:Object(N.jsxs)(m.a,{variant:"h5",children:["Channel: ",e.id]})}),Object(N.jsxs)(b.a,{container:!0,className:n.topMargin,children:[Object(N.jsx)(b.a,{item:!0,xs:12,children:Object(N.jsx)(m.a,{variant:"h5",className:n.h6,children:"Broadcast Context"})}),Object(N.jsx)(b.a,{item:!0,sm:7,children:Object(N.jsx)(ge,{handleTabChange:t,contextStateSetter:x,channel:e.id})}),Object(N.jsxs)(b.a,{item:!0,container:!0,className:n.controls,sm:5,justifyContent:"flex-end",children:[Object(N.jsx)(R.a,{disabled:!e.context,variant:"contained",color:"primary",onClick:function(){return function(e){e.context&&Xe.broadcast(e.id,e.context)}(e)},children:"Broadcast Context"}),Object(N.jsx)(z.a,{title:"Copy code example","aria-label":"Copy code example",children:Object(N.jsx)(M.a,{size:"small","aria-label":"Copy code example",color:"primary",onClick:se(ne,"appChannelBroadcast"),children:Object(N.jsx)(H.a,{})})})]})]}),Object(N.jsxs)(b.a,{container:!0,children:[Object(N.jsx)(b.a,{item:!0,xs:12,children:Object(N.jsx)(m.a,{variant:"h5",className:n.h6,children:"Add Context Listener"})}),Object(N.jsx)(b.a,{item:!0,sm:7,className:n.rightPadding,children:Object(N.jsx)(de.a,{size:"small",selectOnFocus:!0,blurOnSelect:!0,clearOnBlur:!0,handleHomeEndKeys:!0,value:e.currentListener,onChange:(a=e.id,function(e,t){var n,i,r=Xe.appChannelsList.find((function(e){return e.id===a}));r&&((null===(n=Xe.appChannelListeners)||void 0===n?void 0:n.find((function(e){return e.type===t&&e.channelId===a})))||(i="string"===typeof t?{title:t,value:t,type:t}:t&&t.inputValue?{title:t.inputValue,value:t.inputValue,type:t.inputValue}:t,r.currentListener=i,r.listenerError=""))}),filterOptions:v,options:j,getOptionLabel:f,renderOption:function(e){return e.type},renderInput:function(t){return Object(N.jsx)(je,Object(w.a)(Object(w.a)({label:"CONTEXT TYPE",placeholder:"Enter Context Type",variant:"outlined"},t),{},{error:!!e.listenerError,helperText:e.listenerError}))}})}),Object(N.jsxs)(b.a,{item:!0,className:n.controls,sm:5,justifyContent:"flex-end",children:[Object(N.jsx)(R.a,{variant:"contained",color:"primary",onClick:function(){return function(e){var t=Xe.appChannelsList.find((function(t){return t.id===e}));t&&((null===t||void 0===t?void 0:t.currentListener)?Xe.isContextListenerExists(e,null===t||void 0===t?void 0:t.currentListener.type)?t.listenerError="Listener already added":(Xe.addChannelListener(e,t.currentListener.type),t.listenerError=""):t.listenerError="Enter context type",o(c))}(e.id)},children:"Add Listener"}),Object(N.jsx)(z.a,{title:"Copy code example","aria-label":"Copy code example",children:Object(N.jsx)(M.a,{size:"small","aria-label":"Copy code example",color:"primary",onClick:se(re,"addAppChannelContextListener"),children:Object(N.jsx)(H.a,{})})})]})]}),Object(N.jsx)("div",{className:n.border})]},e.id);var a}))]})})),Tt=(n(220),Object(y.a)({palette:{primary:{light:"#005d85",main:"#0086bf",dark:"#339ecb",contrastText:"#fff"}},props:{MuiLink:{underline:"hover"}}}));Tt.typography.h4={fontFamily:"Source Code Pro",fontSize:"20px",color:"#0086bf",paddingLeft:"4px",paddingBottom:"11px"},Tt.typography.h5={fontSize:"16px"},Tt.typography.body1={fontSize:"1rem",fontFamily:"Roboto, Helvetica, Arial, sans-serif",fontWeight:400,lineHeight:1.5,letterSpacing:"0.00938em",marginBlockStart:"10px",marginBlockEnd:"10px"};var At=Object(p.a)((function(e){return Object(h.a)({"@global":{".MuiFormHelperText-contained.Mui-error":{position:"absolute",marginLeft:"9px",bottom:"-11px",padding:"0 4px",backgroundColor:e.palette.common.white},".MuiButton-contained":{boxShadow:"none"},".MuiGrid-item:has(> .MuiButton-root)":{display:"flex",alignItems:"center"},".MuiInputBase-root.Mui-disabled":{color:"rgba(0, 0, 0, 0.6)",cursor:"default"}},root:{flexGrow:1},header:{marginBottom:e.spacing(2)},body:{height:"100%"},paper:{marginTop:e.spacing(2),padding:e.spacing(2),height:"100%","&:first-child":{marginTop:0}},tabs:{borderBottomColor:"#acb2c0",borderBottomStyle:"solid",borderBottomWidth:"1px",minHeight:"28px","& [aria-selected='true']":{backgroundColor:"rgba(0, 134, 191, 0.21)"}},tabIndicator:{backgroundColor:"rgba(0, 134, 191, 0.21)"},indicator:{backgroundColor:"#00bbe1"},footer:{fontSize:"10px",fontStyle:"italic",color:"#5b606f",flexDirection:"row",justifyContent:"center",margin:e.spacing(2),"& *:first-child":{paddingTop:"27px"}},link:{color:"#5b606f",fontWeight:"bold","&:hover":{color:"#5b606f"}},code:{fontFamily:"courier, courier new, serif"},workbench:Object(u.a)({},e.breakpoints.down("sm"),{marginTop:"30px"})})})),Et=function(e){return e.preventDefault(),window.open("https://fdc3.finos.org/docs/api/overview","FDC3ApiDocs"),!1},Ft=function(e){return e.preventDefault(),window.open("https://fdc3.finos.org/docs/api/spec#api-access","FDC3ApiDocs"),!1},Dt=function(e){return e.preventDefault(),window.open("https://fdc3.finos.org/docs/supported-platforms","FDC3ApiDocs"),!1},Vt=Object(O.a)((function(){var e,t,n,i=At(),r=Object(a.useState)(!1),c=Object(d.a)(r,2),o=c[0],u=c[1],p=Object(a.useState)(!1),h=Object(d.a)(p,2),O=h[0],y=h[1],w=Object(a.useState)(0),k=Object(d.a)(w,2),S=k[0],I=k[1],A=Object(a.useState)(""),E=Object(d.a)(A,2),D=E[0],R=E[1],z=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";R(n),I(t)},M=function(e,t){"clickaway"!==t&&(y(!1),setTimeout((function(){return Q.clearSnackbarData()}),500))};return Object(a.useEffect)((function(){Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(F.c)(5e3);case 3:u(!0),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})))()}),[]),Object(a.useEffect)((function(){y(!!Q.snackbarData)}),[Q.snackbarData]),Object(N.jsxs)(g.a,{theme:Tt,children:[Object(N.jsxs)(b.a,{className:i.root,container:!0,children:[Object(N.jsx)(b.a,{className:i.header,container:!0,item:!0,xs:12,children:Object(N.jsx)(V,{fdc3Available:o})}),o?Object(N.jsxs)(b.a,{className:i.body,container:!0,spacing:2,item:!0,xs:12,style:{marginLeft:"0px"},children:[Object(N.jsx)(b.a,{item:!0,xs:12,md:8,style:{flex:1},children:Object(N.jsxs)(j.a,{className:i.paper,children:[Object(N.jsxs)(f.a,{value:S,indicatorColor:"primary",onChange:z,variant:"scrollable",scrollButtons:"auto",className:i.tabs,classes:{indicator:i.indicator},children:[Object(N.jsx)(x.a,{label:"Contexts"}),Object(N.jsx)(x.a,{label:"Intents"}),Object(N.jsx)(x.a,{label:"System Channels"}),Object(N.jsx)(x.a,{label:"App Channels"})]}),Object(N.jsx)(T,{value:S,index:0,children:Object(N.jsx)(Ct,{contextName:D})}),Object(N.jsx)(T,{value:S,index:1,children:Object(N.jsx)(kt,{handleTabChange:z})}),Object(N.jsx)(T,{value:S,index:2,children:Object(N.jsx)(Ce,{handleTabChange:z})}),Object(N.jsx)(T,{value:S,index:3,children:Object(N.jsx)(It,{handleTabChange:z})})]})}),Object(N.jsx)(b.a,{item:!0,xs:12,md:4,className:i.workbench,children:Object(N.jsx)(j.a,{className:i.paper,children:Object(N.jsx)(tt,{})})})]}):Object(N.jsx)(b.a,{className:i.body,container:!0,spacing:2,item:!0,xs:12,style:{marginLeft:"0px"},children:Object(N.jsx)(b.a,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",spacing:2,item:!0,xs:12,children:Object(N.jsxs)(j.a,{className:i.paper,children:[Object(N.jsx)(m.a,{variant:"h4",children:"FDC3 API not detected!"}),Object(N.jsxs)(m.a,{variant:"body1",children:["An FDC3 desktop agent implementation was not found at"," ",Object(N.jsx)("span",{className:i.code,children:"window.fdc3"}),"."]}),Object(N.jsx)(m.a,{variant:"body1",children:"For web applications to be FDC3-enabled, they need to run in the context of an agent that makes the FDC3 API available to the application. This desktop agent is also responsible for lauching and co-ordinating applications. It could be a browser extension, web app, or full-fledged desktop container framework."}),Object(N.jsxs)(m.a,{variant:"body1",children:["See the FDC3 standard documentation for details on"," ",Object(N.jsx)(v.a,{className:i.link,href:"https://fdc3.finos.org/docs/supported-platforms",onClick:Dt,children:"supported platforms"})," ","and"," ",Object(N.jsx)(v.a,{className:i.link,href:"https://fdc3.finos.org/docs/api/spec#api-access",onClick:Ft,children:"accessing the FDC3 API"}),"."]})]})})}),Object(N.jsx)(b.a,{container:!0,item:!0,xs:12,className:i.footer,children:Object(N.jsxs)(m.a,{variant:"body1",children:["Learn more about the"," ",Object(N.jsx)(v.a,{className:i.link,href:"https://fdc3.finos.org/docs/api/overview",onClick:Et,children:"FDC3 Standard and APIs"})," ","| Proud member of the"," ",Object(N.jsx)(v.a,{className:i.link,href:"https://www.finos.org/",children:"Fintech Open Source Foundation"})," ","| Copyright \xa9 2021 Cosaic, inc. & Contributors to the FDC3 standards project"]})})]}),Object(N.jsx)(C.a,{open:O,autoHideDuration:4e3,onClose:M,children:Object(N.jsx)(L.a,{elevation:6,variant:"filled",onClose:M,severity:null===(t=Q.snackbarData)||void 0===t?void 0:t.type,children:null===(n=Q.snackbarData)||void 0===n?void 0:n.message})},null===(e=Q.snackbarData)||void 0===e?void 0:e.id)]})}));c.a.render(Object(N.jsx)(i.a.StrictMode,{children:Object(N.jsx)(Vt,{})}),document.getElementById("root"))}},[[221,1,2]]]);
//# sourceMappingURL=main.88dd261d.chunk.js.map