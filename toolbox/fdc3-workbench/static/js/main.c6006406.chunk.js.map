{"version":3,"sources":["components/common/TabPanel.tsx","utility/Fdc3Api.ts","components/Header.tsx","store/SnackbarStore.ts","store/SystemLogStore.ts","fixtures/logMessages.ts","store/ChannelStore.ts","fixtures/codeExamples.ts","components/common/CopyToClipboard.tsx","fixtures/openApiDocs.ts","fixtures/contexts.ts","store/ContextStore.ts","components/common/TemplateTextField.tsx","components/ContextLinking.tsx","components/ContextTemplates.tsx","components/Channels.tsx","components/common/AccordionContent.tsx","components/common/AccordionList.tsx","components/Workbench/ReceivedField.tsx","components/Workbench/ContextListeners.tsx","fixtures/intentTypes.ts","store/AppChannelStore.tsx","store/PrivateChannelStore.tsx","store/IntentStore.ts","components/Workbench/IntentListeners.tsx","components/Workbench/AppChannelListeners.tsx","components/Workbench/SystemLogItem.tsx","components/Workbench/SystemLog.tsx","components/Workbench/PrivateChannelListeners.tsx","components/Workbench/Workbench.tsx","components/common/JsonInput.tsx","components/common/DialogModal.tsx","components/ContextCreate.tsx","components/ChannelField.tsx","components/IntentResolutionField.tsx","components/Intents.tsx","components/AppChannels.tsx","App.tsx","index.tsx"],"names":["useStyles","makeStyles","theme","createStyles","tabPanel","padding","spacing","TabPanel","props","classes","children","value","index","other","role","hidden","id","className","Fdc3Api","fdc3Methods","this","window","fdc3Version","fdc3_2","fdc3_1","getCurrentChannel","context","broadcast","intent","handler","addIntentListener","contextTypeOrHandler","addContextListener","app","appId","instanceId","raiseIntentForContext","getSystemChannels","channelId","joinChannel","leaveCurrentChannel","waitForMs","fdc3Ready","getOrCreateChannel","getInfo","findIntentsByContext","targetApp","fdc3","root","flexGrow","toolbar","backgroundColor","paddingBottom","link","color","palette","common","white","textDecoration","info","marginLeft","minWidth","fontSize","headerCube","width","height","backgroundHeader","background","left","top","position","zIndex","warning","transform","warningText","appid","whiteSpace","overflow","textoOverflow","overflowWrap","maxWidth","Header","useState","appInfo","setAppInfo","paramVersion","URLSearchParams","location","search","get","replace","chosenVersion","setChosenVersion","supportedVersion","useEffect","fdc3Available","updateInfo","implInfo","implInfoPromise","displayInfo","provider","providerVersion","appMetadata","version","console","error","includes","AppBar","elevation","style","Toolbar","Typography","variant","src","map","ver","href","length","scope","Tooltip","title","snackbarStore","snackbarData","makeObservable","observable","setSnackbar","action","clearSnackbarData","data","nanoid","SystemLogStore","logList","addLog","name","type","body","message","logMessages","getFdc3","getChannels","success","joinUserChannel","leaveChannel","appbroadcast","raiseIntent","removeContextListener","removeAppChannelContextListener","removeIntentListener","receivedContextListener","receivedAppContextListener","addAppContextListener","receivedIntentListener","saveTemplate","deleteTemplate","copyToClipboard","createPrivateChannel","pcAddContextListener","pcOnUnsubscribe","pcOnDisconnect","getLogMessage","push","systemLogStore","ChannelStore","userChannels","currentUserChannel","getUserChannels","leaveUserChannel","getCurrentUserChannel","userChannel","runInAction","then","JSON","stringify","catch","reason","isSuccess","channelStore","codeExamples","text","navigator","clipboard","writeText","openApiDocsLink","event","preventDefault","currentTarget","getAttribute","open","contexts","uuid","uuidv4","template","email","schemaUrl","URL","contacts","ticker","RIC","ISIN","instruments","LEI","FDS_ID","ISOALPHA3","instrument","holding","positions","ContextStore","contextsList","currentContext","contextListeners","setContext","deleteContextItem","addContextItem","saveContextItem","localStorageContextList","localStorage","getItem","usingDefaultContexts","parsedListFromStorage","parse","Array","isArray","err","log","updateLocalStorage","contextItem","sort","a","b","localeCompare","selectedId","find","Object","keys","forEach","key","filter","c","setItem","toJS","contextType","listenerId","toLowerCase","metaData","currentListener","lastReceivedContext","contactListener","listener","listenerIndex","findIndex","unsubscribe","splice","contextStore","TemplateTextField","withStyles","borderBottomColor","borderColor","TextField","form","display","flexWrap","marginTop","marginRight","controls","spread","flexDirection","justifyContent","contextListenerName","bottomAlignChildren","alignItems","rightAlign","listenerFilter","createFilterOptions","ContextLinking","observer","contextListener","setContextListener","contextError","setContextError","contextListenersOptionsAll","unshift","setValue","setError","contextListenersOptions","from","Map","reverse","item","values","Grid","xs","container","direction","Autocomplete","size","selectOnFocus","blurOnSelect","clearOnBlur","handleHomeEndKeys","onChange","newValue","inputValue","filterOptions","options","params","filtered","getOptionLabel","option","renderOption","renderInput","label","placeholder","helperText","Button","onClick","e","isContextListenerExists","IconButton","Link","target","contextName","cursor","contextFilter","ContextTemplates","handleTabChange","contextStateSetter","channel","contextsOptions","isInitialMount","useRef","current","selectedContext","getOptionSelected","margin","paddingLeft","channelsSelect","border","marginBottom","dropDown","Channels","setChannelId","isError","setIsError","broadcastContext","setBroadcastContext","FormControl","InputLabel","Select","labelId","MenuProps","anchorOrigin","vertical","horizontal","transformOrigin","getContentAnchorEl","MenuItem","disabled","FormHelperText","sm","accordion","boxShadow","accordionSummary","minHeight","accordionDetails","paddingTop","accordionTitle","expand_icon","icon","AccordionContent","Accordion","defaultExpanded","AccordionSummary","expandIcon","AccordionDetails","list","listItem","paddingRight","listAction","AccordionList","listItems","noItemsText","onDelete","handleDelete","List","textPrimary","afterEachElement","ListItem","disableGutters","ListItemText","disableTypography","primary","secondary","ListItemSecondaryAction","edge","textField","input","ReceivedField","formattedData","source","InputLabelProps","shrink","contentEditable","fullWidth","multiline","InputProps","ContextListeners","receivedContextListenerValue","undefined","contextField","intentTypes","AppChannelStore","appChannelsList","currentAppChannel","channelListeners","currentChannel","chan","currChannel","newListener","appChannelStore","PrivateChannelStore","privateChannelsList","currentPrivateChannel","onAddContextListener","onDisconnect","onUnsubscribe","disconnect","channelContexts","channelContextDelay","setTimeout","clearTimeout","privateChannelStore","IntentStore","intentsList","intentListeners","resultContext","channelName","isPrivate","addChannelListener","intentListener","resolution","intentStore","IntentListeners","AppChannelListeners","SystemLogItem","logItem","borderTop","dark","divider","SystemLog","component","PrivateChannelListeners","paper","systemLog","maxHeight","overflowY","indicator","tabs","borderBottomStyle","borderBottomWidth","a11yProps","Workbench","tabValue","setTabValue","Tabs","indicatorColor","scrollButtons","Tab","borderRadius","shape","grey","jsonInput","errorText","bottom","main","JsonInput","jsoneditor","setJsoneditor","initialSettings","mode","mainMenuBar","statusBar","indentation","onChangeText","onValidationError","onJsonError","errorMsg","schema","$RefParser","dereference","circular","editor","JSONEditor","json","destroy","setSchema","set","tabIndex","ref","DialogModal","onClose","onAgree","selectedValue","handleClose","Dialog","DialogTitle","DialogActions","autoFocus","templateSelect","multilineField","button","delete","copy","margins","tableContainer","emptyJson","ContextCreate","templateName","setTemplateName","duplicateName","setDuplicateName","contextValue","setContextValue","setOpen","deleteContext","setDeleteContext","setDisabled","gridRef","handleChangeTemplate","found","tempName","ignoreUuid","reduce","count","validate","handleCreateTemplate","handleSaveTemplate","isValid","currContext","handleDuplicateTemplate","copyName","newContext","scrollIntoView","behavior","block","contextId","TableContainer","Table","TableBody","TableRow","hover","selected","TableCell","align","handleClickOpen","noValidate","autoComplete","resetContextList","onSubmit","field","errors","topMargin","secondMargin","h4","h6","rightPadding","ChannelField","channelsList","isPrivateChannel","setContextItem","currentChannelList","setCurrentChannelList","handleAddContextListener","foundChannel","listenerError","handleContextStateChange","element","handleBroadcast","onKeyDown","defaultPrevented","remove","handleRemoveOrDisconnect","IntentResolutionField","resolutionResult","setResolutionResult","isChannel","setIsChannel","privateChannel","setPrivateChannel","setChannelsList","setChannelName","results","displayIntentResults","hasOwnProperty","getResult","result","bottomMargin","removeSidePadding","targetSelect","outline","toggle","indentLeft","caption","Intents","intentValue","setIntentValue","raiseIntentError","setRaiseIntentError","setIntentListener","intentsForContext","setIntentsForContext","setTargetApp","contextTargetApp","setContextTargetApp","raiseIntentContext","setRaiseIntentContext","raiseIntentWithContextContext","setRaiseIntentWithContextContext","intentError","setIntentError","intentResolution","setIntentResolution","intentForContextResolution","setIntentForContextResolution","intentListenersOptions","contextFields","setContextFields","resultTypeContext","setResultTypeContext","resultOverChannelContextList","setResultOverChannelContextList","resultOverChannelContextDelays","setResultOverChannelContextDelays","sendIntentResult","setSendIntentResult","resultType","setResultType","useTargets","setUseTargets","useContextTargets","setUseContextTargets","channelType","setChannelType","sendResultOverChannel","setSendResultOverChannel","currentAppChannelId","setCurrentAppChannelId","targetOptions","setTargetOptions","targetOptionsforContext","setTargetOptionsforContext","handleRaiseIntent","handleRaiseIntentForContext","clearTargets","clearContextTargets","handleChangeListener","handleAddContextField","delay","curr","lastDelay","Number","setChannelContextList","fetchIntents","appIntents","FormGroup","FormControlLabel","control","Switch","checked","targetObj","onOpen","fetchAppsInstances","foundIntent","currIntent","apps","sortedApps","fullApps","currentApp","foundAppIndex","instances","concat","appSet","ListSubheader","String","exampleToUse","contextTargetObj","currentTargetApp","appIntentsForContext","sortedIntents","currentIntent","currentLoopIntent","fullContextApps","totalNumApps","sI","sII","currentSortedIntent","Checkbox","RadioGroup","Radio","ToggleButtonGroup","exclusive","nextView","ToggleButton","Fragment","AppChannels","handleGetorCreateChannel","mainTheme","createTheme","light","contrastText","MuiLink","underline","MuiTableCell","overrides","typography","fontFamily","h5","body1","fontWeight","lineHeight","letterSpacing","marginBlockStart","marginBlockEnd","header","tabIndicator","footer","fontStyle","code","workbench","breakpoints","down","openAPIDocs","openSpecAccessDocs","openSupportedPlatformsDocs","App","setFdc3Available","openSnackbar","setOpenSnackbar","setTabIndex","setContextName","newIndex","ThemeProvider","md","flex","Paper","Snackbar","autoHideDuration","Alert","severity","endsWith","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c6006406.chunk.js","sourcesContent":["import React from \"react\";\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\n\ninterface TabPanelProps {\n\tchildren?: React.ReactNode;\n\tindex: any;\n\tvalue: any;\n}\n\nconst useStyles = makeStyles((theme: Theme) =>\n\tcreateStyles({\n\t\ttabPanel: {\n\t\t\tpadding: theme.spacing(2),\n\t\t},\n\t})\n);\n\nexport const TabPanel: React.FC<TabPanelProps> = (props: TabPanelProps) => {\n\tconst classes = useStyles();\n\n\tconst { children, value, index, ...other } = props;\n\n\treturn (\n\t\t<div\n\t\t\trole=\"tabpanel\"\n\t\t\thidden={value !== index}\n\t\t\tid={`scrollable-auto-tabpanel-${index}`}\n\t\t\taria-labelledby={`scrollable-auto-tab-${index}`}\n\t\t\t{...other}\n\t\t>\n\t\t\t{value === index && <div className={classes.tabPanel}>{children}</div>}\n\t\t</div>\n\t);\n};\n","import * as fdc3_2 from \"fdc3-2.0\";\nimport * as fdc3_1 from \"fdc3-1.2\";\n\ninterface fdc3_1IntentResolution extends fdc3_1.IntentResolution {\n\tgetResult?: any;\n\tresultContext?: any;\n}\ninterface fdc3_2IntentResolution extends fdc3_2.IntentResolution {\n\tresultContext?: any;\n}\n\ninterface fdc3_1ImplementationMetadata extends fdc3_1.ImplementationMetadata {\n\tappMetadata?: any;\n}\n\ninterface fdc3_2ImplementationMetadata extends fdc3_2.ImplementationMetadata {\n\tappMetadata: any;\n}\n\nexport type ContextType = {\n\ttype: string;\n\tid?: {\n\t\t[key: string]: string;\n\t};\n\tname?: string;\n\t[x: string]: any;\n};\n\nexport interface Fdc3Listener {\n\tid: string;\n\tchannelId?: string;\n\ttype: string | undefined;\n\tlistener: fdc3_1.Listener | fdc3_2.Listener;\n\tlastReceivedContext?: ContextType | null;\n\tmetaData?: any;\n}\n\nexport type IntentResolution = fdc3_1IntentResolution | fdc3_2IntentResolution;\n\nexport type TargetApp = fdc3_1.TargetApp;\n\nexport type Channel = fdc3_2.Channel | fdc3_1.Channel;\n\nexport type ImplementationMetadata = fdc3_1ImplementationMetadata | fdc3_2ImplementationMetadata;\n\nexport type AppMetadata = (fdc3_1.AppMetadata | fdc3_2.AppMetadata) & {\n\tinstanceId?: string;\n};\n\nexport type AppIntent = fdc3_1.AppIntent | fdc3_2.AppIntent;\n\nexport type Context = fdc3_1.Context | fdc3_2.Context;\n\nexport type AppIdentifier = fdc3_2.AppIdentifier;\n\nexport type PrivateChannel = fdc3_2.PrivateChannel;\n\nclass Fdc3Api {\n\tfdc3Methods: typeof fdc3_1 | typeof fdc3_2;\n\n\tconstructor() {\n\t\tthis.fdc3Methods = window.fdc3Version === \"2.0\" ? fdc3_2 : fdc3_1;\n\t}\n\n\tgetCurrentChannel() {\n\t\treturn this.fdc3Methods.getCurrentChannel();\n\t}\n\n\tbroadcast(context: fdc3_1.Context | fdc3_2.Context) {\n\t\treturn this.fdc3Methods.broadcast(context);\n\t}\n\n\tasync addIntentListener(intent: string, handler: fdc3_1.ContextHandler | fdc3_2.ContextHandler) {\n\t\treturn await this.fdc3Methods.addIntentListener(intent, handler);\n\t}\n\n\tasync addContextListener(\n\t\tcontextTypeOrHandler: string | fdc3_1.ContextHandler | fdc3_2.ContextHandler,\n\t\thandler?: fdc3_1.ContextHandler | fdc3_2.ContextHandler | undefined\n\t) {\n\t\treturn await this.fdc3Methods.addContextListener(contextTypeOrHandler, handler);\n\t}\n\n\tasync raiseIntent(intent: string, context: fdc3_1.Context & fdc3_2.Context, app?: AppMetadata | undefined) {\n\t\tif (window.fdc3Version === \"2.0\") {\n\t\t\treturn await fdc3_2.raiseIntent(intent, context, {\n\t\t\t\tappId: app?.appId ? app.appId : \"\",\n\t\t\t\tinstanceId: app?.instanceId && app.instanceId,\n\t\t\t});\n\t\t} else {\n\t\t\treturn fdc3_1.raiseIntent(intent, context, app?.appId);\n\t\t}\n\t}\n\n\tasync raiseIntentForContext(\n\t\tcontext: fdc3_1.Context & fdc3_2.Context,\n\t\tapp?: (fdc3_1.TargetApp & (String | fdc3_2.AppIdentifier)) | undefined\n\t) {\n\t\treturn <any>await this.fdc3Methods.raiseIntentForContext(context, app);\n\t}\n\n\tgetSystemChannels() {\n\t\treturn this.fdc3Methods.getSystemChannels();\n\t}\n\n\tjoinChannel(channelId: string) {\n\t\treturn this.fdc3Methods.joinChannel(channelId);\n\t}\n\n\tleaveCurrentChannel() {\n\t\treturn this.fdc3Methods.leaveCurrentChannel();\n\t}\n\n\tfdc3Ready(waitForMs?: number | undefined) {\n\t\treturn this.fdc3Methods.fdc3Ready(waitForMs);\n\t}\n\n\tasync getOrCreateChannel(channelId: string) {\n\t\treturn await this.fdc3Methods.getOrCreateChannel(channelId);\n\t}\n\n\tgetInfo() {\n\t\treturn this.fdc3Methods.getInfo();\n\t}\n\n\tfindIntentsByContext(context: Context) {\n\t\treturn this.fdc3Methods.findIntentsByContext(context);\n\t}\n\n\tasync createPrivateChannel() {\n\t\treturn fdc3_2.createPrivateChannel();\n\t}\n\n\tasync findInstances(targetApp: any) {\n\t\treturn await fdc3_2.findInstances(targetApp);\n\t}\n}\n\nconst fdc3 = new Fdc3Api();\n\nexport default fdc3;\n","import React, { useEffect, useState } from \"react\";\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\nimport { AppBar, Toolbar, Tooltip, Typography } from \"@material-ui/core\";\nimport WarningIcon from \"@material-ui/icons/Warning\";\nimport fdc3, { ImplementationMetadata } from \"../utility/Fdc3Api\";\n\ndeclare global {\n\tinterface Window {\n\t\tfdc3Version: string;\n\t}\n}\n\nconst useStyles = makeStyles((theme: Theme) =>\n\tcreateStyles({\n\t\troot: {\n\t\t\tflexGrow: 1,\n\t\t},\n\t\ttoolbar: {\n\t\t\tbackgroundColor: \"transparent\",\n\t\t\tpadding: theme.spacing(2, 4),\n\t\t\tpaddingBottom: \"0px\",\n\t\t},\n\t\tlink: {\n\t\t\tcolor: theme.palette.common.white,\n\t\t\ttextDecoration: \"underline\",\n\t\t\t\"&:hover\": {\n\t\t\t\tcolor: theme.palette.common.white,\n\t\t\t},\n\t\t},\n\t\tinfo: {\n\t\t\tmarginLeft: \"auto\",\n\t\t\tminWidth: \"200px\",\n\t\t\tfontSize: \"12px\",\n\t\t},\n\t\tfdc3: {},\n\t\theaderCube: {\n\t\t\twidth: \"325px\",\n\t\t\theight: \"40px\",\n\t\t},\n\t\tbackgroundHeader: {\n\t\t\tbackground: \"linear-gradient(to bottom, #0086bf, #00bbe1)\",\n\t\t\theight: \"200px\",\n\t\t\twidth: \"100%\",\n\t\t\tleft: \"0px\",\n\t\t\ttop: \"0px\",\n\t\t\tposition: \"absolute\",\n\t\t\tzIndex: -10,\n\t\t},\n\t\twarning: {\n\t\t\tcolor: \"yellow\",\n\t\t\tfontSize: \"10px\",\n\t\t\ttransform: \"scale(1.5)\",\n\t\t\tmarginLeft: \"5px\",\n\t\t},\n\t\twarningText: {\n\t\t\tcolor: \"red\",\n\t\t},\n\t\tappid: {\n\t\t\twhiteSpace: \"nowrap\",\n\t\t\toverflow: \"hidden\",\n\t\t\ttextoOverflow: \"ellipsis\",\n\t\t\toverflowWrap: \"anywhere\",\n\t\t\tmaxWidth: \"150px\",\n\t\t},\n\t})\n);\n\nexport const Header = (props: { fdc3Available: boolean }) => {\n\tconst classes = useStyles();\n\tconst [appInfo, setAppInfo] = useState<any>();\n\tconst params = new URLSearchParams(window.location.search);\n\tconst paramVersion = params.get(\"fdc3Version\")?.replace(/\\/$/, '') || '';\n\tconst [chosenVersion, setChosenVersion] = useState<string>(\"2.0\");\n\tlet warningText = `Your FDC3 version (${appInfo?.fdc3Version}) doesn't match the version of the FDC3 Workbench you are using (${chosenVersion})`;\n\tconst supportedVersion = [\"2.0\", \"1.2\"];\n\n\tuseEffect(() => {\n\t\tif (props.fdc3Available) {\n\t\t\t//getInfo is not available in FDC3 < v1.2, handle any errors thrown when trying to use it\n\t\t\tconst updateInfo = async () => {\n\t\t\t\tlet implInfo: ImplementationMetadata | null = null;\n\t\t\t\t\n\t\t\t\t//Then if chosenVersion == \"2.0\"  then implInfo = await implInfoPromise   else implInfo = implInfoPromise  (with handling for <1.2 where getInfo() doesn't exist at all.\n\t\t\t\ttry {\n\t\t\t\t\t\n\t\t\t\t\tconst implInfoPromise: Promise<ImplementationMetadata> | ImplementationMetadata = fdc3.getInfo();\n\t\t\t\t\tif (paramVersion == \"1.2\" && (implInfoPromise as unknown as ImplementationMetadata).fdc3Version){\n\t\t\t\t\t\t//should not expect a promise if we're really working with 1.2\n\t\t\t\t\t\timplInfo = (implInfoPromise as unknown as ImplementationMetadata);\n\t\t\t\t\t} else {\n\t\t\t\t\t\timplInfo = await implInfoPromise;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tlet displayInfo = {\n\t\t\t\t\t\tfdc3Version: \"not specified\",\n\t\t\t\t\t\tprovider: \"not specified\",\n\t\t\t\t\t\tproviderVersion: \"not specified\",\n\t\t\t\t\t\tappMetadata: {\n\t\t\t\t\t\t\tappId: \"not specified\",\n\t\t\t\t\t\t\tversion: \"not specified\",\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\n\t\t\t\t\tif (implInfo.provider) {\n\t\t\t\t\t\tdisplayInfo.provider = implInfo.provider;\n\t\t\t\t\t}\n\t\t\t\t\tif (implInfo.providerVersion) {\n\t\t\t\t\t\tdisplayInfo.providerVersion = implInfo.providerVersion;\n\t\t\t\t\t}\n\t\t\t\t\tif (implInfo.fdc3Version) {\n\t\t\t\t\t\tdisplayInfo.fdc3Version = implInfo.fdc3Version;\n\t\t\t\t\t}\n\t\t\t\t\tif (implInfo.appMetadata) {\n\t\t\t\t\t\tdisplayInfo.appMetadata = {\n\t\t\t\t\t\t\tappId: implInfo.appMetadata.appId ? implInfo.appMetadata.appId : \"not specified\",\n\t\t\t\t\t\t\tversion: implInfo.appMetadata.version ? implInfo.appMetadata.version : \"not specified\",\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\tsetAppInfo(displayInfo);\t\t\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.error(\"Failed to retrieve FDC3 implementation info\", e);\n\t\t\t\t}\n\n\t\t\t\tif (paramVersion) {\n\t\t\t\t\tsetChosenVersion(paramVersion);\n\t\t\t\t} else if(implInfo?.fdc3Version && supportedVersion.includes(implInfo?.fdc3Version)) {\n\t\t\t\t\tsetChosenVersion(implInfo.fdc3Version);\n\t\t\t\t} else {\n\t\t\t\t\tsetChosenVersion(\"2.0\");\n\t\t\t\t}\n\n\t\t\t\twindow.fdc3Version = chosenVersion;\n\t\t\t\t\n\t\t\t};\n\n\t\t\tupdateInfo();\n\t\t}\n\t}, [props.fdc3Available, chosenVersion]);\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<div className={classes.backgroundHeader}></div>\n\t\t\t<AppBar position=\"static\" elevation={0} style={{ backgroundColor: \"transparent\" }}>\n\t\t\t\t<Toolbar className={classes.toolbar}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Typography variant=\"h3\" color=\"inherit\" className={classes.fdc3}>\n\t\t\t\t\t\t\t<img src=\"./fdc3-logo.png\" className={classes.headerCube} />\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography color=\"inherit\">\n\t\t\t\t\t\t\t{supportedVersion.map((ver, index) => (\n\t\t\t\t\t\t\t\t<span key={index}>\n\t\t\t\t\t\t\t\t\t{ver === chosenVersion ? (\n\t\t\t\t\t\t\t\t\t\t<span>{ver}</span>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<a className={`${classes.link}`} href={`?fdc3Version=${ver}`}>\n\t\t\t\t\t\t\t\t\t\t\t{ver}\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t{supportedVersion.length - 1 !== index && <span> | </span>}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className={classes.info}>\n\t\t\t\t\t\t<table id=\"providerInfo\">\n\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<th scope=\"row\">FDC3 Version</th>\n\t\t\t\t\t\t\t\t\t{appInfo?.fdc3Version ? (\n\t\t\t\t\t\t\t\t\t\tchosenVersion === appInfo.fdc3Version ? (\n\t\t\t\t\t\t\t\t\t\t\t<td>{appInfo.fdc3Version}</td>\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t<td className={classes.warningText}>\n\t\t\t\t\t\t\t\t\t\t\t\t{appInfo.fdc3Version}\n\t\t\t\t\t\t\t\t\t\t\t\t<Tooltip title={warningText} aria-label={warningText}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<WarningIcon className={classes.warning} />\n\t\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<td>unknown</td>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<th scope=\"row\">Provider</th>\n\t\t\t\t\t\t\t\t\t<td>{appInfo?.provider ? appInfo.provider : \"unknown\"}</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<th scope=\"row\">Provider version</th>\n\t\t\t\t\t\t\t\t\t<td>{appInfo?.providerVersion ? appInfo.providerVersion : \"unknown\"}</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t{chosenVersion != \"1.2\" ? (\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<th scope=\"row\">My AppId</th>\n\t\t\t\t\t\t\t\t\t<td className={classes.appid}>\n\t\t\t\t\t\t\t\t\t\t{appInfo?.appMetadata?.appId ? appInfo.appMetadata.appId : \"unknown\"}\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t) : \"\"}\n\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t</div>\n\t\t\t\t</Toolbar>\n\t\t\t</AppBar>\n\t\t</div>\n\t);\n};\n","import { makeObservable, observable, action } from \"mobx\";\nimport { Color } from \"@material-ui/lab/Alert\";\nimport { nanoid } from \"nanoid\";\n\ninterface SnackbarData {\n\tmessage: string;\n\ttype: Color;\n}\n\ninterface SnackbarItem extends SnackbarData {\n\tid: string;\n}\n\nclass SnackbarStore {\n\tsnackbarData: SnackbarItem | null = null;\n\n\tconstructor() {\n\t\tmakeObservable(this, {\n\t\t\tsnackbarData: observable,\n\t\t\tsetSnackbar: action,\n\t\t\tclearSnackbarData: action,\n\t\t});\n\t}\n\n\tsetSnackbar(data: SnackbarData) {\n\t\tthis.snackbarData = { ...data, id: nanoid() };\n\t}\n\n\tclearSnackbarData() {\n\t\tthis.snackbarData = null;\n\t}\n}\n\nconst snackbarStore = new SnackbarStore();\n\nexport default snackbarStore;\n","import { makeObservable, observable, action } from \"mobx\";\nimport { nanoid } from \"nanoid\";\nimport { getLogMessage } from \"../fixtures/logMessages\";\nimport snackbarStore from \"./SnackbarStore\";\n\nexport type logMessagesName =\n\t| \"getFdc3\"\n\t| \"getChannels\"\n\t| \"getCurrentChannel\"\n\t| \"joinUserChannel\"\n\t| \"leaveChannel\"\n\t| \"broadcast\"\n\t| \"appbroadcast\"\n\t| \"raiseIntent\"\n\t| \"raiseIntentForContext\"\n\t| \"addContextListener\"\n\t| \"removeContextListener\"\n\t| \"addIntentListener\"\n\t| \"removeIntentListener\"\n\t| \"receivedContextListener\"\n\t| \"receivedIntentListener\"\n\t| \"deleteTemplate\"\n\t| \"saveTemplate\"\n\t| \"copyToClipboard\"\n\t| \"getOrCreateChannel\"\n\t| \"createPrivateChannel\"\n\t| \"receivedAppContextListener\"\n\t| \"addAppContextListener\"\n\t| \"removeAppChannelContextListener\"\n\t| \"pcAddContextListener\"\n\t| \"pcOnUnsubscribe\"\n\t| \"pcOnDisconnect\";\n\nexport type logMessagesType = \"error\" | \"success\" | \"warning\" | \"info\";\n\nexport interface LogItem {\n\tid: string;\n\tname: logMessagesName;\n\ttype: logMessagesType;\n\tmessage: string;\n\tbody?: string;\n\tvariant?: \"code\" | \"text\";\n}\n\ninterface LogItemCreator extends Omit<LogItem, \"message\" | \"id\"> {\n\tvalue?: string;\n}\n\nclass SystemLogStore {\n\tlogList: LogItem[] = [];\n\n\tconstructor() {\n\t\tmakeObservable(this, {\n\t\t\tlogList: observable,\n\t\t\taddLog: action,\n\t\t});\n\t}\n\n\taddLog({ name, type, value, body, variant }: LogItemCreator) {\n\t\tconst message = getLogMessage(name, type, value);\n\t\tsnackbarStore.setSnackbar({\n\t\t\tmessage: message,\n\t\t\ttype: type,\n\t\t});\n\n\t\tthis.logList.push({ id: nanoid(), name, type, message, body, variant: variant ?? \"text\" });\n\t}\n}\n\nconst systemLogStore = new SystemLogStore();\n\nexport default systemLogStore;\n","import { logMessagesName, logMessagesType } from \"../store/SystemLogStore\";\n\ntype LogMessages = {\n\t[name in logMessagesName]: {\n\t\t[type in logMessagesType]?: string;\n\t};\n};\n\nexport const getLogMessage = (name: logMessagesName, type: logMessagesType, value: string = \"\"): string => {\n\tconst logMessages: LogMessages = {\n\t\tgetFdc3: {\n\t\t\terror: `The FDC3 API is not ready${value ? ` (${value})` : \"\"}`,\n\t\t},\n\t\tgetChannels: {\n\t\t\tsuccess: `Successfully retrieved System channels`,\n\t\t\terror: `Failed to retrieve System channels`,\n\t\t},\n\t\tgetCurrentChannel: {\n\t\t\tsuccess: `Successfully retrieved current channel [${value}]`,\n\t\t\terror: `Failed to retrieve current channel`,\n\t\t},\n\t\tjoinUserChannel: {\n\t\t\tsuccess: `Successfully joined the [${value}] channel`,\n\t\t\terror: `Failed to join the [${value}] channel`,\n\t\t},\n\t\tleaveChannel: {\n\t\t\tsuccess: `Successfully left the [${value}] channel`,\n\t\t\terror: `Failed to leave the [${value}] channel`,\n\t\t\twarning: `Not currently joined to a channel`,\n\t\t},\n\t\tbroadcast: {\n\t\t\tsuccess: \"Successfully broadcast context\",\n\t\t\terror: \"Failed to broadcast context:\",\n\t\t},\n\t\tappbroadcast: {\n\t\t\tsuccess: `Successfully broadcast context to channel [${value}]: `,\n\t\t\terror: `Failed to broadcast context to channel [${value}]:`,\n\t\t},\n\t\traiseIntent: {\n\t\t\tsuccess: `Successfully raised intent [${value}]`,\n\t\t\terror: `Failed to raise intent [${value}]`,\n\t\t},\n\t\traiseIntentForContext: {\n\t\t\tsuccess: `Successfully raised intent for context`,\n\t\t\terror: `Failed to raise intent for context`,\n\t\t},\n\t\taddContextListener: {\n\t\t\tsuccess: `A context listener for '[${value}]' has been added`,\n\t\t\terror: `Failed to add a context listener for '[${value}]'`,\n\t\t},\n\t\tremoveContextListener: {\n\t\t\tsuccess: `A context listener for '[${value}]' has been removed`,\n\t\t\terror: `Failed to remove a context listener for '[${value}]'`,\n\t\t},\n\t\tremoveAppChannelContextListener: {\n\t\t\tsuccess: `${value}`,\n\t\t\terror: `${value}`,\n\t\t},\n\t\taddIntentListener: {\n\t\t\tsuccess: `An intent listener for '[${value}]' has been added`,\n\t\t\terror: `Failed to add an intent listener for '[${value}]'`,\n\t\t},\n\t\tremoveIntentListener: {\n\t\t\tsuccess: `An intent listener for '[${value}]' has been removed`,\n\t\t\terror: `Failed to remove an intent listener for '[${value}]'`,\n\t\t},\n\t\treceivedContextListener: {\n\t\t\tinfo: `Received context via '[${value}]' listener`,\n\t\t\terror: `Failed to receive context from '[${value}]' listener`,\n\t\t},\n\t\treceivedAppContextListener: {\n\t\t\tinfo: `${value}`,\n\t\t\terror: `${value}`,\n\t\t},\n\t\taddAppContextListener: {\n\t\t\tinfo: `${value}`,\n\t\t\terror: `${value}`,\n\t\t},\n\t\treceivedIntentListener: {\n\t\t\tinfo: `Received context via '[${value}]' listener.`,\n\t\t\terror: `Failed to receive context from '[${value}]' listener.`,\n\t\t},\n\t\tsaveTemplate: {\n\t\t\tsuccess: `Saved context template for '[${value}]'.`,\n\t\t\terror: `Failed to save context template.`,\n\t\t},\n\t\tdeleteTemplate: {\n\t\t\tsuccess: `Deleted context template for '[${value}]'.`,\n\t\t\terror: `Failed to delete context template.`,\n\t\t},\n\t\tcopyToClipboard: {\n\t\t\tinfo: `${value} code snippet copied to clipboard`,\n\t\t\terror: `Failed to copy code ${value} snippet to clipboard.`,\n\t\t},\n\t\tgetOrCreateChannel: {\n\t\t\tsuccess: `Successfully retrieved or created current app channel [${value}]`,\n\t\t\terror: `Failed to retrieve or create app channel ${value}.`,\n\t\t},\n\t\tcreatePrivateChannel: {\n\t\t\tsuccess: `Successfully created current private channel [${value}]`,\n\t\t\terror: `Failed to create private channel ${value}.`,\n\t\t},\n\t\tpcAddContextListener: {\n\t\t\tsuccess: `${value}`,\n\t\t\terror: `${value}`,\n\t\t},\n\t\tpcOnUnsubscribe: {\n\t\t\tsuccess: `${value}`,\n\t\t\terror: `${value}`,\n\t\t},\n\t\tpcOnDisconnect: {\n\t\t\tsuccess: `${value}`,\n\t\t\terror: `${value}`,\n\t\t},\n\t};\n\n\treturn logMessages[name][type] ?? (value != \"\" ? `${value}` : `Undefined log message ${name}.${type}`);\n};\n","import { makeObservable, observable, action, runInAction } from \"mobx\";\nimport fdc3, { Channel } from \"../utility/Fdc3Api\";\nimport systemLogStore from \"./SystemLogStore\";\n\nclass ChannelStore {\n\tuserChannels: Channel[] = [];\n\n\tcurrentUserChannel: Channel | null = null;\n\n\tconstructor() {\n\t\tmakeObservable(this, {\n\t\t\tuserChannels: observable,\n\t\t\tcurrentUserChannel: observable,\n\t\t\tgetUserChannels: action,\n\t\t\tjoinUserChannel: action,\n\t\t\tleaveUserChannel: action,\n\t\t\tgetCurrentUserChannel: action,\n\t\t});\n\n\t\tthis.getUserChannels();\n\t}\n\n\tasync getCurrentUserChannel() {\n\t\ttry {\n\t\t\tconst userChannel = await fdc3.getCurrentChannel();\n\t\t\trunInAction(() => {\n\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\tname: \"getCurrentChannel\",\n\t\t\t\t\ttype: \"success\",\n\t\t\t\t\tvalue: userChannel ? userChannel.id : \"none\",\n\t\t\t\t\tvariant: \"text\",\n\t\t\t\t});\n\t\t\t\tthis.currentUserChannel = userChannel;\n\t\t\t});\n\t\t} catch (e) {\n\t\t\trunInAction(() => {\n\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\tname: \"getCurrentChannel\",\n\t\t\t\t\ttype: \"error\",\n\t\t\t\t\tvariant: \"text\",\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n\n\tasync getUserChannels() {\n\t\t//defer retrieving channels until fdc3 API is ready\n\t\tfdc3\n\t\t\t.fdc3Ready(5000)\n\t\t\t.then(async () => {\n\t\t\t\ttry {\n\t\t\t\t\tconst userChannels = await fdc3.getSystemChannels();\n\t\t\t\t\tconst currentUserChannel = await fdc3.getCurrentChannel();\n\n\t\t\t\t\trunInAction(() => {\n\t\t\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\t\t\tname: \"getChannels\",\n\t\t\t\t\t\t\ttype: \"success\",\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.userChannels = userChannels;\n\t\t\t\t\t\tthis.currentUserChannel = currentUserChannel;\n\t\t\t\t\t});\n\t\t\t\t} catch (e) {\n\t\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\t\tname: \"getChannels\",\n\t\t\t\t\t\ttype: \"error\",\n\t\t\t\t\t\tvariant: \"code\",\n\t\t\t\t\t\tbody: JSON.stringify(e, null, 4),\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((reason) => {\n\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\tname: \"getFdc3\",\n\t\t\t\t\ttype: \"error\",\n\t\t\t\t\tvariant: \"text\",\n\t\t\t\t\tvalue: reason,\n\t\t\t\t});\n\t\t\t});\n\t}\n\n\tasync joinUserChannel(channelId: string) {\n\t\ttry {\n\t\t\tawait fdc3.joinChannel(channelId);\n\t\t\tconst currentUserChannel = await fdc3.getCurrentChannel();\n\t\t\tconst isSuccess = currentUserChannel !== null;\n\n\t\t\trunInAction(() => {\n\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\tname: \"joinUserChannel\",\n\t\t\t\t\ttype: isSuccess ? \"success\" : \"error\",\n\t\t\t\t\tvalue: isSuccess ? currentUserChannel?.id : channelId,\n\t\t\t\t\tvariant: \"text\",\n\t\t\t\t});\n\t\t\t\tthis.currentUserChannel = currentUserChannel;\n\t\t\t});\n\t\t} catch (e) {\n\t\t\tsystemLogStore.addLog({\n\t\t\t\tname: \"joinUserChannel\",\n\t\t\t\ttype: \"error\",\n\t\t\t\tvalue: channelId,\n\t\t\t\tvariant: \"code\",\n\t\t\t\tbody: JSON.stringify(e, null, 4),\n\t\t\t});\n\t\t}\n\t}\n\n\tasync leaveUserChannel() {\n\t\ttry {\n\t\t\t//check that we're on a channel\n\t\t\tlet currentUserChannel = await fdc3.getCurrentChannel();\n\t\t\tif (!currentUserChannel) {\n\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\tname: \"leaveChannel\",\n\t\t\t\t\ttype: \"warning\",\n\t\t\t\t\tvalue: \"\",\n\t\t\t\t\tvariant: \"text\",\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tawait fdc3.leaveCurrentChannel();\n\t\t\t\tcurrentUserChannel = await fdc3.getCurrentChannel();\n\t\t\t\tconst isSuccess = currentUserChannel === null;\n\n\t\t\t\trunInAction(() => {\n\t\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\t\tname: \"leaveChannel\",\n\t\t\t\t\t\ttype: isSuccess ? \"success\" : \"error\",\n\t\t\t\t\t\tvalue: this.currentUserChannel?.id,\n\t\t\t\t\t\tvariant: \"text\",\n\t\t\t\t\t});\n\n\t\t\t\t\tif (isSuccess) {\n\t\t\t\t\t\tthis.currentUserChannel = null;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tsystemLogStore.addLog({\n\t\t\t\tname: \"leaveChannel\",\n\t\t\t\ttype: \"error\",\n\t\t\t\tvalue: this.currentUserChannel?.id,\n\t\t\t\tvariant: \"code\",\n\t\t\t\tbody: JSON.stringify(e, null, 4),\n\t\t\t});\n\t\t}\n\t}\n}\n\nconst channelStore = new ChannelStore();\n\nexport default channelStore;\n","export const codeExamples = {\n\tuserChannels:\n\t\t\"// get all user channels\\n\" +\n\t\t\"const channels = await fdc3.getUserChannels();\\n\" +\n\t\t\"\\n\" +\n\t\t\"// create UI to pick from the user channels\\n\" +\n\t\t\"\\n\" +\n\t\t\"// join the channel on selection\\n\" +\n\t\t\"fdc3.joinUserChannel(selectedChannel.id);\",\n\tgetCurrentUserChannel:\n\t\t\"// get the current channel membership\\n\" +\n\t\t\"let current = await fdc3.getCurrentChannel();\\n\" +\n\t\t\"\\n\" +\n\t\t\"//leave the current channel\\n\" +\n\t\t\"await fdc3.leaveCurrentChannel();\\n\" +\n\t\t\"//the fdc3Listener will now cease receiving context\",\n\tbroadcast:\n\t\t\"const instrument = {\\n\" +\n\t\t\"    type: 'fdc3.instrument',\\n\" +\n\t\t\"    id: {\\n\" +\n\t\t\"        ticker: 'AAPL'\\n\" +\n\t\t\"    }\\n\" +\n\t\t\"};\\n\" +\n\t\t\"\\n\" +\n\t\t\"fdc3.broadcast(instrument);\",\n\tappChannelBroadcast:\n\t\t\"const instrument = {\\n\" +\n\t\t\"    type: 'fdc3.instrument',\\n\" +\n\t\t\"    id: {\\n\" +\n\t\t\"        ticker: 'AAPL'\\n\" +\n\t\t\"    }\\n\" +\n\t\t\"};\\n\" +\n\t\t\"\\n\" +\n\t\t\"appChannelID.broadcast(instrument);\",\n\traiseIntent: (context: string, intent: string) =>\n\t\t\"//Raise an intent with a specified context\\n\" +\n\t\t`let context = ${\n\t\t\tcontext !== \"null\" ? context : '{type: \"fdc3.instrument\", name: \"Tesla, inc.\", id: {ticker: \"TSLA\"}}'\n\t\t}; \\n` +\n\t\t`fdc3.raiseIntent(\"${intent !== \"null\" ? intent : \"ViewChart\"}\", context);`,\n\traiseIntentTarget: (context: string, intent: string) =>\n\t\t\"//Raise an intent with a specified context\\n\" +\n\t\t`let context = ${\n\t\t\tcontext !== \"null\" ? context : '{type: \"fdc3.instrument\", name: \"Tesla, inc.\", id: {ticker: \"TSLA\"}}'\n\t\t}; \\n` +\n\t\t\"//Find appId in promise result\\n\" +\n\t\t\"let intent = await fdc3.findIntentsByContext(context); \\n\" +\n\t\t\"let appId = intent[0].apps[0].appId; \\n\" +\n\t\t`fdc3.raiseIntent(\"${intent !== \"null\" ? intent : \"ViewChart\"}\", context, {appId});`,\n\traiseIntentInstance: (context: string, intent: string) =>\n\t\t\"//Raise an intent with a specified context\\n\" +\n\t\t`let context = ${\n\t\t\tcontext !== \"null\" ? context : '{type: \"fdc3.instrument\", name: \"Tesla, inc.\", id: {ticker: \"TSLA\"}}'\n\t\t}; \\n` +\n\t\t\"//Find appId in promise result\\n\" +\n\t\t\"let intent = await fdc3.findIntentsByContext(context); \\n\" +\n\t\t\"let appId = intent[0].apps[0].appId; \\n\" +\n\t\t\"//Find instanceId is promise result\" +\n\t\t\"let intances = await fdc3.findInstances({appId}); \\n\" +\n\t\t\"let instanceId = instances[0].instanceId; \\n\" +\n\t\t`fdc3.raiseIntent(\"${intent !== \"null\" ? intent : \"ViewChart\"}\", context, {appId, instanceId});`,\n\tcontextListener:\n\t\t\"// any context\\n\" +\n\t\t\"const listener = fdc3.addContextListener(null, context => {\\n\" +\n\t\t\"    //add context handling code here\\n\" +\n\t\t\"});\\n\" +\n\t\t\"\\n\" +\n\t\t\"// listener for a specific type\\n\" +\n\t\t\"const contactListener = fdc3.addContextListener('fdc3.contact', contact => {\\n\" +\n\t\t\"    //add context handling code here\\n\" +\n\t\t\"});\",\n\tappChannelContextListener:\n\t\t\"// any context\\n\" +\n\t\t\"const listener = appChannelID.addContextListener(null, context => {\\n\" +\n\t\t\"    //add context handling code here\\n\" +\n\t\t\"});\\n\" +\n\t\t\"\\n\" +\n\t\t\"// listener for a specific type\\n\" +\n\t\t\"const contactListener = appChannelID.addContextListener('fdc3.contact', contact => {\\n\" +\n\t\t\"    //add context handling code here\\n\" +\n\t\t\"});\",\n\tintentListener:\n\t\t\"const listener = fdc3.addIntentListener('StartChat', context => {\\n\" +\n\t\t\"  // start chat has been requested by another application\\n\" +\n\t\t\"});\",\n\tintentListenerWithContextResult:\n\t\t\"const instrument = {\\n\" +\n\t\t\"    type: 'fdc3.instrument',\\n\" +\n\t\t\"    id: {\\n\" +\n\t\t\"        ticker: 'AAPL'\\n\" +\n\t\t\"    }\\n\" +\n\t\t\"};\\n\" +\n\t\t\"\\n\" +\n\t\t\"const listener = fdc3.addIntentListener('StartChat', context => {\\n\" +\n\t\t\"  // start chat has been requested by another application\\n\" +\n\t\t\" return instrument\\n\" +\n\t\t\"});\",\n\tintentListenerWithAppChannel:\n\t\t\"const listener = fdc3.addIntentListener('StartChat', context => {\\n\" +\n\t\t\"  // start chat has been requested by another application\\n\" +\n\t\t\" const channel = await appChannelStore.getOrCreateChannel(channelName);\\n\" +\n\t\t\" return channel;\\n\" +\n\t\t\"});\",\n\tintentListenerWithPrivateChannel:\n\t\t\"const listener = fdc3.addIntentListener('StartChat', context => {\\n\" +\n\t\t\"  // start chat has been requested by another application\\n\" +\n\t\t\" const channel = await fdc3.createPrivateChannel();\\n\" +\n\t\t\" return channel;\\n\" +\n\t\t\"});\",\n\traiseIntentForContext: (context: string) =>\n\t\t`let context = ${\n\t\t\tcontext !== \"null\" ? context : '{type: \"fdc3.instrument\", name: \"Tesla, inc.\", id: {ticker: \"TSLA\"}}'\n\t\t}; \\n` + \"const intentResolution = await fdc3.raiseIntentForContext(context);\",\n\traiseIntentForContextTarget: (context: string) =>\n\t\t`let context = ${\n\t\t\tcontext !== \"null\" ? context : '{type: \"fdc3.instrument\", name: \"Tesla, inc.\", id: {ticker: \"TSLA\"}}'\n\t\t}; \\n` +\n\t\t\"//Find appId in promise result\\n\" +\n\t\t\"let intent = await fdc3.findIntentsByContext(context); \\n\" +\n\t\t\"let appId = intent[0].apps[0].appId; \\n\" +\n\t\t'const intentResolution = await fdc3.raiseIntentForContext(context, {appId});\"',\n\traiseIntentForContextInstance: (context: string) =>\n\t\t`let context = ${\n\t\t\tcontext !== \"null\" ? context : '{type: \"fdc3.instrument\", name: \"Tesla, inc.\", id: {ticker: \"TSLA\"}}'\n\t\t}; \\n` +\n\t\t\"//Find appId in promise result\\n\" +\n\t\t\"let intent = await fdc3.findIntentsByContext(context); \\n\" +\n\t\t\"let appId = intent[0].apps[0].appId; \\n\" +\n\t\t\"//Find instanceId is promise result\" +\n\t\t\"let intances = await fdc3.findInstances({appId}); \\n\" +\n\t\t\"let instanceId = instances[0].instanceId; \\n\" +\n\t\t\"const intentResolution = await fdc3.raiseIntentForContext(context, {appId, instanceId});\",\n};\n","import { runInAction } from \"mobx\";\nimport systemLogStore from \"../../store/SystemLogStore\";\n\nexport const copyToClipboard = (text: string, name: string) => () => {\n\tnavigator.clipboard.writeText(text);\n\trunInAction(() => {\n\t\tsystemLogStore.addLog({\n\t\t\tname: \"copyToClipboard\",\n\t\t\ttype: \"info\",\n\t\t\tvalue: name,\n\t\t\tvariant: \"text\",\n\t\t});\n\t});\n};\n","import React from \"react\";\n\nexport const openApiDocsLink = (event: React.MouseEvent<HTMLElement>) => {\n\tevent.preventDefault();\n\tconst href = event?.currentTarget?.getAttribute(\"href\");\n\tif (href) {\n\t\twindow.open(href, \"FDC3ApiDocs\");\n\t}\n\treturn false;\n};\n","import { ContextItem } from \"../store/ContextStore\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nexport const contexts: ContextItem[] = [\n\t{\n\t\tuuid: uuidv4(),\n\t\tid: \"Contact example\",\n\t\ttemplate: {\n\t\t\ttype: \"fdc3.contact\",\n\t\t\tname: \"Jane Doe\",\n\t\t\tid: {\n\t\t\t\temail: \"jane.doe@mail.com\",\n\t\t\t},\n\t\t},\n\t\tschemaUrl: new URL(\"https://fdc3.finos.org/schemas/1.2/contact.schema.json\"),\n\t},\n\t{\n\t\tuuid: uuidv4(),\n\t\tid: \"ContactList example\",\n\t\ttemplate: {\n\t\t\ttype: \"fdc3.contactList\",\n\t\t\tcontacts: [\n\t\t\t\t{\n\t\t\t\t\ttype: \"fdc3.contact\",\n\t\t\t\t\tname: \"Jane Doe\",\n\t\t\t\t\tid: {\n\t\t\t\t\t\temail: \"jane.doe@mail.com\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: \"fdc3.contact\",\n\t\t\t\t\tname: \"John Doe\",\n\t\t\t\t\tid: {\n\t\t\t\t\t\temail: \"john.doe@mail.com\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t},\n\t\tschemaUrl: new URL(\"https://fdc3.finos.org/schemas/1.2/contactList.schema.json\"),\n\t},\n\t{\n\t\tuuid: uuidv4(),\n\t\tid: \"Instrument example\",\n\t\ttemplate: {\n\t\t\ttype: \"fdc3.instrument\",\n\t\t\tname: \"Microsoft\",\n\t\t\tid: {\n\t\t\t\tticker: \"MSFT\",\n\t\t\t\tRIC: \"MSFT.OQ\",\n\t\t\t\tISIN: \"US5949181045\",\n\t\t\t},\n\t\t},\n\t\tschemaUrl: new URL(\"https://fdc3.finos.org/schemas/1.2/instrument.schema.json\"),\n\t},\n\t{\n\t\tuuid: uuidv4(),\n\t\tid: \"InstrumentList example\",\n\t\ttemplate: {\n\t\t\ttype: \"fdc3.instrumentList\",\n\t\t\tinstruments: [\n\t\t\t\t{\n\t\t\t\t\ttype: \"fdc3.instrument\",\n\t\t\t\t\tid: {\n\t\t\t\t\t\tticker: \"AAPL\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: \"fdc3.instrument\",\n\t\t\t\t\tid: {\n\t\t\t\t\t\tticker: \"MSFT\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t},\n\t\tschemaUrl: new URL(\"https://fdc3.finos.org/schemas/1.2/instrumentList.schema.json\"),\n\t},\n\t{\n\t\tuuid: uuidv4(),\n\t\tid: \"Organization example\",\n\t\ttemplate: {\n\t\t\ttype: \"fdc3.organization\",\n\t\t\tname: \"Cargill, Incorporated\",\n\t\t\tid: {\n\t\t\t\tLEI: \"QXZYQNMR4JZ5RIRN4T31\",\n\t\t\t\tFDS_ID: \"00161G-E\",\n\t\t\t},\n\t\t},\n\t\tschemaUrl: new URL(\"https://fdc3.finos.org/schemas/1.2/organization.schema.json\"),\n\t},\n\t{\n\t\tuuid: uuidv4(),\n\t\tid: \"Country example\",\n\t\ttemplate: {\n\t\t\ttype: \"fdc3.country\",\n\t\t\tname: \"Sweden\",\n\t\t\tid: {\n\t\t\t\tISOALPHA3: \"SWE\",\n\t\t\t},\n\t\t},\n\t\tschemaUrl: new URL(\"https://fdc3.finos.org/schemas/1.2/country.schema.json\"),\n\t},\n\t{\n\t\tuuid: uuidv4(),\n\t\tid: \"Position example\",\n\t\ttemplate: {\n\t\t\ttype: \"fdc3.position\",\n\t\t\tinstrument: {\n\t\t\t\ttype: \"fdc3.instrument\",\n\t\t\t\tid: {\n\t\t\t\t\tticker: \"AAPL\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tholding: 2000000,\n\t\t},\n\t\tschemaUrl: new URL(\"https://fdc3.finos.org/schemas/1.2/position.schema.json\"),\n\t},\n\t{\n\t\tuuid: uuidv4(),\n\t\tid: \"Portfolio example\",\n\t\ttemplate: {\n\t\t\ttype: \"fdc3.portfolio\",\n\t\t\tpositions: [\n\t\t\t\t{\n\t\t\t\t\ttype: \"fdc3.position\",\n\t\t\t\t\tinstrument: {\n\t\t\t\t\t\ttype: \"fdc3.instrument\",\n\t\t\t\t\t\tid: {\n\t\t\t\t\t\t\tticker: \"AAPL\",\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tholding: 2000000,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: \"fdc3.position\",\n\t\t\t\t\tinstrument: {\n\t\t\t\t\t\ttype: \"fdc3.instrument\",\n\t\t\t\t\t\tid: {\n\t\t\t\t\t\t\tticker: \"MSFT\",\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tholding: 1500000,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: \"fdc3.position\",\n\t\t\t\t\tinstrument: {\n\t\t\t\t\t\ttype: \"fdc3.instrument\",\n\t\t\t\t\t\tid: {\n\t\t\t\t\t\t\tticker: \"IBM\",\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tholding: 3000000,\n\t\t\t\t},\n\t\t\t],\n\t\t},\n\t\tschemaUrl: new URL(\"https://fdc3.finos.org/schemas/1.2/portfolio.schema.json\"),\n\t},\n];\n","import { makeObservable, observable, runInAction, action, toJS } from \"mobx\";\nimport fdc3, { ContextType, Fdc3Listener } from \"../utility/Fdc3Api\";\nimport { nanoid } from \"nanoid\";\nimport { contexts } from \"../fixtures/contexts\";\nimport systemLogStore from \"./SystemLogStore\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nexport type ContextItem = {\n\tid: string;\n\tuuid?: string; //used to determine if a duplicate id is for the same object or not\n\ttemplate: ContextType | null;\n\tschemaUrl?: URL;\n};\n\nclass ContextStore {\n\tcontextsList: ContextItem[] = contexts;\n\n\tcurrentContext: ContextType | null = null;\n\n\tcontextListeners: Fdc3Listener[] = [];\n\n\tconstructor() {\n\t\tmakeObservable(this, {\n\t\t\tcontextsList: observable,\n\t\t\tcurrentContext: observable,\n\t\t\tcontextListeners: observable,\n\t\t\tsetContext: action,\n\t\t\tdeleteContextItem: action,\n\t\t\tbroadcast: action,\n\t\t\taddContextItem: action,\n\t\t\tsaveContextItem: action,\n\t\t\taddContextListener: action,\n\t\t\tremoveContextListener: action,\n\t\t});\n\t\tconst localStorageContextList = localStorage.getItem(\"contextList\");\n\t\tlet usingDefaultContexts = true;\n\t\ttry {\n\t\t\tif (localStorageContextList) {\n\t\t\t\tconst parsedListFromStorage = JSON.parse(localStorageContextList);\n\t\t\t\tif (Array.isArray(parsedListFromStorage)) {\n\t\t\t\t\tthis.contextsList = parsedListFromStorage;\n\t\t\t\t\tusingDefaultContexts = false;\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.log(\"Failed to parse context list from localstorage\");\n\t\t}\n\t\tif (usingDefaultContexts) {\n\t\t\tthis.updateLocalStorage(JSON.stringify(contexts));\n\t\t}\n\t}\n\n\taddContextItem(contextItem: ContextItem) {\n\t\tcontextItem.uuid = uuidv4();\n\t\tthis.contextsList.push(contextItem);\n\t\tthis.contextsList.sort((a, b) => a.id.localeCompare(b.id));\n\t\tthis.updateLocalStorage(this.contextsList);\n\t}\n\n\tsaveContextItem(contextItem: ContextItem, selectedId?: string) {\n\t\tconst context = this.contextsList.find(({ id }) => id === selectedId || id === contextItem.id);\n\t\tif (context) {\n\t\t\tObject.keys(contextItem).forEach(\n\t\t\t\t(key: any) => ((context[key as keyof ContextItem] as any) = contextItem[key as keyof ContextItem])\n\t\t\t);\n\t\t}\n\t\tthis.updateLocalStorage(this.contextsList);\n\t}\n\n\tsetContext(context: ContextType) {\n\t\tthis.currentContext = context;\n\t}\n\n\tdeleteContextItem(contextItem: ContextItem) {\n\t\tthis.contextsList = this.contextsList.filter((c) => c != contextItem);\n\t\tthis.updateLocalStorage(this.contextsList);\n\t}\n\n\tresetContextList() {\n\t\tthis.contextsList = contexts;\n\t\tthis.updateLocalStorage(this.contextsList);\n\t}\n\n\tupdateLocalStorage(data: any) {\n\t\tlocalStorage.setItem(\"contextList\", JSON.stringify(data));\n\t}\n\n\tasync broadcast(context: ContextType) {\n\t\tif (!context) {\n\t\t\tsystemLogStore.addLog({\n\t\t\t\tname: \"broadcast\",\n\t\t\t\ttype: \"warning\",\n\t\t\t\tvalue: \"You must set a context before you can broadcast it\",\n\t\t\t\tvariant: \"text\",\n\t\t\t});\n\t\t\treturn;\n\t\t} else {\n\t\t\t//check that we're on a channel\n\t\t\tlet currentChannel = await fdc3.getCurrentChannel();\n\t\t\tif (!currentChannel) {\n\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\tname: \"broadcast\",\n\t\t\t\t\ttype: \"warning\",\n\t\t\t\t\tvalue: \"You are not currently joined to a channel (no-op)\",\n\t\t\t\t\tvariant: \"text\",\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\ttry {\n\t\t\t\t\tawait fdc3.broadcast(toJS(context));\n\t\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\t\tname: \"broadcast\",\n\t\t\t\t\t\ttype: \"success\",\n\t\t\t\t\t\tbody: JSON.stringify(context, null, 4),\n\t\t\t\t\t\tvariant: \"code\",\n\t\t\t\t\t});\n\t\t\t\t} catch (e) {\n\t\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\t\tname: \"broadcast\",\n\t\t\t\t\t\ttype: \"error\",\n\t\t\t\t\t\tbody: JSON.stringify(e, null, 4),\n\t\t\t\t\t\tvariant: \"code\",\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tasync addContextListener(contextType: string | undefined) {\n\t\ttry {\n\t\t\tif (typeof contextType === \"string\") {\n\t\t\t\tconst listenerId = nanoid();\n\n\t\t\t\t// TODO: remove window after fixing https://github.com/finos/FDC3/issues/435\n\t\t\t\tconst contactListener = await fdc3.addContextListener(\n\t\t\t\t\tcontextType.toLowerCase() === \"all\" ? \"null\" : contextType,\n\t\t\t\t\t(context: ContextType, metaData?: any) => {\n\t\t\t\t\t\tconst currentListener = this.contextListeners.find(({ id }) => id === listenerId);\n\n\t\t\t\t\t\trunInAction(() => {\n\t\t\t\t\t\t\tif (currentListener) {\n\t\t\t\t\t\t\t\tcurrentListener.lastReceivedContext = context;\n\t\t\t\t\t\t\t\tcurrentListener.metaData = metaData;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\t\t\tname: \"receivedContextListener\",\n\t\t\t\t\t\t\ttype: \"info\",\n\t\t\t\t\t\t\tvalue: contextType,\n\t\t\t\t\t\t\tvariant: \"code\",\n\t\t\t\t\t\t\tbody: JSON.stringify(context, null, 4),\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t\trunInAction(() => {\n\t\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\t\tname: \"addContextListener\",\n\t\t\t\t\t\ttype: \"success\",\n\t\t\t\t\t\tvalue: contextType,\n\t\t\t\t\t\tvariant: \"text\",\n\t\t\t\t\t});\n\t\t\t\t\tthis.contextListeners.push({ id: listenerId, type: contextType, listener: contactListener });\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\trunInAction(() => {\n\t\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\t\tname: \"addContextListener\",\n\t\t\t\t\t\ttype: \"error\",\n\t\t\t\t\t\tvalue: contextType,\n\t\t\t\t\t\tvariant: \"code\",\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tsystemLogStore.addLog({\n\t\t\t\tname: \"addContextListener\",\n\t\t\t\ttype: \"error\",\n\t\t\t\tvalue: contextType,\n\t\t\t\tvariant: \"code\",\n\t\t\t\tbody: JSON.stringify(e, null, 4),\n\t\t\t});\n\t\t}\n\t}\n\n\tasync removeContextListener(id: string) {\n\t\tconst listenerIndex = this.contextListeners.findIndex((listener) => listener.id === id);\n\n\t\tif (listenerIndex !== -1) {\n\t\t\ttry {\n\t\t\t\t(await this.contextListeners[listenerIndex].listener).unsubscribe();\n\n\t\t\t\trunInAction(() => {\n\t\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\t\tname: \"removeContextListener\",\n\t\t\t\t\t\ttype: \"success\",\n\t\t\t\t\t\tvalue: this.contextListeners[listenerIndex].type,\n\t\t\t\t\t\tvariant: \"text\",\n\t\t\t\t\t});\n\t\t\t\t\tthis.contextListeners.splice(listenerIndex, 1);\n\t\t\t\t});\n\t\t\t} catch (e) {\n\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\tname: \"removeContextListener\",\n\t\t\t\t\ttype: \"error\",\n\t\t\t\t\tvalue: this.contextListeners[listenerIndex].type,\n\t\t\t\t\tvariant: \"code\",\n\t\t\t\t\tbody: JSON.stringify(e, null, 4),\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\tisContextListenerExists(type: string | undefined) {\n\t\treturn !!this.contextListeners.find((listener) => listener.type === type);\n\t}\n}\n\nconst contextStore = new ContextStore();\n\nexport default contextStore;\n","import { withStyles } from \"@material-ui/core/styles\";\nimport { TextField } from \"@material-ui/core\";\n\nexport const TemplateTextField = withStyles({\n\troot: {\n\t\t\"& label.Mui-focused\": {\n\t\t\tcolor: \"#0086bf\",\n\t\t},\n\t\t\"& .MuiInput-underline:after\": {\n\t\t\tborderBottomColor: \"#0086bf\",\n\t\t},\n\t\t\"& .MuiOutlinedInput-root\": {\n\t\t\t\"& fieldset\": {\n\t\t\t\tborderColor: \"#0086bf\",\n\t\t\t},\n\t\t\t\"&:hover fieldset\": {\n\t\t\t\tborderColor: \"#0086bf\",\n\t\t\t},\n\t\t\t\"&.Mui-focused fieldset\": {\n\t\t\t\tborderColor: \"#0086bf\",\n\t\t\t},\n\t\t},\n\t},\n})(TextField);\n","import React, { FormEvent, useState } from \"react\";\nimport { observer } from \"mobx-react\";\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\nimport { Typography, Grid, Button, IconButton, Tooltip, Link } from \"@material-ui/core\";\nimport { codeExamples } from \"../fixtures/codeExamples\";\nimport { openApiDocsLink } from \"../fixtures/openApiDocs\";\nimport FileCopyIcon from \"@material-ui/icons/FileCopy\";\nimport Autocomplete, { createFilterOptions } from \"@material-ui/lab/Autocomplete\";\nimport contextStore from \"../store/ContextStore\";\nimport { TemplateTextField } from \"./common/TemplateTextField\";\nimport { copyToClipboard } from \"./common/CopyToClipboard\";\nimport InfoOutlinedIcon from \"@material-ui/icons/InfoOutlined\";\n\n// interface copied from lib @material-ui/lab/Autocomplete\ninterface FilterOptionsState<T> {\n\tinputValue: string;\n\tgetOptionLabel: (option: T) => string;\n}\n\ninterface ListenerOptionType {\n\ttitle: string;\n\tvalue: string;\n\ttype: string | undefined;\n}\n\ntype ListenerSetValue = (value: ListenerOptionType | null) => void;\n\ntype ListenerSetError = (error: string | false) => void;\n\nconst useStyles = makeStyles((theme: Theme) =>\n\tcreateStyles({\n\t\troot: {\n\t\t\tflexGrow: 1,\n\t\t},\n\t\tform: {\n\t\t\tdisplay: \"flex\",\n\t\t\tflexWrap: \"wrap\",\n\t\t\tmarginTop: theme.spacing(1),\n\t\t\t\"& > *\": {\n\t\t\t\tmarginRight: 0,\n\t\t\t},\n\t\t},\n\t\tcontrols: {\n\t\t\t\"& .MuiIconButton-sizeSmall\": {\n\t\t\t\tpadding: \"6px 0px 6px 0px\",\n\t\t\t},\n\t\t\t\"& > a\": {\n\t\t\t\tdisplay: \"flex\",\n\t\t\t\tpadding: \"6px 0px 6px 0px\",\n\t\t\t},\n\t\t},\n\t\tspread: {\n\t\t\tflexDirection: \"row\",\n\t\t\tjustifyContent: \"flex-end\",\n\t\t},\n\t\tcontextListenerName: {\n\t\t\tflexGrow: 1,\n\t\t\tmarginRight: theme.spacing(1),\n\t\t\tminWidth: \"190px\",\n\t\t},\n\t\tbottomAlignChildren: {\n\t\t\tdisplay: \"flex\",\n\t\t\talignItems: \"end\",\n\t\t},\n\t\trightAlign: {\n\t\t\tflexDirection: \"row\",\n\t\t\tjustifyContent: \"flex-end\",\n\t\t}\n\t})\n);\n\nconst listenerFilter = createFilterOptions<ListenerOptionType>();\n\nexport const ContextLinking = observer(() => {\n\tconst classes = useStyles();\n\tconst [contextListener, setContextListener] = useState<ListenerOptionType | null>(null);\n\tconst [contextError, setContextError] = useState<string | false>(false);\n\tconst contextListenersOptionsAll: ListenerOptionType[] = contextStore.contextsList.map(({ id, template }) => {\n\t\treturn {\n\t\t\ttitle: id,\n\t\t\tvalue: id,\n\t\t\ttype: template?.type,\n\t\t};\n\t});\n\tcontextListenersOptionsAll.unshift({\n\t\ttitle: \"All\",\n\t\tvalue: \"all\",\n\t\ttype: \"All\",\n\t});\n\n\tconst contextListenersOptions = Array.from(\n\t\tnew Map(contextListenersOptionsAll.reverse().map((item) => [item[\"type\"], item])).values()\n\t).reverse();\n\n\tconst handleChangeListener =\n\t\t(setValue: ListenerSetValue, setError: ListenerSetError) => (event: React.ChangeEvent<{}>, newValue: any) => {\n\t\t\tif (typeof newValue === \"string\") {\n\t\t\t\tsetValue({\n\t\t\t\t\ttitle: newValue,\n\t\t\t\t\tvalue: newValue,\n\t\t\t\t\ttype: newValue,\n\t\t\t\t});\n\t\t\t} else if (newValue && newValue.inputValue) {\n\t\t\t\tsetValue({\n\t\t\t\t\ttitle: newValue.inputValue,\n\t\t\t\t\tvalue: newValue.inputValue,\n\t\t\t\t\ttype: newValue.inputValue,\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tsetValue(newValue);\n\t\t\t}\n\n\t\t\tsetError(false);\n\t\t};\n\n\tconst getOptionLabel = (option: ListenerOptionType) => {\n\t\tif (option.type) {\n\t\t\treturn option.type;\n\t\t}\n\t\treturn option.title;\n\t};\n\n\tconst filterOptions = (options: ListenerOptionType[], params: FilterOptionsState<ListenerOptionType>) => {\n\t\tconst filtered = listenerFilter(options, params);\n\n\t\tif (params.inputValue !== \"\") {\n\t\t\tfiltered.push({\n\t\t\t\tvalue: params.inputValue,\n\t\t\t\ttitle: `Add \"${params.inputValue}\"`,\n\t\t\t\ttype: params.inputValue,\n\t\t\t});\n\t\t}\n\n\t\treturn filtered;\n\t};\n\n\tconst handleAddContextListener = (e: FormEvent | null = null) => {\n\t\te?.preventDefault();\n\t\tif (contextListener) {\n\t\t\tif (contextStore.isContextListenerExists(contextListener.type)) {\n\t\t\t\tsetContextError(\"Listener already added\");\n\t\t\t} else {\n\t\t\t\tcontextStore.addContextListener(contextListener.type);\n\t\t\t\tsetContextListener(null);\n\t\t\t}\n\t\t} else {\n\t\t\tsetContextError(\"Enter context type\");\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Grid item xs={12}>\n\t\t\t\t<Typography variant=\"h5\">Add Context Listener</Typography>\n\t\t\t</Grid>\n\t\t\n\t\t\t<Grid\n\t\t\t\tcontainer\n\t\t\t\tdirection=\"row\"\n\t\t\t\tjustifyContent=\"space-between\"\n\t\t\t\tclassName={`${classes.controls} ${classes.rightAlign}`}\n\t\t\t>\n\t\t\t\t<Grid item className={classes.contextListenerName}>\n\t\t\t\t\t<Autocomplete\n\t\t\t\t\t\tid=\"context-listener\"\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tselectOnFocus\n\t\t\t\t\t\tblurOnSelect\n\t\t\t\t\t\tclearOnBlur\n\t\t\t\t\t\thandleHomeEndKeys\n\t\t\t\t\t\tvalue={contextListener}\n\t\t\t\t\t\tonChange={handleChangeListener(setContextListener, setContextError)}\n\t\t\t\t\t\tfilterOptions={filterOptions}\n\t\t\t\t\t\toptions={contextListenersOptions}\n\t\t\t\t\t\tgetOptionLabel={getOptionLabel}\n\t\t\t\t\t\trenderOption={(option) => option.type}\n\t\t\t\t\t\trenderInput={(params) => (\n\t\t\t\t\t\t\t<TemplateTextField\n\t\t\t\t\t\t\t\tlabel=\"CONTEXT TYPE\"\n\t\t\t\t\t\t\t\tplaceholder=\"Enter Context Type\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t{...params}\n\t\t\t\t\t\t\t\terror={!!contextError}\n\t\t\t\t\t\t\t\thelperText={contextError}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item className={classes.bottomAlignChildren}>\n\t\t\t\t\t<Grid container direction=\"row\" justifyContent=\"flex-end\" spacing={1}>\n\t\t\t\t\t\t<Grid item className={classes.controls}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"primary\" onClick={handleAddContextListener}>\n\t\t\t\t\t\t\t\tAdd Listener\n\t\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item className={classes.controls}>\n\t\t\t\t\t\t\t<Tooltip title=\"Copy code example\" aria-label=\"Copy code example\">\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\taria-label=\"Copy code example\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tonClick={copyToClipboard(codeExamples.contextListener, \"addContextListener\")}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<FileCopyIcon />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item className={classes.controls}>\n\t\t\t\t\t\t\t<Link onClick={openApiDocsLink} target=\"FDC3APIDocs\" href=\"https://fdc3.finos.org/docs/api/ref/Channel#addcontextlistener\">\n\t\t\t\t\t\t\t\t<InfoOutlinedIcon />\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t\t\n\t\t</div>\n\t);\n});\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { observer } from \"mobx-react\";\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\nimport { Grid } from \"@material-ui/core\";\nimport Autocomplete, { createFilterOptions } from \"@material-ui/lab/Autocomplete\";\nimport contextStore from \"../store/ContextStore\";\nimport { TemplateTextField } from \"./common/TemplateTextField\";\n\ninterface FilterOptionsState<T> {\n\tinputValue: string;\n\tgetOptionLabel: (option: T) => string;\n}\n\ninterface OptionType {\n\ttitle: string;\n\tvalue: string;\n}\n\ntype SetValue = (value: OptionType | null) => void;\n\ntype SetError = (error: string | false) => void;\n\nconst useStyles = makeStyles((theme: Theme) =>\n\tcreateStyles({\n\t\troot: {\n\t\t\tflexGrow: 1,\n\t\t},\n\t\tform: {\n\t\t\tdisplay: \"flex\",\n\t\t\tflexWrap: \"wrap\",\n\t\t\t\"& > *\": {\n\t\t\t\tmarginRight: 0,\n\t\t\t},\n\t\t},\n\t\tcontrols: {\n\t\t\t\"& .MuiIconButton-sizeSmall\": {\n\t\t\t\tpadding: \"6px\",\n\t\t\t\tmarginLeft: theme.spacing(1),\n\t\t\t},\n\t\t},\n\t\tcontextName: {\n\t\t\tflexGrow: 1,\n\t\t\tminWidth: \"190px\",\n\t\t},\n\t\trightAlign: {\n\t\t\tflexDirection: \"row\",\n\t\t\tjustifyContent: \"flex-end\",\n\t\t},\n\t\tlink: {\n\t\t\tcursor: \"pointer\",\n\t\t\tcolor: \"black\",\n\t\t},\n\t})\n);\n\nconst contextFilter = createFilterOptions<OptionType>();\n\nexport const ContextTemplates = observer(\n\t({\n\t\thandleTabChange,\n\t\tcontextStateSetter,\n\t\tchannel,\n\t}: {\n\t\thandleTabChange: any;\n\t\tcontextStateSetter: any;\n\t\tchannel?: any;\n\t}) => {\n\t\tconst classes = useStyles();\n\t\tconst [context, setContext] = useState<OptionType | null>(null);\n\t\tconst [contextError, setContextError] = useState<string | false>(false);\n\t\tconst contextsOptions: OptionType[] = contextStore.contextsList.map(({ id }) => {\n\t\t\treturn {\n\t\t\t\ttitle: id,\n\t\t\t\tvalue: id,\n\t\t\t};\n\t\t});\n\t\tconst isInitialMount = useRef(true);\n\n\t\tconst handleChange = (setValue: SetValue, setError: SetError) => (event: React.ChangeEvent<{}>, newValue: any) => {\n\t\t\tconst selectedContext = contextStore.contextsList.find(({ id }) => id === newValue?.value);\n\t\t\tif (selectedContext) contextStateSetter(selectedContext.template, channel);\n\n\t\t\tif (typeof newValue === \"string\") {\n\t\t\t\tsetValue({\n\t\t\t\t\ttitle: newValue,\n\t\t\t\t\tvalue: newValue,\n\t\t\t\t});\n\t\t\t} else if (newValue && newValue.inputValue) {\n\t\t\t\tsetValue({\n\t\t\t\t\ttitle: newValue.inputValue,\n\t\t\t\t\tvalue: newValue.inputValue,\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tsetValue(newValue);\n\t\t\t}\n\n\t\t\tsetError(false);\n\t\t};\n\n\t\tconst getOptionLabel = (option: OptionType) => option.value || option.title;\n\n\t\tconst filterOptions = (options: OptionType[], params: FilterOptionsState<OptionType>) => {\n\t\t\tconst filtered = contextFilter(options, params);\n\n\t\t\tif (params.inputValue !== \"\") {\n\t\t\t\tfiltered.push({\n\t\t\t\t\tvalue: params.inputValue,\n\t\t\t\t\ttitle: `Add \"${params.inputValue}\"`,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn filtered;\n\t\t};\n\n\t\tuseEffect(() => {\n\t\t\tif (isInitialMount.current) {\n\t\t\t\tisInitialMount.current = false;\n\t\t\t} else {\n\t\t\t\tconst selectedContext = contextStore.contextsList.find(({ id }) => id === context?.value);\n\t\t\t\tif (!selectedContext) handleTabChange(null, 0, context?.value);\n\t\t\t}\n\t\t}, [context]);\n\n\t\treturn (\n\t\t\t<div className={classes.root}>\n\t\t\t\t<Grid\n\t\t\t\t\tcontainer\n\t\t\t\t\tdirection=\"row\"\n\t\t\t\t\tspacing={1}\n\t\t\t\t\tjustifyContent=\"space-between\"\n\t\t\t\t\tclassName={`${classes.controls} ${classes.rightAlign}`}\n\t\t\t\t>\n\t\t\t\t\t<Grid item className={classes.contextName}>\n\t\t\t\t\t\t<Autocomplete\n\t\t\t\t\t\t\tid=\"context-\"\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tselectOnFocus\n\t\t\t\t\t\t\tblurOnSelect\n\t\t\t\t\t\t\tclearOnBlur\n\t\t\t\t\t\t\thandleHomeEndKeys\n\t\t\t\t\t\t\tvalue={context}\n\t\t\t\t\t\t\tonChange={handleChange(setContext, setContextError)}\n\t\t\t\t\t\t\tgetOptionSelected={(option, value) => option.value === value.value}\n\t\t\t\t\t\t\tfilterOptions={filterOptions}\n\t\t\t\t\t\t\toptions={contextsOptions}\n\t\t\t\t\t\t\tgetOptionLabel={getOptionLabel}\n\t\t\t\t\t\t\trenderOption={(option) => option.title}\n\t\t\t\t\t\t\trenderInput={(params) => (\n\t\t\t\t\t\t\t\t<TemplateTextField\n\t\t\t\t\t\t\t\t\tlabel=\"CONTEXT \"\n\t\t\t\t\t\t\t\t\tplaceholder=\"Enter Context Type\"\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t{...params}\n\t\t\t\t\t\t\t\t\terror={!!contextError}\n\t\t\t\t\t\t\t\t\thelperText={contextError}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t);\n\t}\n);\n","import React, { useState } from \"react\";\nimport { observer } from \"mobx-react\";\nimport {\n\tTypography,\n\tButton,\n\tFormControl,\n\tInputLabel,\n\tSelect,\n\tMenuItem,\n\tFormHelperText,\n\tIconButton,\n\tTooltip,\n\tGrid,\n\tLink,\n} from \"@material-ui/core\";\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\nimport FileCopyIcon from \"@material-ui/icons/FileCopy\";\nimport channelStore from \"../store/ChannelStore\";\nimport { codeExamples } from \"../fixtures/codeExamples\";\nimport { copyToClipboard } from \"./common/CopyToClipboard\";\nimport { openApiDocsLink } from \"../fixtures/openApiDocs\";\nimport { ContextLinking } from \"./ContextLinking\";\nimport contextStore from \"../store/ContextStore\";\nimport { ContextTemplates } from \"./ContextTemplates\";\nimport { ContextType } from \"../utility/Fdc3Api\";\nimport InfoOutlinedIcon from \"@material-ui/icons/InfoOutlined\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n\tcreateStyles({\n\t\troot: {\n\t\t\tflexGrow: 1,\n\t\t},\n\t\tform: {\n\t\t\tdisplay: \"flex\",\n\t\t\tflexWrap: \"wrap\",\n\t\t\talignItems: \"center\",\n\t\t\tmarginTop: theme.spacing(1),\n\t\t\t\"& > *\": {\n\t\t\t\tmargin: theme.spacing(1),\n\t\t\t},\n\t\t\t\"& > *:first-child\": {\n\t\t\t\tmarginLeft: 0,\n\t\t\t\tpaddingLeft: 0,\n\t\t\t},\n\t\t\t\"& > * > *:first-child\": {\n\t\t\t\tmarginLeft: 0,\n\t\t\t\tpaddingLeft: 0,\n\t\t\t},\n\t\t},\n\t\tchannelsSelect: {\n\t\t\twidth: \"100%\",\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t\tcontrols: {\n\t\t\t\"& .MuiIconButton-sizeSmall\": {\n\t\t\t\tpadding: \"6px 0px 6px 0px\",\n\t\t\t},\n\t\t\t\"& > a\": {\n\t\t\t\tdisplay: \"flex\",\n\t\t\t\tpadding: \"6px 0px 6px 0px\",\n\t\t\t},\n\t\t},\n\t\tborder: {\n\t\t\theight: \"1px\",\n\t\t\twidth: \"100%\",\n\t\t\tbackgroundColor: \"#acb2c0\",\n\t\t\tmarginTop: \"24px\",\n\t\t\tmarginBottom: \"16px\",\n\t\t},\n\t\tbottomAlignChildren: {\n\t\t\tdisplay: \"flex\",\n\t\t\talignItems: \"end\",\n\t\t},\n\t\tdropDown: {\n\t\t\tflexGrow: 1,\n\t\t\tmarginRight: theme.spacing(1),\n\t\t\tminWidth: \"190px\",\n\t\t},\n\t\trightAlign: {\n\t\t\tflexDirection: \"row\",\n\t\t\tjustifyContent: \"flex-end\",\n\t\t}\n\t})\n);\n\nexport const Channels = observer(({ handleTabChange }: { handleTabChange: any }) => {\n\tconst classes = useStyles();\n\tconst [channelId, setChannelId] = useState<string>(\"\");\n\tconst [isError, setIsError] = useState<boolean>(false);\n\tconst [broadcastContext, setBroadcastContext] = useState<ContextType | null>(null);\n\n\tconst handleSelectChange = (event: React.ChangeEvent<{ value: unknown }>) => {\n\t\tsetChannelId(event.target.value as string);\n\t\tsetIsError(false);\n\t};\n\n\tconst handleJoinUserChannel = () => {\n\t\tif (channelId) {\n\t\t\tchannelStore.joinUserChannel(channelId);\n\t\t\tsetChannelId(\"\");\n\t\t} else {\n\t\t\tsetIsError(true);\n\t\t}\n\t};\n\n\tconst handleLeaveUserChannel = () => {\n\t\tchannelStore.leaveUserChannel();\n\t};\n\n\tconst handleRefreshUserChannel = () => {\n\t\tchannelStore.getCurrentUserChannel();\n\t};\n\n\tconst handleBroadcast = () => {\n\t\tif (broadcastContext) contextStore.broadcast(broadcastContext);\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Grid item xs={12}>\n\t\t\t\t<Typography variant=\"h5\">Current Channel</Typography>\n\t\t\t</Grid>\n\t\t\t<Grid\n\t\t\t\tcontainer\n\t\t\t\tdirection=\"row\"\n\t\t\t\tjustifyContent=\"space-between\"\n\t\t\t\tclassName={`${classes.controls} ${classes.rightAlign}`}\n\t\t\t>\n\t\t\t\t<Grid item className={classes.dropDown}>\n\t\t\t\t\t<Typography variant=\"body1\">{channelStore.currentUserChannel?.id ?? \"None\"}</Typography>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item>\n\t\t\t\t\t<Grid container direction=\"row\" justifyContent=\"flex-end\" spacing={1}>\n\t\t\t\t\t\t<Grid item className={classes.controls}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"primary\" onClick={handleRefreshUserChannel}>\n\t\t\t\t\t\t\t\tRefresh\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item className={classes.controls}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"primary\" onClick={handleLeaveUserChannel}>\n\t\t\t\t\t\t\t\tLeave\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item className={classes.controls}>\n\t\t\t\t\t\t\t<Tooltip title=\"Copy code example\" aria-label=\"Copy code example\">\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\taria-label=\"Copy code example\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tonClick={copyToClipboard(codeExamples.getCurrentUserChannel, \"getCurrentUserChannel\")}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<FileCopyIcon />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item className={classes.controls}>\n\t\t\t\t\t\t\t<Link onClick={openApiDocsLink} target=\"FDC3APIDocs\" href=\"https://fdc3.finos.org/docs/api/ref/DesktopAgent#getcurrentchannel\">\n\t\t\t\t\t\t\t\t<InfoOutlinedIcon />\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t\t\n\n\t\t\t<div className={classes.border}></div>\n\n\t\t\t<Grid item xs={12}>\n\t\t\t\t<Typography variant=\"h5\">Join User Channels</Typography>\n\t\t\t</Grid>\n\n\t\t\t<Grid\n\t\t\t\tcontainer\n\t\t\t\tdirection=\"row\"\n\t\t\t\tjustifyContent=\"space-between\"\n\t\t\t\tclassName={`${classes.controls} ${classes.rightAlign}`}\n\t\t\t>\n\t\t\t\t<Grid item className={classes.dropDown}>\n\t\t\t\t\t<FormControl variant=\"outlined\" className={classes.channelsSelect} size=\"small\" error={isError}>\n\t\t\t\t\t\t<InputLabel id=\"channel\">Channel</InputLabel>\n\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\tlabelId=\"channel\"\n\t\t\t\t\t\t\tid=\"channel-select\"\n\t\t\t\t\t\t\tvalue={channelId ?? \"\"}\n\t\t\t\t\t\t\tonChange={handleSelectChange}\n\t\t\t\t\t\t\tlabel=\"User Channel\"\n\t\t\t\t\t\t\tMenuProps={{\n\t\t\t\t\t\t\t\tanchorOrigin: {\n\t\t\t\t\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\ttransformOrigin: {\n\t\t\t\t\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tgetContentAnchorEl: null,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{!channelStore.userChannels.length && (\n\t\t\t\t\t\t\t\t<MenuItem value=\"\" disabled>\n\t\t\t\t\t\t\t\t\tNo channels received\n\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{channelStore.userChannels.length && <MenuItem value=\"\" style={{ height: \"0\", padding: \"0\" }} />}\n\t\t\t\t\t\t\t{channelStore.userChannels.length &&\n\t\t\t\t\t\t\t\tchannelStore.userChannels.map(({ id }) => (\n\t\t\t\t\t\t\t\t\t<MenuItem key={id} value={id}>\n\t\t\t\t\t\t\t\t\t\t{id}\n\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t{isError && <FormHelperText>Select channel from list</FormHelperText>}\n\t\t\t\t\t</FormControl>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12} sm={3} className={classes.bottomAlignChildren}>\n\t\t\t\t\t<Grid container direction=\"row\" justifyContent=\"flex-end\" spacing={1}>\n\t\t\t\t\t\t<Grid item className={classes.controls}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"primary\" onClick={handleJoinUserChannel}>\n\t\t\t\t\t\t\t\tJoin\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item className={classes.controls}>\n\t\t\t\t\t\t\t<Tooltip title=\"Copy code example\" aria-label=\"Copy code example\">\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\taria-label=\"Copy code example\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tonClick={copyToClipboard(codeExamples.userChannels, \"joinUserChannel\")}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<FileCopyIcon />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item className={classes.controls}>\n\t\t\t\t\t\t\t<Link onClick={openApiDocsLink} target=\"FDC3APIDocs\" href=\"https://fdc3.finos.org/docs/api/ref/DesktopAgent#joinuserchannel\">\n\t\t\t\t\t\t\t\t<InfoOutlinedIcon />\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\n\t\t\t<div className={classes.border}></div>\n\n\t\t\t<Grid item xs={12}>\n\t\t\t\t<Typography variant=\"h5\">Broadcast context</Typography>\n\t\t\t</Grid>\n\n\t\t\t<Grid\n\t\t\t\tcontainer\n\t\t\t\tdirection=\"row\"\n\t\t\t\tjustifyContent=\"space-between\"\n\t\t\t\tclassName={`${classes.controls} ${classes.rightAlign}`}\n\t\t\t>\n\t\t\t\t<Grid item className={classes.dropDown}>\n\t\t\t\t\t<ContextTemplates handleTabChange={handleTabChange} contextStateSetter={setBroadcastContext} />\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item className={classes.bottomAlignChildren}>\n\t\t\t\t\t<Grid container direction=\"row\" justifyContent=\"flex-end\" spacing={1}>\n\t\t\t\t\t\t<Grid item className={classes.controls}>\n\t\t\t\t\t\t\t<Button disabled={!broadcastContext} variant=\"contained\" color=\"primary\" onClick={handleBroadcast}>\n\t\t\t\t\t\t\t\tBroadcast\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item className={classes.controls}>\n\t\t\t\t\t\t\t<Tooltip title=\"Copy code example\" aria-label=\"Copy code example\">\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\taria-label=\"Copy code example\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tonClick={copyToClipboard(codeExamples.broadcast, \"broadcast\")}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<FileCopyIcon />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item className={classes.controls}>\n\t\t\t\t\t\t\t<Link onClick={openApiDocsLink} target=\"FDC3APIDocs\" href=\"https://fdc3.finos.org/docs/api/ref/DesktopAgent#broadcast\">\n\t\t\t\t\t\t\t\t<InfoOutlinedIcon />\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t\t\n\t\t\t\t<div className={classes.border}></div>\n\n\t\t\t\t<ContextLinking />\n\t\t\t</Grid>\n\t\t</div>\n\t);\n});\n","import React from \"react\";\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\nimport { Accordion, AccordionDetails, AccordionSummary, Typography } from \"@material-ui/core\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport { Tooltip } from \"@material-ui/core\";\nimport InfoIcon from \"@material-ui/icons/Info\";\n\nexport interface AccordionContentProps {\n\ttitle: string;\n\tchildren: React.ReactNode;\n\ticon?: string;\n}\n\nconst useStyles = makeStyles((theme: Theme) =>\n\tcreateStyles({\n\t\taccordion: {\n\t\t\tmargin: theme.spacing(1, 0, 0, 0),\n\t\t\tboxShadow: \"none\",\n\t\t\t\"&::before\": {\n\t\t\t\tdisplay: \"none\",\n\t\t\t},\n\t\t\t\"&.Mui-expanded\": {\n\t\t\t\tmargin: theme.spacing(1, 0, 0, 0),\n\t\t\t},\n\t\t},\n\t\taccordionSummary: {\n\t\t\tborder: \"none\",\n\t\t\tpadding: 0,\n\t\t\tminHeight: \"initial\",\n\t\t\t\"&.Mui-expanded\": {\n\t\t\t\tminHeight: \"initial\",\n\t\t\t},\n\t\t\t\"& .MuiAccordionSummary-content\": {\n\t\t\t\tmargin: \"0 12px 0 0\",\n\t\t\t\t\"&.Mui-expanded\": {\n\t\t\t\t\tmargin: \"0 12px 0 0\",\n\t\t\t\t},\n\t\t\t},\n\t\t\t\"& .MuiAccordionSummary-expandIcon\": {\n\t\t\t\tpadding: \"6px\",\n\t\t\t},\n\t\t},\n\t\taccordionDetails: {\n\t\t\tpaddingTop: 0,\n\t\t\tpaddingLeft: 0,\n\t\t\tflexDirection: \"column\",\n\t\t},\n\t\taccordionTitle: {\n\t\t\tcolor: \"#0086bf\",\n\t\t\tfontSize: \"16px\",\n\t\t},\n\t\texpand_icon: {\n\t\t\tcolor: \"#0086bf\",\n\t\t},\n\t\ticon: {\n\t\t\tmarginBottom: \"-1px !important\",\n\t\t\tfontSize: \"15px\",\n\t\t\tmarginLeft: \"5px\",\n\t\t},\n\t})\n);\n\nexport const AccordionContent: React.FC<AccordionContentProps> = ({ icon, title, children }: AccordionContentProps) => {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<Accordion className={classes.accordion} defaultExpanded>\n\t\t\t<AccordionSummary\n\t\t\t\tclassName={classes.accordionSummary}\n\t\t\t\texpandIcon={<ExpandMoreIcon className={classes.expand_icon} />}\n\t\t\t\taria-label=\"Expand\"\n\t\t\t\taria-controls=\"additional-actions1-content\"\n\t\t\t\tid=\"additional-actions1-header\"\n\t\t\t>\n\t\t\t\t<Typography variant=\"h5\" className={classes.accordionTitle}>\n\t\t\t\t\t{title}\n\t\t\t\t\t{icon && (\n\t\t\t\t\t\t<Tooltip title={icon} aria-label={icon}>\n\t\t\t\t\t\t\t<InfoIcon className={classes.icon} />\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t)}\n\t\t\t\t</Typography>\n\t\t\t</AccordionSummary>\n\n\t\t\t<AccordionDetails className={classes.accordionDetails}>{children}</AccordionDetails>\n\t\t</Accordion>\n\t);\n};\n","import React from \"react\";\nimport { List, ListItem, ListItemText, Typography, ListItemSecondaryAction, IconButton } from \"@material-ui/core\";\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\nimport { AccordionContent } from \"./AccordionContent\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\n\nexport interface AccordionListItem {\n\tid: string;\n\ttextPrimary: string;\n\tafterEachElement?: React.ReactNode;\n}\n\nexport interface AccordionListProps {\n\ttitle: string;\n\ticon?: string;\n\tlistItems: AccordionListItem[];\n\tnoItemsText: string;\n\tonDelete?: (id: string) => void;\n}\n\nconst useStyles = makeStyles((theme: Theme) =>\n\tcreateStyles({\n\t\tlist: {\n\t\t\tpadding: 0,\n\t\t\twidth: \"100%\",\n\t\t},\n\t\tlistItem: {\n\t\t\tpadding: 0,\n\t\t\t\"&.MuiListItem-secondaryAction\": {\n\t\t\t\tpaddingRight: theme.spacing(6),\n\t\t\t},\n\t\t},\n\t\tlistAction: {\n\t\t\ttop: \"2px\",\n\t\t\ttransform: \"none\",\n\t\t},\n\t})\n);\n\nexport const AccordionList: React.FC<AccordionListProps> = ({\n\ttitle,\n\ticon,\n\tlistItems,\n\tnoItemsText,\n\tonDelete,\n}: AccordionListProps) => {\n\tconst classes = useStyles();\n\n\tconst handleDelete = (id: string) => () => {\n\t\tif (onDelete) {\n\t\t\tonDelete(id);\n\t\t}\n\t};\n\n\treturn (\n\t\t<AccordionContent title={title} icon={icon}>\n\t\t\t{!listItems.length && <Typography variant=\"body1\">{noItemsText}</Typography>}\n\t\t\t{!!listItems.length && (\n\t\t\t\t<List className={classes.list}>\n\t\t\t\t\t{listItems.map(({ id, textPrimary, afterEachElement }) => (\n\t\t\t\t\t\t<ListItem key={id} className={classes.listItem} disableGutters>\n\t\t\t\t\t\t\t<ListItemText disableTypography primary={textPrimary} secondary={afterEachElement} />\n\t\t\t\t\t\t\t<ListItemSecondaryAction className={classes.listAction}>\n\t\t\t\t\t\t\t\t{onDelete && (\n\t\t\t\t\t\t\t\t\t<IconButton size=\"small\" edge=\"end\" aria-label=\"delete\" onClick={handleDelete(id)}>\n\t\t\t\t\t\t\t\t\t\t<DeleteIcon />\n\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</ListItemSecondaryAction>\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t))}\n\t\t\t\t</List>\n\t\t\t)}\n\t\t</AccordionContent>\n\t);\n};\n","import React from \"react\";\nimport { observer } from \"mobx-react\";\nimport { TextField } from \"@material-ui/core\";\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n\tcreateStyles({\n\t\ttextField: {\n\t\t\tmarginTop: theme.spacing(2),\n\t\t\twidth: \"100%\",\n\t\t},\n\t\tinput: {\n\t\t\tfontSize: \"14px\",\n\t\t},\n\t})\n);\n\nexport const ReceivedField = observer(({ metaData }: { metaData: any }) => {\n\tconst classes = useStyles();\n\tconst formattedData = !metaData?.source\n\t\t? \"METADATA NOT PROVIDED\"\n\t\t: `appId: ${metaData.source.appId}\\ninstanceId: ${metaData.source.instanceId}`;\n\n\treturn (\n\t\t<TextField\n\t\t\tdisabled\n\t\t\tlabel={\"RECEIVED FROM\"}\n\t\t\tclassName={classes.textField}\n\t\t\tInputLabelProps={{\n\t\t\t\tshrink: true,\n\t\t\t}}\n\t\t\tcontentEditable={false}\n\t\t\tfullWidth\n\t\t\tmultiline\n\t\t\tvariant=\"outlined\"\n\t\t\tsize=\"small\"\n\t\t\tvalue={formattedData}\n\t\t\tInputProps={{\n\t\t\t\tclasses: {\n\t\t\t\t\tinput: classes.input,\n\t\t\t\t},\n\t\t\t}}\n\t\t/>\n\t);\n});\n","import React from \"react\";\nimport { observer } from \"mobx-react\";\nimport contextStore from \"../../store/ContextStore\";\nimport { AccordionList, AccordionListItem } from \"../common/AccordionList\";\nimport { TextField } from \"@material-ui/core\";\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\nimport { ReceivedField } from \"./ReceivedField\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n\tcreateStyles({\n\t\ttextField: {\n\t\t\tmarginTop: theme.spacing(2),\n\t\t\twidth: \"100%\",\n\t\t},\n\t\tinput: {\n\t\t\tfontSize: \"14px\",\n\t\t},\n\t})\n);\n\nexport const ContextListeners = observer(() => {\n\tconst classes = useStyles();\n\tconst contextListeners: AccordionListItem[] = contextStore.contextListeners.map(\n\t\t({ id, type, lastReceivedContext, metaData }) => {\n\t\t\tconst receivedContextListenerValue = lastReceivedContext ? JSON.stringify(lastReceivedContext, undefined, 4) : \"\";\n\n\t\t\tconst contextField = (\n\t\t\t\t<div>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tdisabled\n\t\t\t\t\t\tlabel={\"LAST RECEIVED CONTEXT\"}\n\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\tInputLabelProps={{\n\t\t\t\t\t\t\tshrink: true,\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tcontentEditable={false}\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tmultiline\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tvalue={receivedContextListenerValue}\n\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\tclasses: {\n\t\t\t\t\t\t\t\tinput: classes.input,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t{window.fdc3Version === \"2.0\" && <ReceivedField metaData={metaData} />}\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\treturn { id, textPrimary: `${type}`, afterEachElement: contextField };\n\t\t}\n\t);\n\n\tconst handleDeleteListener = (id: string) => {\n\t\tcontextStore.removeContextListener(id);\n\t};\n\n\treturn (\n\t\t<AccordionList\n\t\t\ttitle=\"System Channels\"\n\t\t\ticon=\"Any context already in the channel will be received automatically\"\n\t\t\tnoItemsText=\"No System Channels Listeners\"\n\t\t\tlistItems={contextListeners}\n\t\t\tonDelete={handleDeleteListener}\n\t\t/>\n\t);\n});\n","export const intentTypes: Array<{ title: string; value: string }> = [\n\t{\n\t\ttitle: \"StartCall\",\n\t\tvalue: \"StartCall\",\n\t},\n\t{\n\t\ttitle: \"StartChat\",\n\t\tvalue: \"StartChat\",\n\t},\n\t{\n\t\ttitle: \"ViewChart\",\n\t\tvalue: \"ViewChart\",\n\t},\n\t{\n\t\ttitle: \"ViewContact\",\n\t\tvalue: \"ViewContact\",\n\t},\n\t{\n\t\ttitle: \"ViewQuote\",\n\t\tvalue: \"ViewQuote\",\n\t},\n\t{\n\t\ttitle: \"ViewNews\",\n\t\tvalue: \"ViewNews\",\n\t},\n\t{\n\t\ttitle: \"ViewAnalysis\",\n\t\tvalue: \"ViewAnalysis\",\n\t},\n\t{\n\t\ttitle: \"ViewInstrument\",\n\t\tvalue: \"ViewInstrument\",\n\t},\n];\n","import { makeObservable, observable, action, runInAction, toJS } from \"mobx\";\nimport fdc3, { ContextType, Channel, Fdc3Listener } from \"../utility/Fdc3Api\";\nimport systemLogStore from \"./SystemLogStore\";\nimport { nanoid } from \"nanoid\";\n\ninterface ListenerOptionType {\n\ttitle: string;\n\tvalue: string;\n\ttype: string | undefined;\n}\n\nexport interface Fdc3Channel {\n\tid: string;\n\tchannel: Channel;\n\tcurrentListener?: ListenerOptionType | null;\n\tbroadcastError?: string;\n\tcontext?: ContextType | null;\n\tlistenerError?: string;\n}\nclass AppChannelStore {\n\tappChannelsList: Fdc3Channel[] = [];\n\n\tcurrentAppChannel: Fdc3Channel | null = null;\n\n\tchannelListeners: Fdc3Listener[] = [];\n\n\tconstructor() {\n\t\tmakeObservable(this, {\n\t\t\tappChannelsList: observable,\n\t\t\tcurrentAppChannel: observable,\n\t\t\tchannelListeners: observable,\n\t\t\tgetOrCreateChannel: action,\n\t\t\tleaveChannel: action,\n\t\t\tbroadcast: action,\n\t\t});\n\t}\n\n\tasync getOrCreateChannel(channelId: string) {\n\t\ttry {\n\t\t\tconst currentAppChannel = await fdc3.getOrCreateChannel(channelId);\n\t\t\tconst isSuccess = currentAppChannel !== null;\n\t\t\tif (isSuccess) {\n\t\t\t\tthis.currentAppChannel = {\n\t\t\t\t\tid: channelId,\n\t\t\t\t\tchannel: currentAppChannel,\n\t\t\t\t};\n\t\t\t\tlet foundChannel = this.appChannelsList.find((channel) => channel.id === channelId);\n\t\t\t\tif (!foundChannel) {\n\t\t\t\t\tthis.appChannelsList.push(this.currentAppChannel);\n\t\t\t\t}\n\t\t\t}\n\t\t\trunInAction(() => {\n\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\tname: \"getOrCreateChannel\",\n\t\t\t\t\ttype: isSuccess ? \"success\" : \"error\",\n\t\t\t\t\tvalue: isSuccess ? currentAppChannel?.id : channelId,\n\t\t\t\t\tvariant: \"text\",\n\t\t\t\t});\n\t\t\t});\n\t\t\treturn currentAppChannel;\n\t\t} catch (e) {\n\t\t\tsystemLogStore.addLog({\n\t\t\t\tname: \"getOrCreateChannel\",\n\t\t\t\ttype: \"error\",\n\t\t\t\tvalue: channelId,\n\t\t\t\tvariant: \"code\",\n\t\t\t\tbody: JSON.stringify(e, null, 4),\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\t}\n\n\tisContextListenerExists(channelId: string, type: string | undefined) {\n\t\treturn !!this.channelListeners?.find((listener) => listener.type === type && listener.channelId === channelId);\n\t}\n\n\tisAppChannelExists(channelId: string) {\n\t\treturn !!this.appChannelsList.find((channel) => channel.id === channelId);\n\t}\n\n\tasync broadcast(channel: Channel, context: ContextType) {\n\t\tconst channelId = channel.id;\n\t\tif (!context) {\n\t\t\tsystemLogStore.addLog({\n\t\t\t\tname: \"appbroadcast\",\n\t\t\t\ttype: \"warning\",\n\t\t\t\tvalue: `You must set a context before you can broadcast it to channel: ${channelId}`,\n\t\t\t\tvariant: \"text\",\n\t\t\t});\n\t\t}\n\n\t\t//check that we're on a channel\n\t\tlet currentChannel = this.appChannelsList.find((chan) => chan.id === channelId);\n\n\t\tif (!currentChannel) {\n\t\t\tsystemLogStore.addLog({\n\t\t\t\tname: \"appbroadcast\",\n\t\t\t\ttype: \"warning\",\n\t\t\t\tvalue: \"You are not currently joined to a channel (no-op)\",\n\t\t\t\tvariant: \"text\",\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\tawait currentChannel.channel.broadcast(toJS(context));\n\t\t\tsystemLogStore.addLog({\n\t\t\t\tname: \"appbroadcast\",\n\t\t\t\ttype: \"success\",\n\t\t\t\tbody: JSON.stringify(context, null, 4),\n\t\t\t\tvariant: \"code\",\n\t\t\t\tvalue: channelId,\n\t\t\t});\n\t\t} catch (e) {\n\t\t\tsystemLogStore.addLog({\n\t\t\t\tname: \"appbroadcast\",\n\t\t\t\ttype: \"error\",\n\t\t\t\tbody: JSON.stringify(e, null, 4),\n\t\t\t\tvariant: \"code\",\n\t\t\t\tvalue: channelId,\n\t\t\t});\n\t\t}\n\t}\n\n\tasync leaveChannel() {\n\t\ttry {\n\t\t\t//check that we're on a channel\n\t\t\tlet currentChannel = await fdc3.getCurrentChannel();\n\t\t\tif (!currentChannel) {\n\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\tname: \"leaveChannel\",\n\t\t\t\t\ttype: \"warning\",\n\t\t\t\t\tvalue: \"\",\n\t\t\t\t\tvariant: \"text\",\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tawait fdc3.leaveCurrentChannel();\n\t\t\t\tcurrentChannel = await fdc3.getCurrentChannel();\n\t\t\t\tconst isSuccess = currentChannel === null;\n\n\t\t\t\trunInAction(() => {\n\t\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\t\tname: \"leaveChannel\",\n\t\t\t\t\t\ttype: isSuccess ? \"success\" : \"error\",\n\t\t\t\t\t\tvalue: this.currentAppChannel?.id,\n\t\t\t\t\t\tvariant: \"text\",\n\t\t\t\t\t});\n\n\t\t\t\t\tif (isSuccess) {\n\t\t\t\t\t\tthis.currentAppChannel = null;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tsystemLogStore.addLog({\n\t\t\t\tname: \"leaveChannel\",\n\t\t\t\ttype: \"error\",\n\t\t\t\tvalue: this.currentAppChannel?.id,\n\t\t\t\tvariant: \"code\",\n\t\t\t\tbody: JSON.stringify(e, null, 4),\n\t\t\t});\n\t\t}\n\t}\n\n\tasync addChannelListener(currChannel: Channel, newListener: string | undefined) {\n\t\tconst channelId = currChannel.id;\n\t\ttry {\n\t\t\tlet currentChannel = this.appChannelsList.find((channel) => channel.id === channelId);\n\t\t\tlet foundListener = this.channelListeners.find(\n\t\t\t\t(currentListener) => currentListener.type === newListener && currentListener.channelId === channelId\n\t\t\t);\n\n\t\t\tif (!foundListener && currentChannel && newListener !== undefined) {\n\t\t\t\tconst listenerId = nanoid();\n\t\t\t\tconst contactListener = await currentChannel.channel.addContextListener(\n\t\t\t\t\tnewListener?.toLowerCase() === \"all\" ? null : newListener,\n\t\t\t\t\t(context, metaData?: any) => {\n\t\t\t\t\t\tconst currentListener = this.channelListeners.find(\n\t\t\t\t\t\t\t(listener) => listener.type === newListener && listener.channelId === channelId\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\trunInAction(() => {\n\t\t\t\t\t\t\tif (currentListener) {\n\t\t\t\t\t\t\t\tcurrentListener.lastReceivedContext = context;\n\t\t\t\t\t\t\t\tcurrentListener.metaData = metaData;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\t\t\tname: \"receivedAppContextListener\",\n\t\t\t\t\t\t\ttype: \"info\",\n\t\t\t\t\t\t\tvalue: `Channel [${channelId}] Received context via '[${newListener}]' listener`,\n\t\t\t\t\t\t\tvariant: \"code\",\n\t\t\t\t\t\t\tbody: JSON.stringify(context, null, 4),\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t\trunInAction(() => {\n\t\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\t\tname: \"addAppContextListener\",\n\t\t\t\t\t\ttype: \"success\",\n\t\t\t\t\t\tvalue: `A context listener for '[${newListener}]' has been added on channel [${channelId}]`,\n\t\t\t\t\t\tvariant: \"text\",\n\t\t\t\t\t});\n\t\t\t\t\tthis.channelListeners.push({ id: listenerId, type: newListener, listener: contactListener, channelId });\n\t\t\t\t});\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tsystemLogStore.addLog({\n\t\t\t\tname: \"addAppContextListener\",\n\t\t\t\ttype: \"error\",\n\t\t\t\tvalue: `Failed to add a context listener for '[${newListener}]' on channel [${channelId}]`,\n\t\t\t\tvariant: \"code\",\n\t\t\t\tbody: JSON.stringify(e, null, 4),\n\t\t\t});\n\t\t}\n\t}\n\n\tremoveContextListener(id: string) {\n\t\tconst listenerIndex = this.channelListeners?.findIndex((listener) => listener.id === id);\n\t\tconst listener = this.channelListeners[listenerIndex];\n\t\tif (listenerIndex !== -1) {\n\t\t\ttry {\n\t\t\t\tthis.channelListeners[listenerIndex].listener.unsubscribe();\n\n\t\t\t\trunInAction(() => {\n\t\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\t\tname: \"removeAppChannelContextListener\",\n\t\t\t\t\t\ttype: \"success\",\n\t\t\t\t\t\tvalue: `A context listener for '[${listener.type}]' for channel [${listener.channelId}] has been removed`,\n\t\t\t\t\t\tvariant: \"text\",\n\t\t\t\t\t});\n\t\t\t\t\tthis.channelListeners.splice(listenerIndex, 1);\n\t\t\t\t});\n\t\t\t} catch (e) {\n\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\tname: \"removeAppChannelContextListener\",\n\t\t\t\t\ttype: \"error\",\n\t\t\t\t\tvalue: `Failed to remove a context listener for '[${listener.type}]' on channel [${listener.channelId}]`,\n\t\t\t\t\tvariant: \"code\",\n\t\t\t\t\tbody: JSON.stringify(e, null, 4),\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\tremove(channel: Channel) {\n\t\tthis.channelListeners.forEach((listener) => this.removeContextListener(listener.id));\n\t\tthis.appChannelsList = this.appChannelsList.filter((chan) => chan.id !== channel.id);\n\t}\n}\n\nconst appChannelStore = new AppChannelStore();\n\nexport default appChannelStore;\n","import { makeObservable, observable, action, runInAction, toJS } from \"mobx\";\nimport fdc3, { ContextType, Fdc3Listener, PrivateChannel } from \"../utility/Fdc3Api\";\nimport systemLogStore from \"./SystemLogStore\";\nimport { nanoid } from \"nanoid\";\n\n// interface ListenerOptionType {\n// \ttitle: string;\n// \tvalue: string;\n// \ttype: string | undefined;\n// }\n\nclass PrivateChannelStore {\n\tprivateChannelsList: PrivateChannel[] = [];\n\n\tcurrentPrivateChannel: PrivateChannel | null = null;\n\n\tchannelListeners: Fdc3Listener[] = [];\n\n\tconstructor() {\n\t\tmakeObservable(this, {\n\t\t\tprivateChannelsList: observable,\n\t\t\tcurrentPrivateChannel: observable,\n\t\t\tchannelListeners: observable,\n\t\t\tcreatePrivateChannel: action,\n\t\t\tbroadcast: action,\n\t\t\tonAddContextListener: action,\n\t\t\tonDisconnect: action,\n\t\t\tonUnsubscribe: action,\n\t\t\tdisconnect: action,\n\t\t});\n\t}\n\n\tasync createPrivateChannel() {\n\t\ttry {\n\t\t\tconst currentPrivateChannel: any = await fdc3.createPrivateChannel();\n\t\t\tconst isSuccess = currentPrivateChannel !== null;\n\t\t\tif (isSuccess) {\n\t\t\t\tthis.privateChannelsList.push(currentPrivateChannel);\n\t\t\t}\n\n\t\t\trunInAction(() => {\n\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\tname: \"createPrivateChannel\",\n\t\t\t\t\ttype: isSuccess ? \"success\" : \"error\",\n\t\t\t\t\tvalue: isSuccess ? currentPrivateChannel?.id : currentPrivateChannel.id,\n\t\t\t\t\tvariant: \"text\",\n\t\t\t\t});\n\t\t\t});\n\n\t\t\treturn currentPrivateChannel;\n\t\t} catch (e) {\n\t\t\tsystemLogStore.addLog({\n\t\t\t\tname: \"createPrivateChannel\",\n\t\t\t\ttype: \"error\",\n\t\t\t\tvalue: \"\",\n\t\t\t\tvariant: \"code\",\n\t\t\t\tbody: JSON.stringify(e, null, 4),\n\t\t\t});\n\t\t}\n\t}\n\n\tisContextListenerExists(channelId: string, type: string | undefined) {\n\t\treturn !!this.channelListeners?.find((listener) => listener.type === type && listener.channelId === channelId);\n\t}\n\n\tisPrivateChannelExists(channelId: string) {\n\t\treturn !!this.privateChannelsList.find((channel) => channel.id === channelId);\n\t}\n\n\tasync broadcast(channel: PrivateChannel, context: ContextType) {\n\t\tconst channelId = channel.id;\n\t\tif (!context) {\n\t\t\tsystemLogStore.addLog({\n\t\t\t\tname: \"appbroadcast\",\n\t\t\t\ttype: \"warning\",\n\t\t\t\tvalue: `You must set a context before you can broadcast it to channel: ${channelId}`,\n\t\t\t\tvariant: \"text\",\n\t\t\t});\n\t\t}\n\n\t\tif (!channel) {\n\t\t\tsystemLogStore.addLog({\n\t\t\t\tname: \"appbroadcast\",\n\t\t\t\ttype: \"warning\",\n\t\t\t\tvalue: \"You are not currently joined to a channel (no-op)\",\n\t\t\t\tvariant: \"text\",\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\tawait channel.broadcast(toJS(context));\n\t\t\tsystemLogStore.addLog({\n\t\t\t\tname: \"appbroadcast\",\n\t\t\t\ttype: \"success\",\n\t\t\t\tbody: JSON.stringify(context, null, 4),\n\t\t\t\tvariant: \"code\",\n\t\t\t\tvalue: channelId,\n\t\t\t});\n\t\t} catch (e) {\n\t\t\tsystemLogStore.addLog({\n\t\t\t\tname: \"appbroadcast\",\n\t\t\t\ttype: \"error\",\n\t\t\t\tbody: JSON.stringify(e, null, 4),\n\t\t\t\tvariant: \"code\",\n\t\t\t\tvalue: channelId,\n\t\t\t});\n\t\t}\n\t}\n\n\tasync addChannelListener(currentChannel: PrivateChannel, newListener: string | undefined) {\n\t\tconst channelId = currentChannel.id;\n\t\ttry {\n\t\t\tlet foundListener = this.channelListeners.find(\n\t\t\t\t(currentListener) => currentListener.type === newListener && currentListener.channelId === channelId\n\t\t\t);\n\t\t\tif (!foundListener && currentChannel && newListener !== undefined) {\n\t\t\t\tconst listenerId = nanoid();\n\t\t\t\tconst contactListener = await currentChannel.addContextListener(\n\t\t\t\t\tnewListener?.toLowerCase() === \"all\" ? null : newListener,\n\t\t\t\t\t(context, metaData?: any) => {\n\t\t\t\t\t\tconst currentListener = this.channelListeners.find(\n\t\t\t\t\t\t\t(listener) => listener.type === newListener && listener.channelId === channelId\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\trunInAction(() => {\n\t\t\t\t\t\t\tif (currentListener) {\n\t\t\t\t\t\t\t\tcurrentListener.lastReceivedContext = context;\n\t\t\t\t\t\t\t\tcurrentListener.metaData = metaData;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\t\t\tname: \"receivedAppContextListener\",\n\t\t\t\t\t\t\ttype: \"info\",\n\t\t\t\t\t\t\tvalue: `Channel [${channelId}] Received context via '[${newListener}]' listener`,\n\t\t\t\t\t\t\tvariant: \"code\",\n\t\t\t\t\t\t\tbody: JSON.stringify(context, null, 4),\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t\trunInAction(() => {\n\t\t\t\t\tthis.channelListeners.push({\n\t\t\t\t\t\tid: listenerId,\n\t\t\t\t\t\ttype: newListener,\n\t\t\t\t\t\tlistener: contactListener,\n\t\t\t\t\t\tchannelId,\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t} catch (e) {}\n\t}\n\n\tremoveContextListener(id: string) {\n\t\tconst listenerIndex = this.channelListeners?.findIndex((listener) => listener.id === id);\n\t\tconst listener = this.channelListeners[listenerIndex];\n\t\tif (listenerIndex !== -1) {\n\t\t\ttry {\n\t\t\t\tthis.channelListeners[listenerIndex].listener.unsubscribe();\n\n\t\t\t\trunInAction(() => {\n\t\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\t\tname: \"removeAppChannelContextListener\",\n\t\t\t\t\t\ttype: \"success\",\n\t\t\t\t\t\tvalue: `A context listener for '[${listener.type}]' for channel [${listener.channelId}] has been removed`,\n\t\t\t\t\t\tvariant: \"text\",\n\t\t\t\t\t});\n\t\t\t\t\tthis.channelListeners.splice(listenerIndex, 1);\n\t\t\t\t});\n\t\t\t} catch (e) {\n\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\tname: \"removeAppChannelContextListener\",\n\t\t\t\t\ttype: \"error\",\n\t\t\t\t\tvalue: `Failed to remove a context listener for '[${listener.type}]' on channel [${listener.channelId}]`,\n\t\t\t\t\tvariant: \"code\",\n\t\t\t\t\tbody: JSON.stringify(e, null, 4),\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\tonAddContextListener(channel: PrivateChannel, channelContexts?: any, channelContextDelay?: any) {\n\t\tchannel.onAddContextListener(() => {\n\t\t\ttry {\n\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\tname: \"pcAddContextListener\",\n\t\t\t\t\ttype: \"success\",\n\t\t\t\t\tvalue: `A context listener for '[all]' has been added on channel [${channel.id}]`,\n\t\t\t\t});\n\n\t\t\t\tif (Object.keys(channelContexts).length !== 0) {\n\t\t\t\t\tObject.keys(channelContexts).forEach((key) => {\n\t\t\t\t\t\tlet broadcast = setTimeout(async () => {\n\t\t\t\t\t\t\tthis.broadcast(channel, channelContexts[key]);\n\t\t\t\t\t\t\tclearTimeout(broadcast);\n\t\t\t\t\t\t}, channelContextDelay[key]);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\tname: \"pcAddContextListener\",\n\t\t\t\t\ttype: \"error\",\n\t\t\t\t\tvalue: `Failed to add a context listener for '[all]' on channel [${channel.id}]`,\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\tonUnsubscribe(channel: PrivateChannel) {\n\t\tchannel.onUnsubscribe(() => {\n\t\t\ttry {\n\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\tname: \"pcOnUnsubscribe\",\n\t\t\t\t\ttype: \"success\",\n\t\t\t\t\tvalue: `Sucessfully unsubscribed from listener '[all]' for channel [${channel.id}]`,\n\t\t\t\t});\n\t\t\t} catch (e) {\n\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\tname: \"pcOnUnsubscribe\",\n\t\t\t\t\ttype: \"error\",\n\t\t\t\t\tvalue: `Could not unsubscribed listener '[all]' from channel [${channel.id}]`,\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\tonDisconnect(channel: PrivateChannel) {\n\t\tchannel.onDisconnect(() => {\n\t\t\ttry {\n\t\t\t\tthis.channelListeners.forEach((listener) => {\n\t\t\t\t\tthis.removeContextListener(listener.id);\n\t\t\t\t});\n\t\t\t\tthis.privateChannelsList = this.privateChannelsList.filter((chan) => chan.id !== channel.id);\n\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\tname: \"pcOnDisconnect\",\n\t\t\t\t\ttype: \"success\",\n\t\t\t\t\tvalue: `Sucessfully disconntected from channel [${channel.id}]`,\n\t\t\t\t});\n\t\t\t} catch (e) {\n\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\tname: \"pcOnDisconnect\",\n\t\t\t\t\ttype: \"error\",\n\t\t\t\t\tvalue: `Unable to disconnect from channel [${channel.id}]`,\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\tdisconnect(channel: PrivateChannel) {\n\t\tthis.channelListeners.forEach((listener) => {\n\t\t\tthis.removeContextListener(listener.id);\n\t\t});\n\t\tthis.privateChannelsList = this.privateChannelsList.filter((chan) => chan.id !== channel.id);\n\t\tchannel.disconnect();\n\t}\n}\n\nconst privateChannelStore = new PrivateChannelStore();\n\nexport default privateChannelStore;\n","import { makeObservable, observable, action, runInAction, toJS } from \"mobx\";\nimport fdc3, {\n\tContextType,\n\tIntentResolution,\n\tFdc3Listener,\n\tTargetApp,\n\tAppMetadata,\n\tAppIdentifier,\n\tChannel,\n\tPrivateChannel,\n} from \"../utility/Fdc3Api\";\nimport { nanoid } from \"nanoid\";\nimport { intentTypes } from \"../fixtures/intentTypes\";\nimport systemLogStore from \"./SystemLogStore\";\nimport appChannelStore from \"./AppChannelStore\";\nimport privateChannelStore from \"./PrivateChannelStore\";\n\ntype IntentItem = { title: string; value: string };\n\nclass IntentStore {\n\tintentsList: IntentItem[] = intentTypes;\n\n\tintentListeners: Fdc3Listener[] = [];\n\n\tconstructor() {\n\t\tmakeObservable(this, {\n\t\t\tintentsList: observable,\n\t\t\tintentListeners: observable,\n\t\t\traiseIntent: action,\n\t\t\taddIntentListener: action,\n\t\t\tremoveIntentListener: action,\n\t\t\traiseIntentForContext: action,\n\t\t});\n\t}\n\n\tasync addIntentListener(\n\t\tintent: string,\n\t\tresultContext?: ContextType | null,\n\t\tchannelName?: string | null,\n\t\tisPrivate?: boolean,\n\t\tchannelContexts?: any,\n\t\tchannelContextDelay?: any\n\t) {\n\t\ttry {\n\t\t\tconst listenerId = nanoid();\n\n\t\t\tconst intentListener = await fdc3.addIntentListener(intent, async (context: ContextType, metaData?: any) => {\n\t\t\t\tconst currentListener = this.intentListeners.find(({ id }) => id === listenerId);\n\t\t\t\tlet channel: Channel | undefined;\n\n\t\t\t\t//app channel\n\t\t\t\tif (channelName && !isPrivate) {\n\t\t\t\t\tchannel = await appChannelStore.getOrCreateChannel(channelName);\n\t\t\t\t}\n\n\t\t\t\t//private channel\n\t\t\t\tif (isPrivate && !channelName) {\n\t\t\t\t\tchannel = await privateChannelStore.createPrivateChannel();\n\t\t\t\t\tprivateChannelStore.addChannelListener(<PrivateChannel>channel, \"all\");\n\n\t\t\t\t\tprivateChannelStore.onDisconnect(<PrivateChannel>channel);\n\t\t\t\t\tprivateChannelStore.onUnsubscribe(<PrivateChannel>channel);\n\t\t\t\t\tprivateChannelStore.onAddContextListener(<PrivateChannel>channel, channelContexts, channelContextDelay);\n\t\t\t\t}\n\n\t\t\t\tif (!isPrivate && channel) {\n\t\t\t\t\tif (Object.keys(channelContexts).length !== 0) {\n\t\t\t\t\t\tObject.keys(channelContexts).forEach((key) => {\n\t\t\t\t\t\t\tlet broadcast = setTimeout(async () => {\n\t\t\t\t\t\t\t\tappChannelStore.broadcast(<Channel>channel, channelContexts[key]);\n\t\t\t\t\t\t\t\tclearTimeout(broadcast);\n\t\t\t\t\t\t\t}, channelContextDelay[key]);\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tawait channel.broadcast(context);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\trunInAction(() => {\n\t\t\t\t\tif (currentListener) {\n\t\t\t\t\t\tcurrentListener.lastReceivedContext = context;\n\t\t\t\t\t\tcurrentListener.metaData = metaData;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\tname: \"receivedIntentListener\",\n\t\t\t\t\ttype: \"info\",\n\t\t\t\t\tvalue: intent,\n\t\t\t\t\tvariant: \"code\",\n\t\t\t\t\tbody: JSON.stringify(context, null, 4),\n\t\t\t\t});\n\n\t\t\t\treturn channel || resultContext;\n\t\t\t});\n\n\t\t\trunInAction(() => {\n\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\tname: \"addIntentListener\",\n\t\t\t\t\ttype: \"success\",\n\t\t\t\t\tvalue: intent,\n\t\t\t\t\tvariant: \"text\",\n\t\t\t\t});\n\t\t\t\tthis.intentListeners.push({ id: listenerId, type: intent, listener: intentListener });\n\t\t\t});\n\t\t} catch (e) {\n\t\t\tsystemLogStore.addLog({\n\t\t\t\tname: \"addIntentListener\",\n\t\t\t\ttype: \"error\",\n\t\t\t\tvalue: intent,\n\t\t\t\tvariant: \"code\",\n\t\t\t\tbody: JSON.stringify(e, null, 4),\n\t\t\t});\n\t\t}\n\t}\n\n\tasync removeIntentListener(id: string) {\n\t\tconst listenerIndex = this.intentListeners.findIndex((listener) => listener.id === id);\n\n\t\tif (listenerIndex !== -1) {\n\t\t\ttry {\n\t\t\t\t(await this.intentListeners[listenerIndex].listener).unsubscribe();\n\n\t\t\t\trunInAction(() => {\n\t\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\t\tname: \"removeIntentListener\",\n\t\t\t\t\t\ttype: \"success\",\n\t\t\t\t\t\tvalue: this.intentListeners[listenerIndex].type,\n\t\t\t\t\t\tvariant: \"text\",\n\t\t\t\t\t});\n\t\t\t\t\tthis.intentListeners.splice(listenerIndex, 1);\n\t\t\t\t});\n\t\t\t} catch (e) {\n\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\tname: \"removeIntentListener\",\n\t\t\t\t\ttype: \"error\",\n\t\t\t\t\tvalue: this.intentListeners[listenerIndex].type,\n\t\t\t\t\tvariant: \"code\",\n\t\t\t\t\tbody: JSON.stringify(e, null, 4),\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\tasync raiseIntent(intent: string, context: ContextType, app?: AppMetadata) {\n\t\tif (!context) {\n\t\t\tsystemLogStore.addLog({\n\t\t\t\tname: \"raiseIntent\",\n\t\t\t\ttype: \"error\",\n\t\t\t\tvalue: intent,\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\tlet resolution: IntentResolution;\n\n\t\t\tif (app) {\n\t\t\t\tresolution = await fdc3.raiseIntent(intent, toJS(context), app);\n\t\t\t} else {\n\t\t\t\tresolution = await fdc3.raiseIntent(intent, toJS(context));\n\t\t\t}\n\n\t\t\tsystemLogStore.addLog({\n\t\t\t\tname: \"raiseIntent\",\n\t\t\t\ttype: \"success\",\n\t\t\t\tvalue: intent,\n\t\t\t\tvariant: \"code\",\n\t\t\t\tbody: JSON.stringify(resolution, null, 4),\n\t\t\t});\n\n\t\t\treturn resolution;\n\t\t} catch (e) {\n\t\t\tsystemLogStore.addLog({\n\t\t\t\tname: \"raiseIntent\",\n\t\t\t\ttype: \"error\",\n\t\t\t\tvalue: intent,\n\t\t\t\tvariant: \"code\",\n\t\t\t\tbody: JSON.stringify(e, null, 4),\n\t\t\t});\n\t\t}\n\t}\n\n\tasync raiseIntentForContext(context: ContextType, app?: (TargetApp & (String | AppIdentifier)) | undefined) {\n\t\tif (!context) {\n\t\t\tsystemLogStore.addLog({\n\t\t\t\tname: \"raiseIntentForContext\",\n\t\t\t\ttype: \"error\",\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\tlet resolution: IntentResolution;\n\n\t\t\tif (app) {\n\t\t\t\tresolution = await fdc3.raiseIntentForContext(toJS(context), app);\n\t\t\t} else {\n\t\t\t\tresolution = await fdc3.raiseIntentForContext(toJS(context));\n\t\t\t}\n\t\t\tsystemLogStore.addLog({\n\t\t\t\tname: \"raiseIntentForContext\",\n\t\t\t\ttype: \"success\",\n\t\t\t});\n\n\t\t\treturn resolution;\n\t\t} catch (e) {\n\t\t\tconsole.log(e);\n\t\t\tsystemLogStore.addLog({\n\t\t\t\tname: \"raiseIntentForContext\",\n\t\t\t\ttype: \"error\",\n\t\t\t});\n\t\t}\n\t}\n}\n\nconst intentStore = new IntentStore();\n\nexport default intentStore;\n","import React from \"react\";\nimport { observer } from \"mobx-react\";\nimport intentStore from \"../../store/IntentStore\";\nimport { AccordionList, AccordionListItem } from \"../common/AccordionList\";\nimport { TextField } from \"@material-ui/core\";\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\nimport { ReceivedField } from \"./ReceivedField\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n\tcreateStyles({\n\t\ttextField: {\n\t\t\tmarginTop: theme.spacing(2),\n\t\t\twidth: \"100%\",\n\t\t},\n\t\tinput: {\n\t\t\tfontSize: \"14px\",\n\t\t\tcolor: \"rgba(0, 0, 0, 0.6)\",\n\t\t},\n\t\t\"& .Mui-disabled\": {\n\t\t\tborderColor: theme.palette.text.primary,\n\t\t},\n\t})\n);\n\nexport const IntentListeners = observer(() => {\n\tconst classes = useStyles();\n\tconst intentListeners: AccordionListItem[] = intentStore.intentListeners.map(\n\t\t({ id, type, lastReceivedContext, metaData }) => {\n\t\t\tconst receivedContextListenerValue = lastReceivedContext ? JSON.stringify(lastReceivedContext, undefined, 4) : \"\";\n\n\t\t\tconst contextField = (\n\t\t\t\t<div>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tdisabled\n\t\t\t\t\t\tlabel={\"LAST RECEIVED CONTEXT\"}\n\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\tInputLabelProps={{\n\t\t\t\t\t\t\tshrink: true,\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tcontentEditable={false}\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tmultiline\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tvalue={receivedContextListenerValue}\n\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\tclasses: {\n\t\t\t\t\t\t\t\tinput: classes.input,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t{window.fdc3Version === \"2.0\" && <ReceivedField metaData={metaData} />}\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t\treturn { id, textPrimary: `${type}`, afterEachElement: contextField };\n\t\t}\n\t);\n\n\tconst handleDeleteListener = (id: string) => {\n\t\tintentStore.removeIntentListener(id);\n\t};\n\n\treturn (\n\t\t<AccordionList\n\t\t\ttitle=\"Intents\"\n\t\t\tnoItemsText=\"No Intent Listeners\"\n\t\t\tlistItems={intentListeners}\n\t\t\tonDelete={handleDeleteListener}\n\t\t/>\n\t);\n});\n","import React from \"react\";\nimport { observer } from \"mobx-react\";\nimport appChannelStore from \"../../store/AppChannelStore\";\nimport { AccordionList, AccordionListItem } from \"../common/AccordionList\";\nimport { TextField } from \"@material-ui/core\";\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\nimport { ReceivedField } from \"./ReceivedField\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n\tcreateStyles({\n\t\ttextField: {\n\t\t\tmarginTop: theme.spacing(2),\n\t\t\twidth: \"100%\",\n\t\t},\n\t\tinput: {\n\t\t\tfontSize: \"14px\",\n\t\t},\n\t})\n);\n\nexport const AppChannelListeners = observer(() => {\n\tconst classes = useStyles();\n\n\tlet contextListeners: AccordionListItem[] = [];\n\n\tappChannelStore.channelListeners.forEach(({ id, channelId, type, lastReceivedContext, metaData }) => {\n\t\tconst receivedContextListenerValue = lastReceivedContext ? JSON.stringify(lastReceivedContext, undefined, 4) : \"\";\n\t\tconst contextField = (\n\t\t\t<div>\n\t\t\t\t<TextField\n\t\t\t\t\tdisabled\n\t\t\t\t\tlabel={\"LAST RECEIVED CONTEXT\"}\n\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\tInputLabelProps={{\n\t\t\t\t\t\tshrink: true,\n\t\t\t\t\t}}\n\t\t\t\t\tcontentEditable={false}\n\t\t\t\t\tfullWidth\n\t\t\t\t\tmultiline\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tvalue={receivedContextListenerValue}\n\t\t\t\t\tInputProps={{\n\t\t\t\t\t\tclasses: {\n\t\t\t\t\t\t\tinput: classes.input,\n\t\t\t\t\t\t},\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t\t{window.fdc3Version === \"2.0\" && <ReceivedField metaData={metaData} />}\n\t\t\t</div>\n\t\t);\n\n\t\tcontextListeners.push({ id, textPrimary: `${channelId}: ${type}`, afterEachElement: contextField });\n\t});\n\n\tconst handleDeleteListener = (id: string) => {\n\t\tappChannelStore.removeContextListener(id);\n\t};\n\n\treturn (\n\t\t<AccordionList\n\t\t\ttitle=\"App Channels\"\n\t\t\ticon=\"Any context already in the channel will NOT be received automatically\"\n\t\t\tnoItemsText=\"No App Channel Listeners\"\n\t\t\tlistItems={contextListeners}\n\t\t\tonDelete={handleDeleteListener}\n\t\t/>\n\t);\n});\n","import React from \"react\";\nimport { ListItem, TextField, Typography } from \"@material-ui/core\";\nimport { LogItem } from \"../../store/SystemLogStore\";\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\n\ninterface SystemLogItemProps {\n\tlogItem: LogItem;\n}\n\nconst useStyles = (props: SystemLogItemProps) =>\n\tmakeStyles((theme: Theme) =>\n\t\tcreateStyles({\n\t\t\troot: {\n\t\t\t\tflexDirection: \"column\",\n\t\t\t\tjustifyContent: \"flex-start\",\n\t\t\t\talignItems: \"flex-start\",\n\t\t\t\tpadding: theme.spacing(3, 0),\n\t\t\t\t\"&:first-child\": {\n\t\t\t\t\tborderTop: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tmessage: {\n\t\t\t\tcolor: theme.palette[props.logItem.type].dark,\n\t\t\t},\n\t\t\ttextField: {\n\t\t\t\twidth: \"100%\",\n\t\t\t},\n\t\t\tinput: {\n\t\t\t\tfontSize: \"14px\",\n\t\t\t\tcolor: theme.palette.text.primary,\n\t\t\t},\n\t\t\t\"& .Mui-disabled\": {\n\t\t\t\tborderColor: theme.palette.text.primary,\n\t\t\t},\n\t\t})\n\t);\n\nexport const SystemLogItem: React.FC<SystemLogItemProps> = (props: SystemLogItemProps) => {\n\tconst { logItem } = props;\n\tconst classes = useStyles(props)();\n\n\treturn (\n\t\t<ListItem className={classes.root} divider>\n\t\t\t<Typography className={classes.message} variant=\"body1\">\n\t\t\t\t{logItem.message}\n\t\t\t</Typography>\n\n\t\t\t{logItem.variant === \"code\" && (\n\t\t\t\t<TextField\n\t\t\t\t\tdisabled\n\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\tid={logItem.id}\n\t\t\t\t\tcontentEditable={false}\n\t\t\t\t\tfullWidth\n\t\t\t\t\tmultiline\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tvalue={logItem.body}\n\t\t\t\t\tInputProps={{\n\t\t\t\t\t\tclasses: {\n\t\t\t\t\t\t\tinput: classes.input,\n\t\t\t\t\t\t},\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t)}\n\n\t\t\t{logItem.variant === \"text\" && logItem.body && (\n\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t{logItem.type === \"error\" && \"ERROR:\"}\n\t\t\t\t\t{logItem.type === \"warning\" && \"WARNING:\"}\n\t\t\t\t\t{logItem.type === \"info\" && \"INFO:\"}\n\t\t\t\t\t{logItem.type === \"success\" && \"SUCCESS:\"}\n\n\t\t\t\t\t{logItem.body}\n\t\t\t\t</Typography>\n\t\t\t)}\n\t\t</ListItem>\n\t);\n};\n","import React from \"react\";\nimport { observer } from \"mobx-react\";\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\nimport { List } from \"@material-ui/core\";\nimport systemLogStore from \"../../store/SystemLogStore\";\nimport { SystemLogItem } from \"./SystemLogItem\";\n\nconst useStyles = makeStyles(() =>\n\tcreateStyles({\n\t\troot: {\n\t\t\twidth: \"100%\",\n\t\t},\n\t})\n);\n\nexport const SystemLog = observer(() => {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<List component=\"nav\" className={classes.root} aria-label=\"mailbox folders\">\n\t\t\t{systemLogStore.logList.map((logItem) => (\n\t\t\t\t<SystemLogItem key={logItem.id} logItem={logItem} />\n\t\t\t))}\n\t\t</List>\n\t);\n});\n","import React from \"react\";\nimport { observer } from \"mobx-react\";\nimport privateChannelStore from \"../../store/PrivateChannelStore\";\nimport { AccordionList, AccordionListItem } from \"../common/AccordionList\";\nimport { TextField } from \"@material-ui/core\";\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\nimport { ReceivedField } from \"./ReceivedField\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n\tcreateStyles({\n\t\ttextField: {\n\t\t\tmarginTop: theme.spacing(2),\n\t\t\twidth: \"100%\",\n\t\t},\n\t\tinput: {\n\t\t\tfontSize: \"14px\",\n\t\t},\n\t})\n);\n\nexport const PrivateChannelListeners = observer(() => {\n\tconst classes = useStyles();\n\n\tlet contextListeners: AccordionListItem[] = [];\n\n\tprivateChannelStore.channelListeners.forEach(({ id, channelId, type, lastReceivedContext, metaData }) => {\n\t\tconst receivedContextListenerValue = lastReceivedContext ? JSON.stringify(lastReceivedContext, undefined, 4) : \"\";\n\t\tconst contextField = (\n\t\t\t<div>\n\t\t\t\t<TextField\n\t\t\t\t\tdisabled\n\t\t\t\t\tlabel={\"LAST RECEIVED CONTEXT\"}\n\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\tInputLabelProps={{\n\t\t\t\t\t\tshrink: true,\n\t\t\t\t\t}}\n\t\t\t\t\tcontentEditable={false}\n\t\t\t\t\tfullWidth\n\t\t\t\t\tmultiline\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tvalue={receivedContextListenerValue}\n\t\t\t\t\tInputProps={{\n\t\t\t\t\t\tclasses: {\n\t\t\t\t\t\t\tinput: classes.input,\n\t\t\t\t\t\t},\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t\t{window.fdc3Version === \"2.0\" && <ReceivedField metaData={metaData} />}\n\t\t\t</div>\n\t\t);\n\n\t\tcontextListeners.push({ id, textPrimary: `Channel Id: ${channelId}: ${type}`, afterEachElement: contextField });\n\t});\n\n\tconst handleDeleteListener = (id: string) => {\n\t\tprivateChannelStore.removeContextListener(id);\n\t};\n\n\treturn (\n\t\t<AccordionList\n\t\t\ttitle=\"Private Channels\"\n\t\t\ticon=\"Any context already in the channel will NOT be received automatically\"\n\t\t\tnoItemsText=\"No Private Channel Listeners\"\n\t\t\tlistItems={contextListeners}\n\t\t\tonDelete={handleDeleteListener}\n\t\t/>\n\t);\n});\n","import React, { useState } from \"react\";\nimport { observer } from \"mobx-react\";\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\nimport { Tooltip } from \"@material-ui/core\";\nimport InfoIcon from \"@material-ui/icons/Info\";\nimport { Tabs, Tab } from \"@material-ui/core\";\nimport { TabPanel } from \"../common/TabPanel\";\nimport { ContextListeners } from \"./ContextListeners\";\nimport { IntentListeners } from \"./IntentListeners\";\nimport { AppChannelListeners } from \"./AppChannelListeners\";\nimport { SystemLog } from \"./SystemLog\";\nimport { PrivateChannelListeners } from \"./PrivateChannelListeners\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n\tcreateStyles({\n\t\t\"@global\": {\n\t\t\t\".MuiTab-wrapper\": {\n\t\t\t\tflexDirection: \"row !important\",\n\t\t\t},\n\t\t},\n\t\troot: {\n\t\t\tflexGrow: 1,\n\t\t},\n\t\tpaper: {\n\t\t\tmarginTop: theme.spacing(2),\n\t\t\tpadding: theme.spacing(2),\n\t\t\t\"&:first-child\": {\n\t\t\t\tmarginTop: 0,\n\t\t\t},\n\t\t},\n\t\tsystemLog: {\n\t\t\tmaxHeight: \"1000px\",\n\t\t\toverflowY: \"scroll\",\n\t\t},\n\t\tindicator: {\n\t\t\tbackgroundColor: \"#00bbe1\",\n\t\t},\n\t\ttabs: {\n\t\t\tborderBottomColor: \"#acb2c0\",\n\t\t\tborderBottomStyle: \"solid\",\n\t\t\tborderBottomWidth: \"1px\",\n\t\t\tminHeight: \"28px\",\n\t\t},\n\t\ticon: {\n\t\t\tmarginBottom: \"3px !important\",\n\t\t\tfontSize: \"15px\",\n\t\t\tmarginRight: \"3px\",\n\t\t},\n\t})\n);\n\nconst a11yProps = (index: any) => {\n\treturn {\n\t\tid: `scrollable-auto-tab-${index}`,\n\t\t\"aria-controls\": `scrollable-auto-tabpanel-${index}`,\n\t};\n};\n\nexport const Workbench = observer(() => {\n\tconst classes = useStyles();\n\tconst [tabValue, setTabValue] = useState<number>(0);\n\n\tconst handleTabChange = (event: React.ChangeEvent<{}>, newValue: number) => {\n\t\tsetTabValue(newValue);\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<Tabs\n\t\t\t\tvalue={tabValue}\n\t\t\t\tonChange={handleTabChange}\n\t\t\t\tindicatorColor=\"primary\"\n\t\t\t\tvariant=\"scrollable\"\n\t\t\t\tscrollButtons=\"auto\"\n\t\t\t\tclasses={{\n\t\t\t\t\tindicator: classes.indicator,\n\t\t\t\t}}\n\t\t\t\tclassName={classes.tabs}\n\t\t\t>\n\t\t\t\t<Tab\n\t\t\t\t\tlabel=\"Listeners\"\n\t\t\t\t\t{...a11yProps(0)}\n\t\t\t\t\tstyle={{ display: \"flex\", alignItems: \"center\" }}\n\t\t\t\t\ticon={\n\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\ttitle=\"Context received will be displayed here, but you will not receive your own messages back\"\n\t\t\t\t\t\t\taria-label=\"Context received will be displayed here, but you will not receive your own messages back\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<InfoIcon className={classes.icon} />\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<Tab label=\"System Log\" {...a11yProps(1)} />\n\t\t\t</Tabs>\n\n\t\t\t<TabPanel value={tabValue} index={0}>\n\t\t\t\t<ContextListeners />\n\t\t\t\t<IntentListeners />\n\t\t\t\t<AppChannelListeners />\n\t\t\t\t<PrivateChannelListeners />\n\t\t\t</TabPanel>\n\n\t\t\t<div className={classes.systemLog}>\n\t\t\t\t<TabPanel value={tabValue} index={1}>\n\t\t\t\t\t<SystemLog />\n\t\t\t\t</TabPanel>\n\t\t\t</div>\n\t\t</div>\n\t);\n});\n","import React, { useEffect, useRef, useState } from \"react\";\nimport JSONEditor, { JSONEditorOptions, ParseError, SchemaValidationError } from \"jsoneditor\";\nimport \"jsoneditor/dist/jsoneditor.css\";\nimport $RefParser from \"@apidevtools/json-schema-ref-parser\";\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\n\ninterface JsonInputProps {\n\tjson?: object | null;\n\tschemaUrl?: URL | null;\n\tschema?: object | null;\n\tonJsonError?: (errors: Array<string>) => void;\n\treadOnly?: boolean;\n\tonChange: (value: any) => void;\n\terror?: string | false;\n}\n\nconst useStyles = makeStyles((theme: Theme) =>\n\tcreateStyles({\n\t\troot: {\n\t\t\tposition: \"relative\",\n\t\t\tflexGrow: 1,\n\t\t\tpadding: theme.spacing(1),\n\t\t\tborder: `1px solid #0086bf`,\n\t\t\tborderRadius: theme.shape.borderRadius,\n\t\t\t\"& .jsoneditor\": {\n\t\t\t\tborder: \"none\",\n\t\t\t},\n\t\t\t\"& .ace-jsoneditor .ace_gutter\": {\n\t\t\t\tbackgroundColor: \"transparent\",\n\t\t\t},\n\t\t\t\"& .ace-jsoneditor .ace_gutter-active-line\": {\n\t\t\t\tbackgroundColor: theme.palette.grey[\"200\"],\n\t\t\t},\n\t\t\t\"& .ace-jsoneditor .ace_marker-layer .ace_active-line\": {\n\t\t\t\tbackgroundColor: theme.palette.grey[\"200\"],\n\t\t\t},\n\t\t},\n\t\tjsonInput: {\n\t\t\theight: \"270px\",\n\t\t},\n\t\terrorText: {\n\t\t\tbottom: \"-8px\",\n\t\t\tpadding: theme.spacing(0, 0.5),\n\t\t\tfontSize: \"0.75rem\",\n\t\t\tposition: \"absolute\",\n\t\t\tbackgroundColor: \"#fff\",\n\t\t\tcolor: theme.palette.error.main,\n\t\t},\n\t})\n);\n\nexport const JsonInput: React.FC<JsonInputProps> = (props: JsonInputProps) => {\n\tconst classes = useStyles();\n\tconst [jsoneditor, setJsoneditor] = useState<JSONEditor>();\n\tconst container = useRef<HTMLDivElement>(null);\n\tconst initialSettings: JSONEditorOptions = {\n\t\tmode: \"code\",\n\t\tmainMenuBar: false,\n\t\tstatusBar: false,\n\t\tindentation: 2,\n\t\tonChangeText: (text: string) => {\n\t\t\tif (text === \"\") {\n\t\t\t\tprops.onChange(null);\n\t\t\t} else {\n\t\t\t\ttry {\n\t\t\t\t\tprops.onChange(JSON.parse(text));\n\t\t\t\t} catch (e) {}\n\t\t\t}\n\t\t},\n\t\tonValidationError: (error: readonly (SchemaValidationError | ParseError)[]) => {\n\t\t\tif (props.onJsonError) {\n\t\t\t\tif (error.length > 0) {\n\t\t\t\t\tconst errorMsg: string = error[0].type === \"error\" ? \"Bad json format\" : \"Json doesn't match the schema\";\n\t\t\t\t\tprops.onJsonError([errorMsg]);\n\t\t\t\t} else {\n\t\t\t\t\tprops.onJsonError([]);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t};\n\n\tuseEffect(() => {\n\t\t(async () => {\n\t\t\tconst options: JSONEditorOptions = { ...initialSettings };\n\n\t\t\tif (container.current) {\n\t\t\t\tif (props.schema) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\toptions.schema = await $RefParser.dereference(props.schema, {\n\t\t\t\t\t\t\tdereference: {\n\t\t\t\t\t\t\t\tcircular: true,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t});\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\tconsole.error(err);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (props.schemaUrl) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\toptions.schema = await $RefParser.dereference(props.schemaUrl.href, {\n\t\t\t\t\t\t\tdereference: {\n\t\t\t\t\t\t\t\tcircular: true,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t});\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\tconsole.error(err);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconst editor = new JSONEditor(container.current, options, props.json);\n\n\t\t\t\tsetJsoneditor(editor);\n\t\t\t}\n\t\t})();\n\n\t\treturn jsoneditor?.destroy;\n\t}, []);\n\n\tuseEffect(() => {\n\t\tif (props.schema) {\n\t\t\tjsoneditor?.setSchema(props.schema);\n\t\t}\n\t}, [props.schema]);\n\n\tuseEffect(() => {\n\t\t(async () => {\n\t\t\tif (props.schemaUrl) {\n\t\t\t\ttry {\n\t\t\t\t\tconst schema = await $RefParser.dereference(props.schemaUrl.href, {\n\t\t\t\t\t\tdereference: {\n\t\t\t\t\t\t\tcircular: true,\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\n\t\t\t\t\tjsoneditor?.setSchema(schema);\n\t\t\t\t} catch (err) {\n\t\t\t\t\tconsole.error(err);\n\t\t\t\t}\n\t\t\t}\n\t\t})();\n\t}, [props.schemaUrl]);\n\n\tuseEffect(() => {\n\t\tif (jsoneditor && (props.json || props.json === null)) {\n\t\t\tif (props.json === null) {\n\t\t\t\tjsoneditor.set({});\n\t\t\t} else {\n\t\t\t\tjsoneditor.set(props.json);\n\t\t\t}\n\t\t}\n\t}, [props.json, jsoneditor]);\n\n\treturn (\n\t\t<div className={classes.root} tabIndex={0}>\n\t\t\t<div className={classes.jsonInput} ref={container} />\n\t\t\t{!!props.error && <div className={classes.errorText}>{props.error}</div>}\n\t\t</div>\n\t);\n};\n","import * as React from \"react\";\nimport { Button, DialogTitle, DialogActions, Dialog } from \"@material-ui/core\";\n\ninterface DialogModalProps {\n\topen: boolean;\n\tonClose: (value: boolean) => void;\n\tonAgree: (value: string) => void;\n\tselectedValue: any;\n}\n\nexport function DialogModal(props: DialogModalProps) {\n\tconst { onClose, onAgree, open, selectedValue } = props;\n\n\tconst handleClose = () => {\n\t\tonClose(false);\n\t};\n\n\tconst handleAgree = () => {\n\t\tonAgree(selectedValue?.id || \"\");\n\t\tonClose(false);\n\t};\n\n\treturn (\n\t\t<Dialog\n\t\t\topen={open}\n\t\t\tonClose={handleClose}\n\t\t\taria-labelledby=\"alert-dialog-title\"\n\t\t\taria-describedby=\"alert-dialog-description\"\n\t\t>\n\t\t\t<DialogTitle id=\"alert-dialog-title\">\n\t\t\t\t{`Delete context template: ${selectedValue?.name || selectedValue?.id}`}\n\t\t\t</DialogTitle>\n\t\t\t<DialogActions>\n\t\t\t\t<Button onClick={handleClose}>Disagree</Button>\n\t\t\t\t<Button onClick={handleAgree} autoFocus>\n\t\t\t\t\tAgree\n\t\t\t\t</Button>\n\t\t\t</DialogActions>\n\t\t</Dialog>\n\t);\n}\n","import React, { useEffect, useState, useRef, FormEvent } from \"react\";\nimport { observer } from \"mobx-react\";\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\nimport {\n\tButton,\n\tGrid,\n\tTypography,\n\tTooltip,\n\tIconButton,\n\tTable,\n\tTableBody,\n\tTableRow,\n\tTableCell,\n\tTableContainer,\n} from \"@material-ui/core\";\nimport FileCopyIcon from \"@material-ui/icons/FileCopy\";\nimport FileCopyOutlinedIcon from \"@material-ui/icons/FileCopyOutlined\";\nimport DeleteOutlinedIcon from \"@material-ui/icons/DeleteOutlined\";\nimport contextStore, { ContextItem } from \"../store/ContextStore\";\nimport systemLogStore from \"../store/SystemLogStore\";\nimport { JsonInput } from \"./common/JsonInput\";\nimport { DialogModal } from \"./common/DialogModal\";\nimport { TemplateTextField } from \"./common/TemplateTextField\";\nimport { copyToClipboard } from \"./common/CopyToClipboard\";\nimport { ContextType } from \"../utility/Fdc3Api\";\n\ninterface OptionType {\n\ttitle: string;\n\tvalue: string;\n}\n\nconst useStyles: any = makeStyles((theme: Theme) =>\n\tcreateStyles({\n\t\troot: {\n\t\t\tflexGrow: 1,\n\t\t},\n\t\tform: {\n\t\t\tdisplay: \"flex\",\n\t\t\tflexWrap: \"wrap\",\n\t\t\talignItems: \"center\",\n\t\t\tmarginTop: theme.spacing(1),\n\t\t\t\"& > *\": {\n\t\t\t\tmargin: theme.spacing(1),\n\t\t\t},\n\t\t\t\"& > *:first-child\": {\n\t\t\t\tmarginLeft: 0,\n\t\t\t\tpaddingLeft: 0,\n\t\t\t},\n\t\t\t\"& > * > *:first-child\": {\n\t\t\t\tmarginLeft: 0,\n\t\t\t\tpaddingLeft: 0,\n\t\t\t},\n\t\t\t\"& .MuiGrid-grid-xs-12\": {\n\t\t\t\tpaddingLeft: 0,\n\t\t\t},\n\t\t},\n\t\tcontrols: {\n\t\t\t\"& .MuiIconButton-sizeSmall\": {\n\t\t\t\tpadding: \"6px\",\n\t\t\t\tmarginLeft: theme.spacing(1),\n\t\t\t},\n\t\t},\n\t\ttemplateSelect: {\n\t\t\tflexGrow: 1,\n\t\t\t// marginRight: theme.spacing(1),\n\t\t\tminWidth: \"190px\",\n\t\t},\n\t\ttextField: {\n\t\t\twidth: \"100%\",\n\t\t},\n\t\tmultilineField: {\n\t\t\twidth: \"100%\",\n\t\t},\n\t\tbutton: {\n\t\t\tmarginLeft: \"auto\",\n\t\t},\n\t\trightAlign: {\n\t\t\tflexDirection: \"row\",\n\t\t\tjustifyContent: \"flex-end\",\n\t\t},\n\t\tborder: {\n\t\t\theight: \"1px\",\n\t\t\twidth: \"100%\",\n\t\t\tbackgroundColor: \"#acb2c0\",\n\t\t\tmarginTop: \"24px\",\n\t\t\tmarginBottom: \"16px\",\n\t\t},\n\t\tdelete: {\n\t\t\theight: \"15px\",\n\t\t\ttransform: \"scale(1.7)\",\n\t\t},\n\t\tcopy: {\n\t\t\theight: \"20px\",\n\t\t},\n\t\tlink: {\n\t\t\tcursor: \"pointer\",\n\t\t\tcolor: \"black\",\n\t\t},\n\t\tmargins: {\n\t\t\tmargin: \"0 5px\",\n\t\t},\n\t\ttableContainer: {\n\t\t\tmaxHeight: 250,\n\t\t\t\"& > table\": {\n\t\t\t\twidth: \"calc(100% - 4px)\"\n\t\t\t}\n\t\t},\n\t})\n);\n\nconst emptyJson: ContextType = {\n\ttype: \"\",\n\tid: {},\n};\n\nexport const ContextCreate = observer(({ contextName }: { contextName: string }) => {\n\tconst classes = useStyles();\n\tconst [templateName, setTemplateName] = useState<OptionType | null>({\n\t\ttitle: contextName,\n\t\tvalue: contextName,\n\t});\n\tconst [duplicateName, setDuplicateName] = useState(false);\n\tconst [contextValue, setContextValue] = useState<ContextType | null>(emptyJson);\n\tconst [context, setContext] = useState<ContextItem | null>({\n\t\tid: contextName || \"empty\",\n\t\ttemplate: emptyJson,\n\t\tschemaUrl: new URL(\"https://fdc3.finos.org/schemas/1.2/context.schema.json\"),\n\t});\n\tconst [contextError, setContextError] = useState<string | false>(false);\n\tconst [open, setOpen] = useState(false);\n\tconst [deleteContext, setDeleteContext] = useState<object | null>(null);\n\tconst [disabled, setDisabled] = useState(true);\n\tconst gridRef = useRef<any>(null);\n\n\tconst handleClickOpen = (id: string, name: any) => {\n\t\tsetOpen(true);\n\t\tsetDeleteContext({ id, name });\n\t};\n\n\tconst handleClose = (value: boolean) => {\n\t\tsetOpen(value);\n\t};\n\n\tconst handleJsonError = (errors: string[]) => {\n\t\tsetContextError(errors[0]);\n\t};\n\n\tconst handleChangeTemplate = (newValue: any) => {\n\t\tsetTemplateName(newValue);\n\n\t\tif (newValue?.value) {\n\t\t\tconst selectedContext = contextStore.contextsList.find(({ id }) => id === newValue?.value);\n\t\t\tif (selectedContext) {\n\t\t\t\tsetContextValue(selectedContext.template);\n\t\t\t\tsetContext(selectedContext);\n\t\t\t}\n\t\t}\n\n\t\tsetContextError(false);\n\t};\n\n\tconst found = (tempName: string, ignoreUuid?: string) =>\n\t\tcontextStore.contextsList.reduce((count, { id, uuid }) => {\n\t\t\tif (id === tempName && (!ignoreUuid || ignoreUuid !== uuid)) {\n\t\t\t\tcount = count + 1;\n\t\t\t}\n\t\t\treturn count;\n\t\t}, 0);\n\n\tconst handleChangeTemplateName = (newValue: any) => {\n\t\tsetDisabled(false);\n\t\tsetContextError(false);\n\t\tsetTemplateName(newValue);\n\n\t\tif (context && !found(newValue.value, context.uuid)) setDuplicateName(false);\n\t\telse if (found(newValue.value) >= 1) setDuplicateName(true);\n\t};\n\n\tconst handleContextChange = (json: ContextType) => {\n\t\tsetContextValue(json);\n\t\tsetContextError(false);\n\t};\n\n\tconst validate = () => {\n\t\tif (!contextValue) {\n\t\t\tsetContextError(\"Context is required\");\n\t\t\treturn false;\n\t\t}\n\n\t\tif (!contextValue?.type) {\n\t\t\tsetContextError(\"Context must have property 'type'\");\n\t\t\treturn false;\n\t\t}\n\n\t\tif (contextValue?.type === \"\") {\n\t\t\tsetContextError(\"Property 'type' can't be empty\");\n\t\t\treturn false;\n\t\t}\n\n\t\tif (!templateName) {\n\t\t\tsetContextError(\"Template name is required\");\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t};\n\n\tconst handleCreateTemplate = () => {\n\t\tsetTemplateName(null);\n\t\tsetContext(null);\n\t\tsetContextValue(null);\n\t\tsetDisabled(true);\n\t};\n\n\tconst handleSaveTemplate = (e: FormEvent | null = null) => {\n\t\te?.preventDefault();\n\t\tif (disabled) {\n\t\t\treturn;\n\t\t} else {\n\t\t\tconst isValid: boolean = validate();\n\n\t\t\tif (isValid && context && templateName) {\n\t\t\t\tconst selectedContext = contextStore.contextsList.find(({ id }) => id === context.id);\n\t\t\t\tconst currContext = {\n\t\t\t\t\tid: templateName.value,\n\t\t\t\t\tschemaUrl: context.schemaUrl,\n\t\t\t\t\ttemplate: contextValue,\n\t\t\t\t};\n\n\t\t\t\tif (!selectedContext) contextStore.addContextItem(currContext);\n\n\t\t\t\tcontextStore.saveContextItem(currContext, context.id);\n\t\t\t\thandleChangeTemplate({ title: currContext.id, value: currContext.id });\n\n\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\tname: \"saveTemplate\",\n\t\t\t\t\ttype: \"success\",\n\t\t\t\t\tvalue: currContext?.id,\n\t\t\t\t\tvariant: \"text\",\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\tname: \"saveTemplate\",\n\t\t\t\t\ttype: \"error\",\n\t\t\t\t\tvalue: undefined,\n\t\t\t\t\tvariant: \"text\",\n\t\t\t\t});\n\t\t\t}\n\t\t\tsetDisabled(true);\n\t\t}\n\t};\n\n\tconst handleDuplicateTemplate = (newValue: any, count = 0) => {\n\t\tconst copyName = `${newValue.value}-copy${count > 0 ? ` (${count})` : \"\"}`;\n\t\tif (newValue?.value && !found(copyName)) {\n\t\t\tsetTemplateName({ value: copyName, title: copyName });\n\t\t\tconst selectedContext = contextStore.contextsList.find(({ id }) => id === newValue.value);\n\n\t\t\tif (selectedContext) {\n\t\t\t\tconst newContext: ContextItem = {\n\t\t\t\t\tid: copyName,\n\t\t\t\t\ttemplate: selectedContext.template,\n\t\t\t\t\tschemaUrl: selectedContext.schemaUrl,\n\t\t\t\t};\n\n\t\t\t\tcontextStore.addContextItem(newContext);\n\t\t\t\tcontextStore.saveContextItem(newContext);\n\n\t\t\t\tsetContextValue(selectedContext.template);\n\t\t\t\tsetContext(newContext);\n\n\t\t\t\tsystemLogStore.addLog({\n\t\t\t\t\tname: \"saveTemplate\",\n\t\t\t\t\ttype: \"success\",\n\t\t\t\t\tvalue: newContext.id,\n\t\t\t\t\tvariant: \"text\",\n\t\t\t\t});\n\t\t\t}\n\t\t} else if (found(copyName)) {\n\t\t\thandleDuplicateTemplate(newValue, ++count);\n\t\t}\n\n\t\tsetContextError(false);\n\t};\n\n\tconst handleResetTemplate = () => {\n\t\tcontextStore.resetContextList();\n\t\thandleCreateTemplate();\n\t};\n\n\tconst handleDeleteTemplate = (contextId: any) => {\n\t\tconst selectedContext = contextStore.contextsList.find(({ id }) => id === contextId);\n\t\tif (selectedContext) {\n\t\t\tcontextStore.deleteContextItem(selectedContext);\n\t\t\tsystemLogStore.addLog({\n\t\t\t\tname: \"deleteTemplate\",\n\t\t\t\ttype: \"success\",\n\t\t\t\tvalue: selectedContext?.id,\n\t\t\t\tvariant: \"text\",\n\t\t\t});\n\t\t} else {\n\t\t\tsystemLogStore.addLog({\n\t\t\t\tname: \"deleteTemplate\",\n\t\t\t\ttype: \"error\",\n\t\t\t\tvalue: undefined,\n\t\t\t\tvariant: \"text\",\n\t\t\t});\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tif (duplicateName) {\n\t\t\tsetDisabled(true);\n\t\t\tsetContextError(\"Template name already exists\");\n\t\t} else setDisabled(false);\n\t}, [duplicateName, contextValue]);\n\n\tuseEffect(() => {\n\t\tif (gridRef && gridRef.current) gridRef.current.scrollIntoView({ behavior: \"auto\", block: \"nearest\" });\n\t\tif (context == null) {\n\t\t\tconst newContext: ContextItem = {\n\t\t\t\tid: \"empty\",\n\t\t\t\ttemplate: emptyJson,\n\t\t\t\tschemaUrl: new URL(\"https://fdc3.finos.org/schemas/1.2/context.schema.json\"),\n\t\t\t};\n\t\t\tsetContext(newContext);\n\t\t\tsetContextValue(emptyJson);\n\t\t}\n\t}, [context]);\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<DialogModal open={open} onClose={handleClose} onAgree={handleDeleteTemplate} selectedValue={deleteContext} />\n\t\t\t<Grid container spacing={1}>\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<Typography variant=\"h5\">Context templates:</Typography>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t<TableContainer className={classes.tableContainer}>\n\t\t\t\t\t\t<Table>\n\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t{contextStore.contextsList.map(({ id, template }, index) => (\n\t\t\t\t\t\t\t\t\t<TableRow\n\t\t\t\t\t\t\t\t\t\thover\n\t\t\t\t\t\t\t\t\t\trole=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\ttabIndex={-1}\n\t\t\t\t\t\t\t\t\t\tkey={`row-${index}`}\n\t\t\t\t\t\t\t\t\t\tselected={id === templateName?.value}\n\t\t\t\t\t\t\t\t\t\tref={id === templateName?.value ? gridRef : null}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<TableCell\n\t\t\t\t\t\t\t\t\t\t\tkey={`row-${index}-column-0`}\n\t\t\t\t\t\t\t\t\t\t\talign=\"left\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleChangeTemplate({ title: id, value: id })}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant=\"body2\">{id}</Typography>\n\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t<TableCell\n\t\t\t\t\t\t\t\t\t\t\tkey={`row-${index}-column-1`}\n\t\t\t\t\t\t\t\t\t\t\talign=\"left\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleChangeTemplate({ title: id, value: id })}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant=\"caption\">{template?.type}</Typography>\n\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t<TableCell key={`row-${index}-column-2`} align=\"right\">\n\t\t\t\t\t\t\t\t\t\t\t<Tooltip title=\"Duplicate Template\" aria-label=\"Copy code\">\n\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"Copy code example\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleDuplicateTemplate({ title: id, value: id })}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FileCopyOutlinedIcon className={classes.copy} />\n\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t<TableCell key={`row-${index}-column-3`} align=\"right\">\n\t\t\t\t\t\t\t\t\t\t\t<Tooltip title=\"Delete template\" aria-label=\"Delete template\">\n\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"Delete template\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleClickOpen(id, template?.name)}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteOutlinedIcon className={classes.delete} />\n\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t</Table>\n\t\t\t\t\t</TableContainer>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t\t<form className={classes.form} noValidate autoComplete=\"off\">\n\t\t\t\t<Grid container direction=\"row\" spacing={1}>\n\t\t\t\t\t<Grid item className={classes.controls}>\n\t\t\t\t\t\t<Button className={classes.button} variant=\"contained\" color=\"primary\" onClick={handleCreateTemplate}>\n\t\t\t\t\t\t\tCreate new template\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item className={classes.controls}>\n\t\t\t\t\t\t<Button className={classes.button} variant=\"contained\" color=\"primary\" onClick={handleResetTemplate}>\n\t\t\t\t\t\t\tReset templates\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</form>\n\n\t\t\t<form className={classes.form} noValidate autoComplete=\"off\" onSubmit={(e) => handleSaveTemplate(e)}>\n\t\t\t\t<Grid container direction=\"row\" spacing={1} className={classes.rightAlign}>\n\t\t\t\t\t<Grid item xs={12} className={`${classes.controls} ${classes.templateSelect}`}>\n\t\t\t\t\t\t<Grid item xs={6} className={classes.field}>\n\t\t\t\t\t\t\t<Grid item xs={12} className={classes.textField}>\n\t\t\t\t\t\t\t\t<Typography variant=\"h5\">Edit template:</Typography>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<TemplateTextField\n\t\t\t\t\t\t\t\tlabel=\"Template name\"\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\tplaceholder=\"Choose Context Template\"\n\t\t\t\t\t\t\t\tvalue={templateName?.value || \"\"}\n\t\t\t\t\t\t\t\tonChange={(e) => handleChangeTemplateName({ title: e.target.value, value: e.target.value })}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item xs={12} className={classes.controls}>\n\t\t\t\t\t\t<JsonInput\n\t\t\t\t\t\t\tjson={context?.template}\n\t\t\t\t\t\t\tonChange={handleContextChange}\n\t\t\t\t\t\t\tonJsonError={handleJsonError}\n\t\t\t\t\t\t\tschemaUrl={new URL(context?.schemaUrl || \"https://fdc3.finos.org/schemas/1.2/context.schema.json\")}\n\t\t\t\t\t\t\terror={contextError}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\n\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t<Tooltip title=\"Copy code\" aria-label=\"Copy code\">\n\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\taria-label=\"Copy code example\"\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\tonClick={copyToClipboard(`let context = ${JSON.stringify(contextValue, null, 2)}`, \"createContext\")}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<FileCopyIcon />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t</Tooltip>\n\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclassName={classes.button}\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tonClick={handleSaveTemplate}\n\t\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tSave Changes\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</form>\n\t\t</div>\n\t);\n});\n","import React, { useEffect, useState } from \"react\";\nimport { observer } from \"mobx-react\";\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\nimport appChannelStore from \"../store/AppChannelStore\";\nimport privateChannelStore from \"../store/PrivateChannelStore\";\nimport { Button, IconButton, Tooltip, Typography, Grid, Link } from \"@material-ui/core\";\nimport { ContextTemplates } from \"./ContextTemplates\";\nimport { ContextType } from \"../utility/Fdc3Api\";\nimport { copyToClipboard } from \"./common/CopyToClipboard\";\nimport { codeExamples } from \"../fixtures/codeExamples\";\nimport { openApiDocsLink } from \"../fixtures/openApiDocs\";\nimport FileCopyIcon from \"@material-ui/icons/FileCopy\";\nimport Autocomplete, { createFilterOptions } from \"@material-ui/lab/Autocomplete\";\nimport contextStore from \"../store/ContextStore\";\nimport { TemplateTextField } from \"./common/TemplateTextField\";\nimport InfoOutlinedIcon from \"@material-ui/icons/InfoOutlined\";\n\ninterface ListenerOptionType {\n\ttitle: string;\n\tvalue: string;\n\ttype: string | undefined;\n}\n\ninterface FilterOptionsState<T> {\n\tinputValue: string;\n\tgetOptionLabel: (option: T) => string;\n}\n\nconst listenerFilter = createFilterOptions<ListenerOptionType>();\n\nconst useStyles = makeStyles((theme: Theme) =>\n\tcreateStyles({\n\t\troot: {\n\t\t\tflexGrow: 1,\n\t\t},\n\t\ttitle: {\n\t\t\tdisplay: \"flex\",\n\t\t\talignItems: \"center\",\n\t\t\tjustifyContent: \"space-between\",\n\t\t},\n\t\tform: {\n\t\t\tdisplay: \"flex\",\n\t\t\tflexWrap: \"wrap\",\n\t\t\talignItems: \"center\",\n\t\t\tmarginTop: theme.spacing(1),\n\t\t\t\"& > *\": {\n\t\t\t\tmargin: theme.spacing(1),\n\t\t\t\tmarginLeft: \"0px\",\n\t\t\t},\n\t\t},\n\t\tcontextType: {\n\t\t\tflexGrow: 1,\n\t\t\tminWidth: \"190px\",\n\t\t},\n\t\ttopMargin: {\n\t\t\tmarginTop: theme.spacing(2),\n\t\t},\n\t\tsecondMargin: {\n\t\t\tmarginTop: theme.spacing(1),\n\t\t},\n\t\tcontrols: {\n\t\t\t\"& > *:first-child\": {\n\t\t\t\tmarginLeft: 0,\n\t\t\t},\n\t\t\t\"& > *\": {\n\t\t\t\tmarginRight: theme.spacing(1),\n\t\t\t},\n\t\t\t\"& > *:last-child\": {\n\t\t\t\tmarginRight: 0,\n\t\t\t},\n\t\t\t\"& .MuiIconButton-sizeSmall\": {\n\t\t\t\tpadding: \"6px 0px 6px 0px\",\n\t\t\t},\n\t\t\t\"& > a\": {\n\t\t\t\tdisplay: \"flex\",\n\t\t\t\tpadding: \"6px 0px 6px 0px\",\n\t\t\t},\n\t\t},\n\t\trightAlign: {\n\t\t\tflexDirection: \"row\",\n\t\t\tjustifyContent: \"flex-end\",\n\t\t},\n\t\tspread: {\n\t\t\tflexDirection: \"row\",\n\t\t\t\"& > *:first-child\": {\n\t\t\t\tpaddingLeft: \"0px\",\n\t\t\t},\n\t\t},\n\t\ttextField: {\n\t\t\twidth: \"100%\",\n\t\t\t\"& input\": {\n\t\t\t\theight: \"29px\",\n\t\t\t\tpadding: \"6px\",\n\t\t\t},\n\t\t},\n\t\th4: {\n\t\t\tfontSize: \"22px\",\n\t\t},\n\t\th6: {\n\t\t\tfontSize: \"14px\",\n\t\t},\n\t\tfield: {\n\t\t\tflexGrow: 1,\n\t\t\tmarginRight: theme.spacing(1),\n\t\t\tminWidth: \"190px\",\n\t\t},\n\t\tborder: {\n\t\t\theight: \"1px\",\n\t\t\twidth: \"100%\",\n\t\t\tbackgroundColor: \"#acb2c0\",\n\t\t\tmarginTop: \"24px\",\n\t\t\tmarginBottom: \"16px\",\n\t\t},\n\t\trightPadding: {\n\t\t\tpaddingRight: theme.spacing(0.5),\n\t\t}\n\t})\n);\n\nexport const ChannelField = observer(\n\t({\n\t\thandleTabChange,\n\t\tchannelsList,\n\t\tisPrivateChannel = false,\n\t\tchannelName,\n\t}: {\n\t\thandleTabChange: any;\n\t\tchannelsList: any;\n\t\tisPrivateChannel?: boolean;\n\t\tchannelName?: string;\n\t}) => {\n\t\tconst classes = useStyles();\n\t\tconst [contextItem, setContextItem] = useState<ContextType | null>(null);\n\t\tconst [currentChannelList, setCurrentChannelList] = useState<any>(channelsList);\n\n\t\tconst channelStore = isPrivateChannel ? privateChannelStore : appChannelStore;\n\n\t\tconst contextListenersOptionsAll: ListenerOptionType[] = contextStore.contextsList.map(({ id, template }) => {\n\t\t\treturn {\n\t\t\t\ttitle: id,\n\t\t\t\tvalue: id,\n\t\t\t\ttype: template?.type,\n\t\t\t};\n\t\t});\n\t\tcontextListenersOptionsAll.unshift({\n\t\t\ttitle: \"All\",\n\t\t\tvalue: \"all\",\n\t\t\ttype: \"All\",\n\t\t});\n\n\t\tconst contextListenersOptions = Array.from(\n\t\t\tnew Map(contextListenersOptionsAll.reverse().map((item) => [item[\"type\"], item])).values()\n\t\t).reverse();\n\n\t\tconst getOptionLabel = (option: ListenerOptionType) => option.type || option.title;\n\n\t\tconst handleAddContextListener = (channelId: string) => {\n\t\t\tlet foundChannel = currentChannelList.find((currentChannel: any) => currentChannel.id === channelId);\n\t\t\tif (!foundChannel) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (foundChannel?.currentListener) {\n\t\t\t\tif (channelStore.isContextListenerExists(channelId, foundChannel?.currentListener.type)) {\n\t\t\t\t\tfoundChannel.listenerError = \"Listener already added\";\n\t\t\t\t} else {\n\t\t\t\t\tchannelStore.addChannelListener(foundChannel, foundChannel.currentListener.type);\n\t\t\t\t\tfoundChannel.listenerError = \"\";\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfoundChannel.listenerError = \"Enter context type\";\n\t\t\t}\n\t\t};\n\n\t\tconst handleContextStateChange = (context: ContextType, channel: string) => {\n\t\t\tlet foundChannel = currentChannelList.find((currentChannel: any) => currentChannel.id === channel);\n\t\t\tif (foundChannel) {\n\t\t\t\tsetContextItem(context);\n\t\t\t\tfoundChannel.context = context;\n\t\t\t}\n\t\t};\n\n\t\tconst handleBroadcast = (channel: any) => {\n\t\t\tif (channel.context && contextItem) {\n\t\t\t\tchannelStore.broadcast(channel, contextItem);\n\t\t\t}\n\t\t};\n\n\t\tconst handleChangeAppListener = (channelId: string) => (event: React.ChangeEvent<{}>, newValue: any) => {\n\t\t\tlet foundChannel = currentChannelList.find((currentChannel: any) => currentChannel.id === channelId);\n\t\t\tif (!foundChannel) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet newListener;\n\t\t\tlet foundListener = channelStore.channelListeners?.find(\n\t\t\t\t(currentListener) => currentListener.type === newValue && currentListener.channelId === channelId\n\t\t\t);\n\t\t\tif (foundListener) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (typeof newValue === \"string\") {\n\t\t\t\tnewListener = {\n\t\t\t\t\ttitle: newValue,\n\t\t\t\t\tvalue: newValue,\n\t\t\t\t\ttype: newValue,\n\t\t\t\t};\n\t\t\t} else if (newValue && newValue.inputValue) {\n\t\t\t\tnewListener = {\n\t\t\t\t\ttitle: newValue.inputValue,\n\t\t\t\t\tvalue: newValue.inputValue,\n\t\t\t\t\ttype: newValue.inputValue,\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tnewListener = newValue;\n\t\t\t}\n\n\t\t\tfoundChannel.currentListener = newListener;\n\t\t\tfoundChannel.listenerError = \"\";\n\t\t};\n\n\t\tconst filterOptions = (options: ListenerOptionType[], params: FilterOptionsState<ListenerOptionType>) => {\n\t\t\tconst filtered = listenerFilter(options, params);\n\t\t\tif (params.inputValue !== \"\") {\n\t\t\t\tfiltered.push({\n\t\t\t\t\tvalue: params.inputValue,\n\t\t\t\t\ttitle: `Add \"${params.inputValue}\"`,\n\t\t\t\t\ttype: params.inputValue,\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn filtered;\n\t\t};\n\n\t\tconst handleRemoveOrDisconnect = (channel: any) => {\n\t\t\tif (isPrivateChannel) {\n\t\t\t\tprivateChannelStore.disconnect(channel);\n\t\t\t} else {\n\t\t\t\tappChannelStore.remove(channel);\n\t\t\t}\n\t\t\tsetCurrentChannelList(currentChannelList.filter((currentChannel: any) => currentChannel.id !== channel.id));\n\t\t};\n\n\t\tuseEffect(() => {\n\t\t\tsetCurrentChannelList(channelsList);\n\t\t}, [channelsList]);\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{currentChannelList.length > 0 &&\n\t\t\t\t\tcurrentChannelList.map((channel: any) => {\n\t\t\t\t\t\tconst element = (\n\t\t\t\t\t\t\t<Grid container key={channel.id} className={classes.spread}>\n\t\t\t\t\t\t\t\t<Grid item className={classes.field}>\n\t\t\t\t\t\t\t\t\t<Typography variant=\"h5\">Channel: {channel.id}</Typography>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid container className={classes.topMargin}>\n\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t<Typography variant=\"h5\" className={classes.h6}>\n\t\t\t\t\t\t\t\t\t\t\tBroadcast\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t\t\t\t<Grid item sm={7}>\n\t\t\t\t\t\t\t\t\t\t<ContextTemplates\n\t\t\t\t\t\t\t\t\t\t\thandleTabChange={handleTabChange}\n\t\t\t\t\t\t\t\t\t\t\tcontextStateSetter={handleContextStateChange}\n\t\t\t\t\t\t\t\t\t\t\tchannel={channel.id}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t<Grid item container className={classes.controls} sm={5} justifyContent=\"flex-end\">\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tdisabled={!channel.context}\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleBroadcast(channel)}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tBroadcast\n\t\t\t\t\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t\t\t\t\t<Tooltip title=\"Copy code example\" aria-label=\"Copy code example\">\n\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"Copy code example\"\n\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={copyToClipboard(codeExamples.appChannelBroadcast, \"channelBroadcast\")}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<FileCopyIcon />\n\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t\t<Link onClick={openApiDocsLink} target=\"FDC3APIDocs\" href=\"https://fdc3.finos.org/docs/api/ref/Channel#broadcast\">\n\t\t\t\t\t\t\t\t\t\t\t<InfoOutlinedIcon />\n\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid container className={classes.secondMargin}>\n\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t\t<Typography variant=\"h5\" className={classes.h6}>\n\t\t\t\t\t\t\t\t\t\t\tAdd Context Listener\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t<Grid item sm={7} className={classes.rightPadding}>\n\t\t\t\t\t\t\t\t\t\t<Autocomplete\n\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\tselectOnFocus\n\t\t\t\t\t\t\t\t\t\t\tblurOnSelect\n\t\t\t\t\t\t\t\t\t\t\tclearOnBlur\n\t\t\t\t\t\t\t\t\t\t\thandleHomeEndKeys\n\t\t\t\t\t\t\t\t\t\t\tvalue={channel.currentListener}\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleChangeAppListener(channel.id)}\n\t\t\t\t\t\t\t\t\t\t\tfilterOptions={filterOptions}\n\t\t\t\t\t\t\t\t\t\t\toptions={contextListenersOptions}\n\t\t\t\t\t\t\t\t\t\t\tgetOptionLabel={getOptionLabel}\n\t\t\t\t\t\t\t\t\t\t\trenderOption={(option) => option.type}\n\t\t\t\t\t\t\t\t\t\t\trenderInput={(params) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<TemplateTextField\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"CONTEXT TYPE\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Enter Context Type\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t{...params}\n\t\t\t\t\t\t\t\t\t\t\t\t\terror={!!channel.listenerError}\n\t\t\t\t\t\t\t\t\t\t\t\t\thelperText={channel.listenerError}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\tonKeyDown={(event) => {\n\t\t\t\t\t\t\t\t\t\t\t\tif (event.key === \"Enter\") {\n\t\t\t\t\t\t\t\t\t\t\t\t\tevent.defaultPrevented = true;\n\t\t\t\t\t\t\t\t\t\t\t\t\thandleAddContextListener(channel.id);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t\t\t\t<Grid item container className={classes.controls} sm={5} justifyContent=\"flex-end\">\n\t\t\t\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"primary\" onClick={() => handleAddContextListener(channel.id)}>\n\t\t\t\t\t\t\t\t\t\t\tAdd Listener\n\t\t\t\t\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t\t\t\t\t<Tooltip title=\"Copy code example\" aria-label=\"Copy code example\">\n\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"Copy code example\"\n\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={copyToClipboard(codeExamples.appChannelContextListener, \"addchannelContextListener\")}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<FileCopyIcon />\n\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t\t<Link onClick={openApiDocsLink} target=\"FDC3APIDocs\" href=\"https://fdc3.finos.org/docs/api/ref/Channel#addcontextlistener\">\n\t\t\t\t\t\t\t\t\t\t\t<InfoOutlinedIcon />\n\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={() => handleRemoveOrDisconnect(channel)} className={classes.secondMargin}>\n\t\t\t\t\t\t\t\t\t{isPrivateChannel ? \"Disconnect\" : \"Discard Channel\"}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<div className={classes.border}></div>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tif (channelName) {\n\t\t\t\t\t\t\treturn channel.id === channelName && element;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn element;\n\t\t\t\t\t\t}\n\t\t\t\t\t})}\n\t\t\t</div>\n\t\t);\n\t}\n);\n","import React, { useEffect, useState } from \"react\";\nimport { observer } from \"mobx-react\";\nimport { TextField } from \"@material-ui/core\";\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\nimport { ChannelField } from \"./ChannelField\";\nimport appChannelStore from \"../store/AppChannelStore\";\nimport privateChannelStore from \"../store/PrivateChannelStore\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n\tcreateStyles({\n\t\ttextField: {\n\t\t\tmarginTop: theme.spacing(2),\n\t\t\twidth: \"100%\",\n\t\t},\n\t\tinput: {\n\t\t\tfontSize: \"14px\",\n\t\t\tcolor: \"rgba(0, 0, 0, 0.6)\",\n\t\t},\n\t\t\"& .Mui-disabled\": {\n\t\t\tborderColor: theme.palette.text.primary,\n\t\t},\n\t})\n);\n\nexport const IntentResolutionField = observer(({ data, handleTabChange }: { data: any; handleTabChange: any }) => {\n\tconst classes = useStyles();\n\tconst [resolutionResult, setResolutionResult] = useState<any>(\"pending...\");\n\tconst [isChannel, setIsChannel] = useState(false);\n\tconst [privateChannel, setPrivateChannel] = useState(false);\n\tconst [channelsList, setChannelsList] = useState<any[]>([]);\n\tconst [channelName, setChannelName] = useState<string>(\"\");\n\n\tlet results = `appId: ${data.source.appId}\\ninstanceId: ${data.source.instanceId}`;\n\n\tconst displayIntentResults = async () => {\n\t\ttry {\n\t\t\tif (data.hasOwnProperty(\"getResult\")) {\n\t\t\t\tconst result = await data.getResult();\n\n\t\t\t\t//detect whether the result is Context or a Channel\n\t\t\t\tif (!!result?.broadcast) {\n\t\t\t\t\tsetResolutionResult(\"\");\n\n\t\t\t\t\t//App Channel\n\t\t\t\t\tif (result.type === \"app\") {\n\t\t\t\t\t\tawait appChannelStore.getOrCreateChannel(result.id);\n\t\t\t\t\t\tsetChannelName(result.id);\n\t\t\t\t\t\tsetIsChannel(true);\n\t\t\t\t\t\tsetChannelsList(appChannelStore.appChannelsList);\n\t\t\t\t\t}\n\n\t\t\t\t\t// Private Channel\n\t\t\t\t\tif (result.type === \"private\") {\n\t\t\t\t\t\tsetIsChannel(true);\n\t\t\t\t\t\tsetPrivateChannel(true);\n\t\t\t\t\t\tsetChannelsList([result]);\n\t\t\t\t\t\tprivateChannelStore.addChannelListener(result, \"all\");\n\t\t\t\t\t}\n\t\t\t\t\tsetResolutionResult(null);\n\t\t\t\t} else if (result) {\n\t\t\t\t\tsetResolutionResult(JSON.stringify(result, null, 2));\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tif (`${error}`.includes(\"NoResultReturned\")) setResolutionResult(\"<void>\");\n\t\t\telse setResolutionResult(`${error}`);\n\t\t\tconsole.error(`${data.source.appId} returned a result error: ${error}`);\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tdisplayIntentResults();\n\t}, []);\n\n\treturn (\n\t\t<div>\n\t\t\t<TextField\n\t\t\t\tdisabled\n\t\t\t\tlabel={\"Resolved By\"}\n\t\t\t\tInputLabelProps={{\n\t\t\t\t\tshrink: true,\n\t\t\t\t}}\n\t\t\t\tcontentEditable={false}\n\t\t\t\tfullWidth\n\t\t\t\tmultiline\n\t\t\t\tvariant=\"outlined\"\n\t\t\t\tsize=\"small\"\n\t\t\t\tvalue={results}\n\t\t\t\tInputProps={{\n\t\t\t\t\tclasses: {\n\t\t\t\t\t\tinput: classes.input,\n\t\t\t\t\t},\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t{resolutionResult && (\n\t\t\t\t<TextField\n\t\t\t\t\tdisabled\n\t\t\t\t\tlabel={\"Results\"}\n\t\t\t\t\tInputLabelProps={{\n\t\t\t\t\t\tshrink: true,\n\t\t\t\t\t}}\n\t\t\t\t\tcontentEditable={false}\n\t\t\t\t\tfullWidth\n\t\t\t\t\tmultiline\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tvalue={resolutionResult}\n\t\t\t\t\tInputProps={{\n\t\t\t\t\t\tclasses: {\n\t\t\t\t\t\t\tinput: classes.input,\n\t\t\t\t\t\t},\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t{isChannel && (\n\t\t\t\t<ChannelField\n\t\t\t\t\thandleTabChange={handleTabChange}\n\t\t\t\t\tchannelsList={channelsList}\n\t\t\t\t\tisPrivateChannel={privateChannel}\n\t\t\t\t\tchannelName={channelName}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</div>\n\t);\n});\n","import React, { ChangeEvent, useEffect, useState } from \"react\";\nimport fdc3, { AppIntent, ContextType, IntentResolution } from \"../utility/Fdc3Api\";\nimport { toJS } from \"mobx\";\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\nimport {\n\tButton,\n\tIconButton,\n\tTooltip,\n\tTypography,\n\tGrid,\n\tFormControl,\n\tInputLabel,\n\tMenuItem,\n\tSelect,\n\tRadio,\n\tTextField,\n\tSwitch,\n\tLink,\n\tListSubheader,\n} from \"@material-ui/core\";\nimport { observer } from \"mobx-react\";\nimport FileCopyIcon from \"@material-ui/icons/FileCopy\";\nimport AddCircleOutlineIcon from \"@material-ui/icons/AddCircleOutline\";\nimport Autocomplete, { createFilterOptions } from \"@material-ui/lab/Autocomplete\";\nimport { ContextTemplates } from \"../components/ContextTemplates\";\nimport intentStore from \"../store/IntentStore\";\nimport { codeExamples } from \"../fixtures/codeExamples\";\nimport { openApiDocsLink } from \"../fixtures/openApiDocs\";\nimport { TemplateTextField } from \"./common/TemplateTextField\";\nimport { copyToClipboard } from \"./common/CopyToClipboard\";\nimport { IntentResolutionField } from \"./IntentResolutionField\";\n\nimport { Checkbox } from \"@material-ui/core\";\nimport { FormGroup } from \"@material-ui/core\";\nimport { FormControlLabel } from \"@material-ui/core\";\nimport { RadioGroup } from \"@material-ui/core\";\nimport { ToggleButton, ToggleButtonGroup } from \"@material-ui/lab\";\nimport InfoOutlinedIcon from \"@material-ui/icons/InfoOutlined\";\nimport { AppMetadata } from \"fdc3-2.0\";\n\n// interface copied from lib @material-ui/lab/Autocomplete\ninterface FilterOptionsState<T> {\n\tinputValue: string;\n\tgetOptionLabel: (option: T) => string;\n}\n\ninterface ListenerOptionType {\n\ttitle: string;\n\tvalue: string;\n}\n\ntype ListenerSetValue = (value: ListenerOptionType | null) => void;\n\ntype ListenerSetError = (error: string | false) => void;\n\nconst useStyles = makeStyles((theme: Theme) =>\n\tcreateStyles({\n\t\troot: {\n\t\t\tflexGrow: 1,\n\t\t},\n\t\ttitle: {\n\t\t\tdisplay: \"flex\",\n\t\t\talignItems: \"center\",\n\t\t\tjustifyContent: \"space-between\",\n\t\t},\n\t\tform: {\n\t\t\tdisplay: \"flex\",\n\t\t\tflexWrap: \"wrap\",\n\t\t\talignItems: \"center\",\n\t\t\tmarginTop: theme.spacing(1),\n\t\t\t\"& > *\": {\n\t\t\t\tmargin: theme.spacing(1),\n\t\t\t\tmarginLeft: \"0px\",\n\t\t\t},\n\t\t},\n\t\tcontrols: {\n\t\t\t\"& > *:first-child\": {\n\t\t\t\tmarginLeft: 0,\n\t\t\t},\n\t\t\t\"& > *\": {\n\t\t\t\tmarginRight: theme.spacing(1),\n\t\t\t},\n\t\t\t\"& > *:last-child\": {\n\t\t\t\tmarginRight: 0,\n\t\t\t},\n\t\t\t\"& .MuiIconButton-sizeSmall\": {\n\t\t\t\tpadding: \"6px 0px 6px 0px\",\n\t\t\t},\n\t\t\t\"& > a\": {\n\t\t\t\tdisplay: \"flex\",\n\t\t\t\tpadding: \"6px 0px 6px 0px\",\n\t\t\t},\n\t\t\tdisplay: \"flex\",\n\t\t\talignItems: \"center\",\n\t\t},\n\t\trightAlign: {\n\t\t\tflexDirection: \"row\",\n\t\t\tjustifyContent: \"flex-end\",\n\t\t},\n\t\tspread: {\n\t\t\tflexDirection: \"row\",\n\t\t\t\"& > *:first-child\": {\n\t\t\t\tpaddingLeft: \"0px\",\n\t\t\t},\n\t\t},\n\t\ttextField: {\n\t\t\twidth: \"100%\",\n\t\t\t\"& input\": {\n\t\t\t\theight: \"29px\",\n\t\t\t\tpadding: \"6px\",\n\t\t\t},\n\t\t},\n\t\th4: {\n\t\t\tfontSize: \"22px\",\n\t\t},\n\t\tfield: {\n\t\t\tflexGrow: 1,\n\t\t\tmarginRight: theme.spacing(1),\n\t\t\tminWidth: \"190px\",\n\t\t},\n\t\tborder: {\n\t\t\theight: \"1px\",\n\t\t\twidth: \"100%\",\n\t\t\tbackgroundColor: \"#acb2c0\",\n\t\t\tmarginTop: \"24px\",\n\t\t\tmarginBottom: \"16px\",\n\t\t},\n\t\tbottomMargin: {\n\t\t\tmarginBottom: theme.spacing(1),\n\t\t},\n\t\tremoveSidePadding: {\n\t\t\tpaddingLeft: 0,\n\t\t},\n\t\ttargetSelect: {\n\t\t\twidth: \"100%\",\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t\trightPadding: {\n\t\t\tpaddingRight: theme.spacing(0.5),\n\t\t},\n\t\tinput: {\n\t\t\tcolor: \"#0086bf\",\n\t\t\toutline: \"1px\",\n\t\t\t\"&.Mui-checked\": {\n\t\t\t\tcolor: \"#0086bf\",\n\t\t\t},\n\t\t},\n\t\ttoggle: {\n\t\t\t\"&.Mui-selected\": {\n\t\t\t\tcolor: \"#0086bf\",\n\t\t\t\tbackgroundColor: \"rgba(0, 134, 191, 0.21)\",\n\t\t\t},\n\t\t},\n\t\tindentLeft: {\n\t\t\tmarginLeft: \"30px\",\n\t\t},\n\t\tcaption: {\n\t\t\tcolor: \"#0086bf\",\n\t\t\tmarginTop: \"10px\",\n\t\t},\n\t})\n);\n\nconst filter = createFilterOptions<ListenerOptionType>();\n\nexport const Intents = observer(({ handleTabChange }: { handleTabChange: any }) => {\n\tconst classes = useStyles();\n\tconst [intentValue, setIntentValue] = useState<ListenerOptionType | null>(null);\n\tconst [raiseIntentError, setRaiseIntentError] = useState<string | false>(false);\n\tconst [intentListener, setIntentListener] = useState<ListenerOptionType | null>(null);\n\tconst [intentsForContext, setIntentsForContext] = useState<ListenerOptionType[] | null>(null);\n\tconst [targetApp, setTargetApp] = useState<AppMetadata | null>(null);\n\tconst [contextTargetApp, setContextTargetApp] = useState<any | null>(null);\n\tconst [raiseIntentContext, setRaiseIntentContext] = useState<ContextType | null>(null);\n\tconst [raiseIntentWithContextContext, setRaiseIntentWithContextContext] = useState<ContextType | null>(null);\n\tconst [intentError, setIntentError] = useState<string | false>(false);\n\tconst [intentResolution, setIntentResolution] = useState<IntentResolution | undefined | null>(null);\n\tconst [intentForContextResolution, setIntentForContextResolution] = useState<IntentResolution | undefined | null>(\n\t\tnull\n\t);\n\tconst intentListenersOptions: ListenerOptionType[] = intentStore.intentsList;\n\tconst [contextFields, setContextFields] = useState<any[]>([]);\n\tconst [resultTypeContext, setResultTypeContext] = useState<ContextType | null>(null);\n\tconst [resultOverChannelContextList, setResultOverChannelContextList] = useState<any>({});\n\tconst [resultOverChannelContextDelays, setResultOverChannelContextDelays] = useState<any>({});\n\tconst [sendIntentResult, setSendIntentResult] = useState<boolean | undefined>(false);\n\tconst [resultType, setResultType] = useState<string | null>(null);\n\tconst [useTargets, setUseTargets] = useState<boolean>(false);\n\tconst [useContextTargets, setUseContextTargets] = useState<boolean>(false);\n\tconst [channelType, setChannelType] = useState<string | null>(\"app-channel\");\n\tconst [sendResultOverChannel, setSendResultOverChannel] = useState<boolean | undefined>(false);\n\tconst [currentAppChannelId, setCurrentAppChannelId] = useState<string>(\"\");\n\tconst [targetOptions, setTargetOptions] = useState<AppMetadata[]>([]);\n\tconst [targetOptionsforContext, setTargetOptionsforContext] = useState<AppMetadata[]>([]);\n\n\tconst handleRaiseIntent = async () => {\n\t\tsetIntentResolution(null);\n\t\tif (!intentValue) {\n\t\t\tsetRaiseIntentError(\"enter intent name\");\n\t\t} else if (!raiseIntentContext) {\n\t\t\tsetRaiseIntentError(\"enter context name\");\n\t\t} else if (targetApp) {\n\t\t\tsetIntentResolution(await intentStore.raiseIntent(intentValue.value, raiseIntentContext, targetApp));\n\t\t\tsetRaiseIntentError(\"\");\n\t\t} else {\n\t\t\tsetIntentResolution(await intentStore.raiseIntent(intentValue.value, raiseIntentContext));\n\t\t\tsetRaiseIntentError(\"\");\n\t\t}\n\t};\n\n\tconst handleRaiseIntentForContext = async () => {\n\t\tif (!raiseIntentWithContextContext) {\n\t\t\treturn;\n\t\t}\n\t\tif (contextTargetApp) {\n\t\t\tsetIntentForContextResolution(\n\t\t\t\tawait intentStore.raiseIntentForContext(raiseIntentWithContextContext, contextTargetApp)\n\t\t\t);\n\t\t} else {\n\t\t\tsetIntentForContextResolution(await intentStore.raiseIntentForContext(raiseIntentWithContextContext));\n\t\t}\n\t};\n\n\tconst clearTargets = () => {\n\t\tsetTargetApp(null);\n\t\tsetTargetOptions([]);\n\t};\n\n\tconst clearContextTargets = () => {\n\t\tsetContextTargetApp(null);\n\t\tsetUseContextTargets(false);\n\t\tsetTargetOptionsforContext([]);\n\t};\n\n\tconst handleTargetChange = (event: React.ChangeEvent<{value: unknown}>) => {\n\t\tif (event.target.value === \"None\") {\n\t\t\tsetTargetApp(null);\n\t\t} else {\n\t\t\tconst targetObj = JSON.parse(event.target.value as string);\n\t\t\tlet target = {\n\t\t\t\tappId: targetObj.appId || targetObj.name, \n\t\t\t\t...(targetObj.instanceId && {instanceId: targetObj.instanceId || \"\"})\n\t\t\t};\n\t\t\tsetTargetApp(target);\n\t\t}\n\t};\n\n\tconst handleContextTargetChange = (event: React.ChangeEvent<{ value: unknown }>) => {\n\t\t\tif (event.target.value === \"None\") {\n\t\t\t\tsetContextTargetApp(null);\n\t\t\t} else {\n\t\t\t\tconst contextTargetObj = JSON.parse(event.target.value as string);\n\t\t\t\tconst currentTargetApp = {\n\t\t\t\t\tappId: contextTargetObj.appId || contextTargetObj.name, \n\t\t\t\t\t...(contextTargetObj.instanceId && {instanceId: contextTargetObj.instanceId || \"\"})\n\t\t\t\t};\n\t\t\t\tsetContextTargetApp(currentTargetApp);\n\t\t\t}\n\t};\n\n\tconst handleChangeListener =\n\t\t(setValue: ListenerSetValue, setError: ListenerSetError) => (event: React.ChangeEvent<{}>, newValue: any) => {\n\t\t\tif (typeof newValue === \"string\") {\n\t\t\t\tsetValue({\n\t\t\t\t\ttitle: newValue,\n\t\t\t\t\tvalue: newValue,\n\t\t\t\t});\n\t\t\t} else if (newValue && newValue.inputValue) {\n\t\t\t\tsetValue({\n\t\t\t\t\ttitle: newValue.inputValue,\n\t\t\t\t\tvalue: newValue.inputValue,\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tsetValue(newValue);\n\t\t\t}\n\n\t\t\tsetError(false);\n\t\t};\n\n\tconst getOptionLabel = (option: ListenerOptionType) => option.value || option.title;\n\n\tconst filterOptions = (options: ListenerOptionType[], params: FilterOptionsState<ListenerOptionType>) => {\n\t\tconst filtered = filter(options, params);\n\n\t\tif (params.inputValue !== \"\") {\n\t\t\tfiltered.push({\n\t\t\t\tvalue: params.inputValue,\n\t\t\t\ttitle: `Add \"${params.inputValue}\"`,\n\t\t\t});\n\t\t}\n\n\t\treturn filtered;\n\t};\n\n\tconst getIntent = (intents:AppIntent[] ) =>intents.find((currIntent: any)=>currIntent.intent.name === intentValue?.value);\n\n\tconst handleTargetMenuOpen = () => {\n\t\tconst fetchAppsInstances = async () => {\n\t\t\tlet appIntents = await fdc3.findIntentsByContext(toJS(raiseIntentContext) as ContextType);\n\t\t\tlet foundIntent = getIntent(appIntents);\n\t\t\tif(!foundIntent?.apps) {\n\t\t\t\tsetUseTargets(false);\n\t\t\t\tclearTargets();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst sortedApps: any[] = [];\n\t\t\tconst fullApps: any[] = [];\n\n\t\t\tfoundIntent.apps .forEach((currentApp: any)=>{\n\t\t\t\tlet foundAppIndex = sortedApps.find((app)=>app.appId === currentApp.appId);\n\t\t\t\tif(!foundAppIndex) {\n\t\t\t\t\tif (!currentApp?.instanceId) {\n\t\t\t\t\t\tsortedApps.push({\n\t\t\t\t\t\t\tappId: currentApp.appId || currentApp.name,\n\t\t\t\t\t\t\tapp: currentApp\n\t\t\t\t\t\t});\n\t\t\t\t\t} else if(window.fdc3Version.includes(\"2.0\")){\n\t\t\t\t\t\tsortedApps.push({\n\t\t\t\t\t\t\tappId: currentApp.appId || currentApp.name,\n\t\t\t\t\t\t\tinstances: [currentApp]\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif (!currentApp.instanceId) {\n\t\t\t\t\t\tfoundAppIndex.app = currentApp;\n\t\t\t\t\t} else if(window.fdc3Version.includes(\"2.0\")){\n\t\t\t\t\t\tfoundAppIndex.instances = foundAppIndex.instances ? foundAppIndex.instances.concat([currentApp]) : [currentApp];\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t});\t\n\n\t\t\tif (sortedApps.length < 1) {\n\t\t\t\tfullApps.push(\n\t\t\t\t\t<MenuItem value=\"\" disabled>\n\t\t\t\t\t\tNo Target Apps Found\n\t\t\t\t\t</MenuItem>\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tfullApps.push(\n\t\t\t\t\t<MenuItem key=\"\" value=\"None\">\n\t\t\t\t\t\tNone\n\t\t\t\t\t</MenuItem>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tsortedApps.map((appSet) => {\n\t\t\t\t\n\t\t\t\tif(appSet.app && window.fdc3Version.includes(\"2.0\")) {\n\t\t\t\t\tfullApps.push(\n\t\t\t\t\t\t<ListSubheader>Launch New: ({appSet.appId})</ListSubheader>\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tfullApps.push(\n\t\t\t\t<MenuItem className=\"app\" key={appSet?.app.appId || appSet?.app.name} value={JSON.stringify(appSet?.app)}>\n\t\t\t\t\t{appSet?.app.appId || appSet?.app.name}\n\t\t\t\t</MenuItem>\n\t\t\t\t);\n\t\t\t\t\n\t\t\t\tif(appSet.instances?.length && window.fdc3Version.includes(\"2.0\")) {\n\t\t\t\t\tfullApps.push(<ListSubheader>Launch Existing: ({appSet.appId})</ListSubheader>);\n\t\t\t\t}\n\t\t\t\tappSet?.instances?.map((target: any) => {\n\t\t\t\t\tfullApps.push(\n\t\t\t\t\t<MenuItem className=\"instance\" key={target.instanceId} value={JSON.stringify(target)}>\n\t\t\t\t\t\t{target.instanceId}\n\t\t\t\t\t</MenuItem>\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t\t\n\t\t\t});\n\t\t\tsetTargetOptions(fullApps);\n\n\t\t}\n\t\tfetchAppsInstances();\n\t};\n\n\tconst handleContextTargetMenuOpen = () => {\n\t\tconst fetchIntents = async () => {\n\t\t\ttry {\n\t\t\t\tlet appIntentsForContext = await fdc3.findIntentsByContext(toJS(raiseIntentWithContextContext) as ContextType ) || [];\t\t\t\n\t\t\t\t\n\t\t\t\tif (appIntentsForContext.length > 0) {\n\n\t\t\t\t\tlet sortedIntents: any[] = [];\n\t\t\t\t\t\n\t\t\t\t\tappIntentsForContext.map((currentIntent)=>{\n\t\t\t\t\t\tlet foundIntent = sortedIntents.find((currentLoopIntent)=>currentIntent.intent.name === currentLoopIntent.intent);\n\t\t\t\t\t\tif(!foundIntent) {\n\t\t\t\t\t\t\tlet sortedApps: any[] = [];\n\t\t\t\t\t\t\tcurrentIntent.apps.forEach((currentApp: any)=>{\n\t\t\t\t\t\t\t\tlet foundAppIndex = sortedApps.find((app)=>app.appId === currentApp.appId);\n\t\t\t\t\t\t\t\tif(!foundAppIndex) {\n\t\t\t\t\t\t\t\t\tif (!currentApp.instanceId) {\n\t\t\t\t\t\t\t\t\t\tsortedApps.push({\n\t\t\t\t\t\t\t\t\t\t\tappId: currentApp.appId || currentApp.name,\n\t\t\t\t\t\t\t\t\t\t\tapp: currentApp\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t} else if(window.fdc3Version.includes(\"2.0\")){\n\t\t\t\t\t\t\t\t\t\tsortedApps.push({\n\t\t\t\t\t\t\t\t\t\t\tappId: currentApp.appId || currentApp.name,\n\t\t\t\t\t\t\t\t\t\t\tinstances: [currentApp]\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\tif (!currentApp.instanceId) {\n\t\t\t\t\t\t\t\t\t\tfoundAppIndex.app = currentApp;\n\t\t\t\t\t\t\t\t\t} else if(window.fdc3Version.includes(\"2.0\")){\n\t\t\t\t\t\t\t\t\t\tfoundAppIndex.instances = foundAppIndex.instances ? foundAppIndex.instances.concat([currentApp]) : [currentApp];\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tsortedIntents.push({intent: currentIntent.intent.name, sortedApps });\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tconst fullContextApps: any[] = [];\n\t\t\t\t\tlet totalNumApps = 0;\n\t\t\t\t\tlet totalNumInstances = 0;\n\t\t\t\t\tsortedIntents.map((sI: any)=>{\n\t\t\t\t\t\ttotalNumApps = totalNumApps + (sI.sortedApps.length || 0);\n\t\t\t\t\t\tsI.sortedApps.map((sII: any)=>{\n\t\t\t\t\t\t\ttotalNumInstances = totalNumInstances + ( sII.instances?.length || 0)\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t\tif(totalNumApps > 0){\n\t\t\t\t\t\tfullContextApps.push(\n\t\t\t\t\t\t\t<MenuItem key=\"\" value=\"None\">\n\t\t\t\t\t\t\t\tNone\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfullContextApps.push(\n\t\t\t\t\t\t\t<MenuItem value=\"\" disabled>\n\t\t\t\t\t\t\t\tNo Target Apps Found\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tsortedIntents.map((currentSortedIntent)=>{\n\t\t\t\t\t\tcurrentSortedIntent.sortedApps.map((appSet: any)=>{\n\t\t\t\t\t\t\tif(appSet.app) {\n\t\t\t\t\t\t\t\tif( window.fdc3Version == \"2.0\") {\n\t\t\t\t\t\t\t\t\tfullContextApps.push(<ListSubheader>Launch new ({appSet.appId}):</ListSubheader>);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tfullContextApps.push(\n\t\t\t\t\t\t\t\t\t<MenuItem value={JSON.stringify(appSet.app)} key={appSet.app.name}>\n\t\t\t\t\t\t\t\t\t\t{currentSortedIntent.intent} - {appSet.app.name}\n\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif(appSet.instances?.length){\n\t\t\t\t\t\t\t\tif(window.fdc3Version == \"2.0\" ) {\n\t\t\t\t\t\t\t\t\tfullContextApps.push(<ListSubheader>Launch Existing: ({appSet.appId})</ListSubheader>);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tappSet.instances.map((target: any) => {\n\t\t\t\t\t\t\t\t\tfullContextApps.push(<MenuItem key={target.instanceId} value={JSON.stringify(target)}>\n\t\t\t\t\t\t\t\t\t\t{currentSortedIntent.intent} - {target.instanceId}\n\t\t\t\t\t\t\t\t\t</MenuItem>);\n\t\t\t\t\t\t\t\t});\t\n\t\t\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t});\n\t\t\t\t\t})\n\t\t\t\t\t\n\t\t\t\t\tsetTargetOptionsforContext(fullContextApps);\n\t\t\t\t}\n\n\t\t\t} catch (e) {\n\t\t\t\tconst fullContextApps: any[] = [];\n\t\t\t\tfullContextApps.push(\n\t\t\t\t\t<MenuItem value=\"\" disabled>\n\t\t\t\t\t\tNo Target Apps Found\n\t\t\t\t\t</MenuItem>\n\t\t\t\t);\n\t\t\t\tsetTargetOptionsforContext(fullContextApps);\n\t\t\t\tconsole.log(e);\n\t\t\t}\t\n\t\t};\n\t\tfetchIntents();\n\t}\n\n\tconst handleAddIntentListener = () => {\n\t\tif (!intentListener) {\n\t\t\tsetIntentError(\"Enter intent\");\n\t\t\treturn;\n\t\t} else {\n\t\t\tintentStore.addIntentListener(\n\t\t\t\tintentListener.value,\n\t\t\t\ttoJS(resultTypeContext),\n\t\t\t\tcurrentAppChannelId,\n\t\t\t\tchannelType === \"private-channel\",\n\t\t\t\tresultOverChannelContextList,\n\t\t\t\tresultOverChannelContextDelays\n\t\t\t);\n\t\t\tsetIntentListener(null);\n\t\t}\n\t\tsetSendIntentResult(false);\n\t};\n\n\tconst handleChannelTypeChange = (event: React.MouseEvent<HTMLElement>, nextView: string) => {\n\t\tsetChannelType(nextView);\n\t};\n\n\tconst handleTargetToggle = (event: ChangeEvent<HTMLInputElement>, checked: boolean) => {\n\t\tsetUseTargets(checked);\n\t\tif (!checked) {\n\t\t\tclearTargets();\n\t\t}\n\t};\n\n\tconst handleContextTargetToggle = (event: ChangeEvent<HTMLInputElement>, checked: boolean) => {\n\t\tsetUseContextTargets(checked);\n\t\tif (!checked) {\n\t\t\tclearContextTargets();\n\t\t}\n\t};\n\n\tconst setChannelContextList = (context: ContextType, index: number) => {\n\t\tsetResultOverChannelContextList((curr: any) => {\n\t\t\treturn { ...curr, [index]: context };\n\t\t});\n\t};\n\n\tconst setChannelContextDelay = (delay: string, index: number) => {\n\t\tsetResultOverChannelContextDelays((curr: any) => {\n\t\t\tconst lastDelay = curr[index - 1] || 0;\n\t\t\treturn { ...curr, [index]: lastDelay + Number(delay) };\n\t\t});\n\t};\n\n\tconst handleAddContextField = () => {\n\t\tsetContextFields((current) => [\n\t\t\t...current,\n\t\t\t<Grid container direction=\"row\" key={contextFields.length}>\n\t\t\t\t<Grid item className={classes.indentLeft}>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tlabel=\"Delay (ms)\"\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tonChange={(e) => setChannelContextDelay(e.target.value, contextFields.length)}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item className={`${classes.indentLeft} ${classes.field}`}>\n\t\t\t\t\t<ContextTemplates\n\t\t\t\t\t\thandleTabChange={handleTabChange}\n\t\t\t\t\t\tcontextStateSetter={(context: any) => setChannelContextList(context, contextFields.length)}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t</Grid>,\n\t\t]);\n\t};\n\n\tuseEffect(() => {\n\t\tsetIntentValue(null);\n\t\tconst fetchIntents = async () => {\n\t\t\ttry {\n\t\t\t\tif (!raiseIntentContext) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tsetRaiseIntentError(false);\n\t\t\t\tlet appIntents = await fdc3.findIntentsByContext(toJS(raiseIntentContext));\n\n\t\t\t\tsetUseTargets(false);\n\t\t\t\tclearTargets();\n\n\t\t\t\tif (appIntents.length > 0) {\n\t\t\t\t\t\n\t\t\t\t\tsetIntentsForContext(\n\t\t\t\t\t\tappIntents.map(({ intent }: { intent: any }) => {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\ttitle: intent.name,\n\t\t\t\t\t\t\t\tvalue: intent.name,\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t})\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tsetIntentsForContext([]);\n\t\t\t\tsetRaiseIntentError(\"no intents found\");\n\t\t\t}\n\t\t};\n\t\tfetchIntents();\n\t}, [raiseIntentContext]);\n\n\tuseEffect(() => {\n\t\tif (!intentValue) {\n\t\t\tsetUseTargets(false);\n\t\t\tclearTargets();\n\t\t\treturn;\n\t\t}\n\t}, [intentValue]);\n\n\tuseEffect(() => {\n\t\tclearContextTargets();\n\t\tif (!raiseIntentWithContextContext) {\n\t\t\tsetUseContextTargets(false);\n\t\t\treturn;\n\t\t}\t\t\n\n\t}, [raiseIntentWithContextContext]);\n\n\tuseEffect(() => {\n\t\tif (sendResultOverChannel) {\n\t\t\thandleAddContextField();\n\t\t} else {\n\t\t\tsetContextFields([]);\n\t\t}\n\t}, [sendResultOverChannel]);\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Grid item xs={12}>\n\t\t\t\t<Typography variant=\"h5\">Raise Intent</Typography>\n\t\t\t</Grid>\n\n\t\t\t<form className={classes.form} noValidate autoComplete=\"off\">\n\t\t\t\t<Grid container direction=\"row\" spacing={2}>\n\t\t\t\t\t<Grid container item spacing={2} justifyContent=\"flex-end\" className={classes.spread}>\n\t\t\t\t\t\t<Grid item className={classes.field}>\n\t\t\t\t\t\t\t<ContextTemplates handleTabChange={handleTabChange} contextStateSetter={setRaiseIntentContext} />\n\t\t\t\t\t\t\t<Autocomplete\n\t\t\t\t\t\t\t\tclassName={classes.rightPadding}\n\t\t\t\t\t\t\t\tid=\"raise-intent\"\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tselectOnFocus\n\t\t\t\t\t\t\t\tblurOnSelect\n\t\t\t\t\t\t\t\tclearOnBlur\n\t\t\t\t\t\t\t\thandleHomeEndKeys\n\t\t\t\t\t\t\t\tvalue={intentValue}\n\t\t\t\t\t\t\t\tonChange={handleChangeListener(setIntentValue, setRaiseIntentError)}\n\t\t\t\t\t\t\t\tfilterOptions={filterOptions}\n\t\t\t\t\t\t\t\toptions={intentsForContext || intentListenersOptions}\n\t\t\t\t\t\t\t\tgetOptionLabel={getOptionLabel}\n\t\t\t\t\t\t\t\trenderOption={(option) => option.title}\n\t\t\t\t\t\t\t\trenderInput={(params) => (\n\t\t\t\t\t\t\t\t\t<TemplateTextField\n\t\t\t\t\t\t\t\t\t\tlabel=\"INTENT TYPE\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Enter Intent Type\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t{...params}\n\t\t\t\t\t\t\t\t\t\terror={!!raiseIntentError}\n\t\t\t\t\t\t\t\t\t\thelperText={raiseIntentError}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Grid className={classes.rightPadding}>\n\t\t\t\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t\t<Switch\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={useTargets}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleTargetToggle}\n\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!intentValue}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tlabel=\"Select Target\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</FormGroup>\n\n\t\t\t\t\t\t\t\t{useTargets && (\n\t\t\t\t\t\t\t\t\t<FormControl variant=\"outlined\" size=\"small\" className={classes.targetSelect}>\n\t\t\t\t\t\t\t\t\t\t<InputLabel id=\"intent-target-app\">Target App (optional)</InputLabel>\n\t\t\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\t\t\tlabelId=\"intent-target-app\"\n\t\t\t\t\t\t\t\t\t\t\tid=\"intent-target-app-select\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={targetApp?.instanceId || targetApp?.appId }\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleTargetChange}\n\t\t\t\t\t\t\t\t\t\t\tonOpen={handleTargetMenuOpen}\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Target App (optional)\"\n\t\t\t\t\t\t\t\t\t\t\tMenuProps={{\n\t\t\t\t\t\t\t\t\t\t\t\tanchorOrigin: {\n\t\t\t\t\t\t\t\t\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\t\t\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\ttransformOrigin: {\n\t\t\t\t\t\t\t\t\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\t\t\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\tgetContentAnchorEl: null,\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{targetOptions}\n\t\t\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item className={classes.controls}>\n\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"primary\" onClick={handleRaiseIntent} disabled={!intentValue}>\n\t\t\t\t\t\t\t\tRaise Intent\n\t\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t\t<Tooltip title=\"Copy code example\" aria-label=\"Copy code example\">\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\taria-label=\"Copy code example\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tconst context = JSON.stringify(raiseIntentContext, null, 2);\n\t\t\t\t\t\t\t\t\t\tconst intent = String(intentValue);\n\n\t\t\t\t\t\t\t\t\t\tlet exampleToUse = codeExamples.raiseIntent(context, intent);\n\t\t\t\t\t\t\t\t\t\tif (targetApp?.instanceId) {\n\t\t\t\t\t\t\t\t\t\t\texampleToUse = codeExamples.raiseIntentInstance(context, intent);\n\t\t\t\t\t\t\t\t\t\t} else if (targetApp) {\n\t\t\t\t\t\t\t\t\t\t\texampleToUse = codeExamples.raiseIntentTarget(context, intent);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tcopyToClipboard(exampleToUse, \"raiseIntent\")();\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<FileCopyIcon />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t</Tooltip>\n\n\t\t\t\t\t\t\t<Link onClick={openApiDocsLink} target=\"FDC3APIDocs\" href=\"https://fdc3.finos.org/docs/api/ref/DesktopAgent#raiseintent\">\n\t\t\t\t\t\t\t\t<InfoOutlinedIcon />\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t{intentResolution?.source && (\n\t\t\t\t\t\t<Grid container item spacing={2} justifyContent=\"flex-end\" className={classes.spread}>\n\t\t\t\t\t\t\t<Grid item className={classes.textField}>\n\t\t\t\t\t\t\t\t<IntentResolutionField data={intentResolution} handleTabChange={handleTabChange} />\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={() => setIntentResolution(null)}>\n\t\t\t\t\t\t\t\t\tClear result\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t)}\n\t\t\t\t\t<div className={classes.border}></div>\n\n\t\t\t\t\t<Grid container item spacing={2} justifyContent=\"flex-end\" className={classes.spread}>\n\t\t\t\t\t\t<Grid item xs={12} className={classes.bottomMargin}>\n\t\t\t\t\t\t\t<Typography variant=\"h5\">Raise Intent for Context</Typography>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item className={`${classes.field} ${classes.removeSidePadding}`}>\n\t\t\t\t\t\t\t<ContextTemplates\n\t\t\t\t\t\t\t\thandleTabChange={handleTabChange}\n\t\t\t\t\t\t\t\tcontextStateSetter={setRaiseIntentWithContextContext}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Grid className={classes.rightPadding}>\n\t\t\t\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t\t<Switch checked={useContextTargets} color=\"primary\" onChange={handleContextTargetToggle} />\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tlabel=\"Select Target\"\n\t\t\t\t\t\t\t\t\t\tdisabled={!raiseIntentWithContextContext }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</FormGroup>\n\n\t\t\t\t\t\t\t\t{useContextTargets && (\n\t\t\t\t\t\t\t\t\t<FormControl variant=\"outlined\" size=\"small\" className={classes.targetSelect}>\n\t\t\t\t\t\t\t\t\t\t<InputLabel id=\"intent-context-target-app\">Target (optional)</InputLabel>\n\t\t\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\t\t\tlabelId=\"intent-context-target-app\"\n\t\t\t\t\t\t\t\t\t\t\tid=\"intent-context-target-app-select\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={contextTargetApp?.instanceId || contextTargetApp?.appId}\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleContextTargetChange}\n\t\t\t\t\t\t\t\t\t\t\tonOpen={handleContextTargetMenuOpen}\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Target App (optional)\"\n\t\t\t\t\t\t\t\t\t\t\tMenuProps={{\n\t\t\t\t\t\t\t\t\t\t\t\tanchorOrigin: {\n\t\t\t\t\t\t\t\t\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\t\t\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\ttransformOrigin: {\n\t\t\t\t\t\t\t\t\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\t\t\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\tgetContentAnchorEl: null,\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{targetOptionsforContext}\n\t\t\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item className={classes.controls}>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tdisabled={!raiseIntentWithContextContext}\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\tonClick={handleRaiseIntentForContext}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tRaise intent for context\n\t\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t\t<Tooltip title=\"Copy code example\" aria-label=\"Copy code example\">\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\taria-label=\"Copy code example\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tconst context = JSON.stringify(raiseIntentWithContextContext, null, 2);\n\t\t\t\t\t\t\t\t\t\tlet exampleToUse = codeExamples.raiseIntentForContext(context);\n\t\t\t\t\t\t\t\t\t\tif (contextTargetApp?.instanceId) {\n\t\t\t\t\t\t\t\t\t\t\texampleToUse = codeExamples.raiseIntentForContextInstance(context);\n\t\t\t\t\t\t\t\t\t\t} else if (contextTargetApp) {\n\t\t\t\t\t\t\t\t\t\t\texampleToUse = codeExamples.raiseIntentForContextTarget(context);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tcopyToClipboard(exampleToUse, \"raiseIntentForContext\")();\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<FileCopyIcon />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t</Tooltip>\n\n\t\t\t\t\t\t\t<Link onClick={openApiDocsLink} target=\"FDC3APIDocs\" href=\"https://fdc3.finos.org/docs/api/ref/DesktopAgent#raiseintentforcontext\">\n\t\t\t\t\t\t\t\t<InfoOutlinedIcon />\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t{intentForContextResolution?.source && (\n\t\t\t\t\t\t<Grid container item spacing={2} justifyContent=\"flex-end\" className={classes.spread}>\n\t\t\t\t\t\t\t<Grid item className={classes.textField}>\n\t\t\t\t\t\t\t\t<IntentResolutionField data={intentForContextResolution} handleTabChange={handleTabChange} />\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" onClick={() => setIntentResolution(null)}>\n\t\t\t\t\t\t\t\t\tClear result\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t)}\n\t\t\t\t\t<div className={classes.border}></div>\n\n\t\t\t\t\t<Grid container item spacing={2} justifyContent=\"flex-end\" className={classes.spread}>\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<Typography className={classes.bottomMargin} variant=\"h5\">\n\t\t\t\t\t\t\t\tAdd Intent Listener\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item className={`${classes.field} ${classes.removeSidePadding}`}>\n\t\t\t\t\t\t\t<Autocomplete\n\t\t\t\t\t\t\t\tid=\"intent-listener\"\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\tselectOnFocus\n\t\t\t\t\t\t\t\tblurOnSelect\n\t\t\t\t\t\t\t\tclearOnBlur\n\t\t\t\t\t\t\t\thandleHomeEndKeys\n\t\t\t\t\t\t\t\tvalue={intentListener}\n\t\t\t\t\t\t\t\tonChange={handleChangeListener(setIntentListener, setIntentError)}\n\t\t\t\t\t\t\t\tfilterOptions={filterOptions}\n\t\t\t\t\t\t\t\toptions={intentListenersOptions}\n\t\t\t\t\t\t\t\tgetOptionLabel={getOptionLabel}\n\t\t\t\t\t\t\t\trenderOption={(option) => option.title}\n\t\t\t\t\t\t\t\trenderInput={(params) => (\n\t\t\t\t\t\t\t\t\t<TemplateTextField\n\t\t\t\t\t\t\t\t\t\tlabel=\"INTENT LISTENER\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Enter Intent Type\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t{...params}\n\t\t\t\t\t\t\t\t\t\terror={!!intentError}\n\t\t\t\t\t\t\t\t\t\thelperText={intentError}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t<Grid item className={classes.controls}>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\tonClick={handleAddIntentListener}\n\t\t\t\t\t\t\t\tdisabled={intentListener === null}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tAdd Listener\n\t\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t\t<Tooltip title=\"Copy code example\" aria-label=\"Copy code example\">\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\taria-label=\"Copy code example\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tlet exampleToUse = codeExamples.intentListener;\n\t\t\t\t\t\t\t\t\t\tif (resultType === \"context-result\") {\n\t\t\t\t\t\t\t\t\t\t\texampleToUse = codeExamples.intentListenerWithContextResult;\n\t\t\t\t\t\t\t\t\t\t} else if (resultType === \"channel-result\") {\n\t\t\t\t\t\t\t\t\t\t\tif (channelType === \"app-channel\") {\n\t\t\t\t\t\t\t\t\t\t\t\texampleToUse = codeExamples.intentListenerWithAppChannel;\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\texampleToUse = codeExamples.intentListenerWithPrivateChannel;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tcopyToClipboard(exampleToUse, \"addIntentListener\")();\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<FileCopyIcon />\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t</Tooltip>\n\n\t\t\t\t\t\t\t<Link onClick={openApiDocsLink} target=\"FDC3APIDocs\" href=\"https://fdc3.finos.org/docs/api/ref/DesktopAgent#addintentlistener\">\n\t\t\t\t\t\t\t\t<InfoOutlinedIcon />\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t{window.fdc3Version === \"2.0\" && (\n\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.input}\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"default\"\n\t\t\t\t\t\t\t\t\t\t\tchecked={sendIntentResult}\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setSendIntentResult(e.target.checked)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tlabel=\"Send Intent Result\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t)}\n\t\t\t\t\t{sendIntentResult && (\n\t\t\t\t\t\t<Grid item xs={12} className={classes.indentLeft}>\n\t\t\t\t\t\t\t<RadioGroup name=\"intent-result-type\" value={resultType} onChange={(e) => setResultType(e.target.value)}>\n\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\tvalue=\"context-result\"\n\t\t\t\t\t\t\t\t\tcontrol={<Radio className={classes.input} />}\n\t\t\t\t\t\t\t\t\tlabel=\"Context result\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{resultType === \"context-result\" && (\n\t\t\t\t\t\t\t\t\t<Grid item className={classes.indentLeft}>\n\t\t\t\t\t\t\t\t\t\t<ContextTemplates handleTabChange={handleTabChange} contextStateSetter={setResultTypeContext} />\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\tvalue=\"channel-result\"\n\t\t\t\t\t\t\t\t\tcontrol={<Radio className={classes.input} />}\n\t\t\t\t\t\t\t\t\tlabel=\"Channel result\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{resultType === \"channel-result\" && (\n\t\t\t\t\t\t\t\t\t<Grid item className={classes.indentLeft}>\n\t\t\t\t\t\t\t\t\t\t<ToggleButtonGroup\n\t\t\t\t\t\t\t\t\t\t\tvalue={channelType}\n\t\t\t\t\t\t\t\t\t\t\texclusive\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleChannelTypeChange}\n\t\t\t\t\t\t\t\t\t\t\taria-label=\"result channel type\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<ToggleButton className={classes.toggle} value=\"app-channel\" aria-label=\"left aligned\">\n\t\t\t\t\t\t\t\t\t\t\t\tApp Channel\n\t\t\t\t\t\t\t\t\t\t\t</ToggleButton>\n\t\t\t\t\t\t\t\t\t\t\t<ToggleButton className={classes.toggle} value=\"private-channel\" aria-label=\"left aligned\">\n\t\t\t\t\t\t\t\t\t\t\t\tPrivate Channel\n\t\t\t\t\t\t\t\t\t\t\t</ToggleButton>\n\t\t\t\t\t\t\t\t\t\t</ToggleButtonGroup>\n\n\t\t\t\t\t\t\t\t\t\t{channelType === \"app-channel\" && (\n\t\t\t\t\t\t\t\t\t\t\t<Grid item className={classes.field}>\n\t\t\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Channel Name\"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e: any) => setCurrentAppChannelId(e.target.value)}\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={currentAppChannelId}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t\t\t\t\t\t{channelType === \"private-channel\" && (\n\t\t\t\t\t\t\t\t\t\t\t\t<Typography variant=\"caption\" className={classes.caption}>\n\t\t\t\t\t\t\t\t\t\t\t\t\tContext streaming will start AFTER a context listener is added to the channel\n\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.input}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"default\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={sendResultOverChannel}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setSendResultOverChannel(e.target.checked)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Send context result over channel\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t\t\t\t\t{sendResultOverChannel && (\n\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t{contextFields.map((field, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<React.Fragment key={index}>{field}</React.Fragment>\n\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item className={classes.indentLeft}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle=\"Add context result (delays will trigger sequentially)\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"Add context result (delays will trigger sequentially)\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"Add context result (delays will trigger sequentially)\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={handleAddContextField}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<AddCircleOutlineIcon />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget=\"FDC3APIDocs\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thref=\"https://fdc3.finos.org/docs/api/ref/DesktopAgent#addintentlistener\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InfoOutlinedIcon />\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</RadioGroup>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t)}\n\t\t\t\t</Grid>\n\t\t\t</form>\n\t\t</div>\n\t);\n});\n","import React, { FormEvent, useState } from \"react\";\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\nimport { Button, Typography, Grid, TextField } from \"@material-ui/core\";\nimport { observer } from \"mobx-react\";\nimport contextStore from \"../store/ContextStore\";\nimport appChannelStore from \"../store/AppChannelStore\";\nimport { ChannelField } from \"./ChannelField\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n\tcreateStyles({\n\t\troot: {\n\t\t\tflexGrow: 1,\n\t\t},\n\t\ttitle: {\n\t\t\tdisplay: \"flex\",\n\t\t\talignItems: \"center\",\n\t\t\tjustifyContent: \"space-between\",\n\t\t},\n\t\tform: {\n\t\t\tdisplay: \"flex\",\n\t\t\tflexWrap: \"wrap\",\n\t\t\talignItems: \"center\",\n\t\t\tmarginTop: theme.spacing(1),\n\t\t\t\"& > *\": {\n\t\t\t\tmargin: theme.spacing(1),\n\t\t\t\tmarginLeft: \"0px\",\n\t\t\t},\n\t\t},\n\t\tcontextType: {\n\t\t\tflexGrow: 1,\n\t\t\tminWidth: \"190px\",\n\t\t},\n\t\tcontrols: {\n\t\t\t\"& > *:first-child\": {\n\t\t\t\tmarginLeft: 0,\n\t\t\t},\n\t\t\t\"& > *\": {\n\t\t\t\tmarginRight: theme.spacing(1),\n\t\t\t},\n\t\t\t\"& > *:last-child\": {\n\t\t\t\tmarginRight: 0,\n\t\t\t},\n\t\t\t\"& .MuiIconButton-sizeSmall\": {\n\t\t\t\tpadding: \"6px 0px 6px 0px\",\n\t\t\t},\n\t\t\t\"& > a\": {\n\t\t\t\tdisplay: \"flex\",\n\t\t\t\tpadding: \"6px 0px 6px 0px\",\n\t\t\t},\n\t\t},\n\t\trightAlign: {\n\t\t\tflexDirection: \"row\",\n\t\t\tjustifyContent: \"flex-end\",\n\t\t},\n\t\tspread: {\n\t\t\tflexDirection: \"row\",\n\t\t\t\"& > *:first-child\": {\n\t\t\t\tpaddingLeft: \"0px\",\n\t\t\t},\n\t\t},\n\t\ttextField: {\n\t\t\twidth: \"100%\",\n\t\t\t\"& input\": {\n\t\t\t\theight: \"29px\",\n\t\t\t\tpadding: \"6px\",\n\t\t\t},\n\t\t},\n\t\th4: {\n\t\t\tfontSize: \"22px\",\n\t\t},\n\t\th6: {\n\t\t\tfontSize: \"14px\",\n\t\t},\n\t\tfield: {\n\t\t\tflexGrow: 1,\n\t\t\tmarginRight: theme.spacing(1),\n\t\t\tminWidth: \"190px\",\n\t\t},\n\t\tborder: {\n\t\t\theight: \"1px\",\n\t\t\twidth: \"100%\",\n\t\t\tbackgroundColor: \"#acb2c0\",\n\t\t\tmarginTop: \"24px\",\n\t\t\tmarginBottom: \"16px\",\n\t\t},\n\t\trightPadding: {\n\t\t\tpaddingRight: theme.spacing(0.5),\n\t\t},\n\t})\n);\n\ninterface ListenerOptionType {\n\ttitle: string;\n\tvalue: string;\n\ttype: string | undefined;\n}\n\nexport const AppChannels = observer(({ handleTabChange }: { handleTabChange: any }) => {\n\tconst classes = useStyles();\n\tconst [currentAppChannelId, setCurrentAppChannelId] = useState<string>(\"\");\n\tconst contextListenersOptionsAll: ListenerOptionType[] = contextStore.contextsList.map(({ id, template }) => {\n\t\treturn {\n\t\t\ttitle: id,\n\t\t\tvalue: id,\n\t\t\ttype: template?.type,\n\t\t};\n\t});\n\tcontextListenersOptionsAll.unshift({\n\t\ttitle: \"All\",\n\t\tvalue: \"all\",\n\t\ttype: \"All\",\n\t});\n\n\tconst handleGetorCreateChannel = (e: FormEvent | null = null) => {\n\t\te?.preventDefault();\n\t\tif (currentAppChannelId) {\n\t\t\tlet foundChannel = appChannelStore.appChannelsList.find(\n\t\t\t\t(currentChannel) => currentChannel.id === currentAppChannelId\n\t\t\t);\n\t\t\tif (!foundChannel) {\n\t\t\t\tappChannelStore.getOrCreateChannel(currentAppChannelId);\n\t\t\t}\n\t\t\tsetCurrentAppChannelId(\"\");\n\t\t}\n\t};\n\n\tconst handleChannelChange = (event: React.ChangeEvent<{ value: unknown }>) => {\n\t\tsetCurrentAppChannelId(event.target.value as string);\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Grid item xs={12}>\n\t\t\t\t<Typography variant=\"h5\">Get Channel</Typography>\n\t\t\t</Grid>\n\n\t\t\t<form className={classes.form} noValidate autoComplete=\"off\" onSubmit={(e) => handleGetorCreateChannel(e)}>\n\t\t\t\t<Grid container direction=\"row\" spacing={1}>\n\t\t\t\t\t<Grid item className={classes.field}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tlabel=\"Channel Name\"\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tonChange={handleChannelChange}\n\t\t\t\t\t\t\tvalue={currentAppChannelId}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item className={classes.controls}>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tonClick={handleGetorCreateChannel}\n\t\t\t\t\t\t\tdisabled={!currentAppChannelId}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tGet or Create Channel\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</form>\n\t\t\t<div className={classes.border}></div>\n\t\t\t<ChannelField handleTabChange={handleTabChange} channelsList={appChannelStore.appChannelsList} />\n\t\t</div>\n\t);\n});\n","import React, { useEffect, useState } from \"react\";\nimport { makeStyles, createStyles, Theme } from \"@material-ui/core/styles\";\nimport { Grid, Paper, Tabs, Tab, Typography, Link } from \"@material-ui/core\";\nimport { observer } from \"mobx-react\";\nimport { ThemeProvider } from \"@material-ui/styles\";\nimport { createTheme } from \"@material-ui/core/styles\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport \"normalize.css\";\nimport \"@fontsource/roboto\";\nimport \"@fontsource/source-code-pro\";\nimport { TabPanel } from \"./components/common/TabPanel\";\nimport { Header } from \"./components/Header\";\nimport { Channels } from \"./components/Channels\";\nimport { Workbench } from \"./components/Workbench/Workbench\";\nimport { ContextCreate } from \"./components/ContextCreate\";\nimport { Intents } from \"./components/Intents\";\nimport { AppChannels } from \"./components/AppChannels\";\nimport snackbarStore from \"./store/SnackbarStore\";\nimport fdc3 from \"./utility/Fdc3Api\";\nimport \"./App.css\";\n\nconst mainTheme = createTheme({\n\tpalette: {\n\t\tprimary: {\n\t\t\tlight: \"#005d85\",\n\t\t\tmain: \"#0086bf\",\n\t\t\tdark: \"#339ecb\",\n\t\t\tcontrastText: \"#fff\",\n\t\t},\n\t\tsecondary: {\n\t\t\tlight: \"#ff7961\",\n\t\t\tmain: \"#f44336\",\n\t\t\tdark: \"#ba000d\",\n\t\t\tcontrastText: \"#fff\",\n\t\t},\n\t},\n\tprops: {\n\t\tMuiLink: {\n\t\t\tunderline: \"hover\",\n\t\t},\n\t\tMuiTableCell: {\n\t\t\tpadding: \"normal\"\n\t\t}\n\t},\n\toverrides: {\n\t\tMuiTableCell: {\n\t\t\troot: {\n\t\t\t\tpadding: \"1px\"\n\t\t\t}\n\t\t}\n\t}\n});\n\nmainTheme.typography.h4 = {\n\tfontFamily: \"Source Code Pro\",\n\tfontSize: \"20px\",\n\tcolor: \"#0086bf\",\n\tpaddingLeft: \"4px\",\n\tpaddingBottom: \"11px\",\n};\n\nmainTheme.typography.h5 = {\n\tfontSize: \"16px\",\n};\n\nmainTheme.typography.body1 = {\n\tfontSize: \"1rem\",\n\tfontFamily: \"Roboto, Helvetica, Arial, sans-serif\",\n\tfontWeight: 400,\n\tlineHeight: 1.5,\n\tletterSpacing: \"0.00938em\",\n\tmarginBlockStart: \"10px\",\n\tmarginBlockEnd: \"10px\",\n};\n\nconst useStyles = makeStyles((theme: Theme) =>\n\tcreateStyles({\n\t\t\"@global\": {\n\t\t\t\".MuiFormHelperText-contained.Mui-error\": {\n\t\t\t\tposition: \"absolute\",\n\t\t\t\tmarginLeft: \"9px\",\n\t\t\t\tbottom: \"-11px\",\n\t\t\t\tpadding: \"0 4px\",\n\t\t\t\tbackgroundColor: theme.palette.common.white,\n\t\t\t},\n\t\t\t\".MuiButton-contained\": {\n\t\t\t\tboxShadow: \"none\",\n\t\t\t},\n\t\t\t\".MuiGrid-item:has(> .MuiButton-root)\": {\n\t\t\t\tdisplay: \"flex\",\n\t\t\t\talignItems: \"end\",\n\t\t\t},\n\t\t\t\".MuiInputBase-root.Mui-disabled\": {\n\t\t\t\tcolor: \"rgba(0, 0, 0, 0.6)\",\n\t\t\t\tcursor: \"default\",\n\t\t\t},\n\t\t\t\".MuiInputBase-root\": {\n\t\t\t\tmarginBlockEnd: \"0px\"\n\t\t\t}\n\t\t},\n\t\troot: {\n\t\t\tflexGrow: 1,\n\t\t},\n\t\theader: {\n\t\t\tmarginBottom: theme.spacing(2),\n\t\t},\n\t\tbody: {\n\t\t\theight: \"100%\",\n\t\t},\n\t\tpaper: {\n\t\t\tmarginTop: theme.spacing(2),\n\t\t\tpadding: theme.spacing(2),\n\t\t\theight: \"100%\",\n\t\t\t\"&:first-child\": {\n\t\t\t\tmarginTop: 0,\n\t\t\t},\n\t\t},\n\t\ttabs: {\n\t\t\tborderBottomColor: \"#acb2c0\",\n\t\t\tborderBottomStyle: \"solid\",\n\t\t\tborderBottomWidth: \"1px\",\n\t\t\tminHeight: \"28px\",\n\t\t\t\"& [aria-selected='true']\": {\n\t\t\t\tbackgroundColor: \"rgba(0, 134, 191, 0.21)\",\n\t\t\t},\n\t\t},\n\t\ttabIndicator: {\n\t\t\tbackgroundColor: \"rgba(0, 134, 191, 0.21)\",\n\t\t},\n\t\tindicator: {\n\t\t\tbackgroundColor: \"#00bbe1\",\n\t\t},\n\t\tfooter: {\n\t\t\tfontSize: \"10px\",\n\t\t\tfontStyle: \"italic\",\n\t\t\tcolor: \"#5b606f\",\n\t\t\tflexDirection: \"row\",\n\t\t\tjustifyContent: \"center\",\n\t\t\tmargin: theme.spacing(2),\n\t\t\t\"& *:first-child\": {\n\t\t\t\tpaddingTop: \"27px\",\n\t\t\t},\n\t\t},\n\t\tlink: {\n\t\t\tcolor: \"#5b606f\",\n\t\t\tfontWeight: \"bold\",\n\t\t\t\"&:hover\": {\n\t\t\t\tcolor: \"#5b606f\",\n\t\t\t},\n\t\t},\n\t\tcode: {\n\t\t\tfontFamily: \"courier, courier new, serif\",\n\t\t},\n\t\tworkbench: {\n\t\t\t[theme.breakpoints.down(\"sm\")]: {\n\t\t\t\tmarginTop: \"30px\",\n\t\t\t},\n\t\t},\n\t})\n);\n\nconst openAPIDocs = (event: React.MouseEvent<HTMLElement>) => {\n\tevent.preventDefault();\n\twindow.open(\"https://fdc3.finos.org/docs/api/overview\", \"FDC3ApiDocs\");\n\treturn false;\n};\n\nconst openSpecAccessDocs = (event: React.MouseEvent<HTMLElement>) => {\n\tevent.preventDefault();\n\twindow.open(\"https://fdc3.finos.org/docs/api/spec#api-access\", \"FDC3ApiDocs\");\n\treturn false;\n};\n\nconst openSupportedPlatformsDocs = (event: React.MouseEvent<HTMLElement>) => {\n\tevent.preventDefault();\n\twindow.open(\"https://fdc3.finos.org/docs/supported-platforms\", \"FDC3ApiDocs\");\n\treturn false;\n};\n\nexport const App = observer(() => {\n\tconst classes = useStyles();\n\tconst [fdc3Available, setFdc3Available] = useState(false);\n\tconst [openSnackbar, setOpenSnackbar] = useState(false);\n\tconst [tabIndex, setTabIndex] = useState(0);\n\tconst [contextName, setContextName] = useState(\"\");\n\n\tconst handleTabChange = (event: React.ChangeEvent<{}>, newIndex: number, name: string = \"\") => {\n\t\tsetContextName(name);\n\t\tsetTabIndex(newIndex);\n\t};\n\n\tconst handleClose = (event?: React.SyntheticEvent, reason?: string) => {\n\t\tif (reason === \"clickaway\") {\n\t\t\treturn;\n\t\t}\n\n\t\tsetOpenSnackbar(false);\n\t\t// Need to show close animation\n\t\tsetTimeout(() => snackbarStore.clearSnackbarData(), 500);\n\t};\n\n\t//check if the FDC3 API is available so we know whether to render\n\tuseEffect(() => {\n\t\t(async () => {\n\t\t\ttry {\n\t\t\t\tawait fdc3.fdc3Ready(5000);\n\t\t\t\tsetFdc3Available(true);\n\t\t\t} catch (e) {}\n\t\t})();\n\t}, []);\n\n\tuseEffect(() => {\n\t\tsetOpenSnackbar(!!snackbarStore.snackbarData);\n\t}, [snackbarStore.snackbarData]);\n\n\treturn (\n\t\t<ThemeProvider theme={mainTheme}>\n\t\t\t<Grid className={classes.root} container>\n\t\t\t\t<Grid className={classes.header} container item xs={12}>\n\t\t\t\t\t<Header fdc3Available={fdc3Available} />\n\t\t\t\t</Grid>\n\t\t\t\t{fdc3Available ? (\n\t\t\t\t\t<Grid className={classes.body} container spacing={2} item xs={12} style={{ marginLeft: \"0px\" }}>\n\t\t\t\t\t\t<Grid item xs={12} md={8} style={{ flex: 1 }}>\n\t\t\t\t\t\t\t<Paper className={classes.paper}>\n\t\t\t\t\t\t\t\t<Tabs\n\t\t\t\t\t\t\t\t\tvalue={tabIndex}\n\t\t\t\t\t\t\t\t\tindicatorColor=\"primary\"\n\t\t\t\t\t\t\t\t\tonChange={handleTabChange}\n\t\t\t\t\t\t\t\t\tvariant=\"scrollable\"\n\t\t\t\t\t\t\t\t\tscrollButtons=\"auto\"\n\t\t\t\t\t\t\t\t\tclassName={classes.tabs}\n\t\t\t\t\t\t\t\t\tclasses={{\n\t\t\t\t\t\t\t\t\t\tindicator: classes.indicator,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Tab label=\"Contexts\" />\n\t\t\t\t\t\t\t\t\t<Tab label=\"Intents\" />\n\t\t\t\t\t\t\t\t\t<Tab label=\"User Channels\" />\n\t\t\t\t\t\t\t\t\t<Tab label=\"App Channels\" />\n\t\t\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t\t\t\t<TabPanel value={tabIndex} index={0}>\n\t\t\t\t\t\t\t\t\t<ContextCreate contextName={contextName} />\n\t\t\t\t\t\t\t\t</TabPanel>\n\t\t\t\t\t\t\t\t<TabPanel value={tabIndex} index={1}>\n\t\t\t\t\t\t\t\t\t<Intents handleTabChange={handleTabChange} />\n\t\t\t\t\t\t\t\t</TabPanel>\n\t\t\t\t\t\t\t\t<TabPanel value={tabIndex} index={2}>\n\t\t\t\t\t\t\t\t\t<Channels handleTabChange={handleTabChange} />\n\t\t\t\t\t\t\t\t</TabPanel>\n\t\t\t\t\t\t\t\t<TabPanel value={tabIndex} index={3}>\n\t\t\t\t\t\t\t\t\t<AppChannels handleTabChange={handleTabChange} />\n\t\t\t\t\t\t\t\t</TabPanel>\n\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t<Grid item xs={12} md={4} className={classes.workbench}>\n\t\t\t\t\t\t\t<Paper className={classes.paper}>\n\t\t\t\t\t\t\t\t<Workbench />\n\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t) : (\n\t\t\t\t\t<Grid className={classes.body} container spacing={2} item xs={12} style={{ marginLeft: \"0px\" }}>\n\t\t\t\t\t\t<Grid container direction=\"column\" justifyContent=\"center\" alignItems=\"center\" spacing={2} item xs={12}>\n\t\t\t\t\t\t\t<Paper className={classes.paper}>\n\t\t\t\t\t\t\t\t<Typography variant=\"h4\">FDC3 API not detected!</Typography>\n\t\t\t\t\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t\t\t\t\tAn FDC3 desktop agent implementation was not found at{\" \"}\n\t\t\t\t\t\t\t\t\t<span className={classes.code}>window.fdc3</span>.\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t\t\t\t\tFor web applications to be FDC3-enabled, they need to run in the context of an agent that makes the\n\t\t\t\t\t\t\t\t\tFDC3 API available to the application. This desktop agent is also responsible for lauching and\n\t\t\t\t\t\t\t\t\tco-ordinating applications. It could be a browser extension, web app, or full-fledged desktop\n\t\t\t\t\t\t\t\t\tcontainer framework.\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t\t\t\t\tSee the FDC3 standard documentation for details on{\" \"}\n\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\tclassName={classes.link}\n\t\t\t\t\t\t\t\t\t\thref=\"https://fdc3.finos.org/docs/supported-platforms\"\n\t\t\t\t\t\t\t\t\t\tonClick={openSupportedPlatformsDocs}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tsupported platforms\n\t\t\t\t\t\t\t\t\t</Link>{\" \"}\n\t\t\t\t\t\t\t\t\tand{\" \"}\n\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\tclassName={classes.link}\n\t\t\t\t\t\t\t\t\t\thref=\"https://fdc3.finos.org/docs/api/spec#api-access\"\n\t\t\t\t\t\t\t\t\t\tonClick={openSpecAccessDocs}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\taccessing the FDC3 API\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t.\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\n\t\t\t\t<Grid container item xs={12} className={classes.footer}>\n\t\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t\tLearn more about the{\" \"}\n\t\t\t\t\t\t<Link className={classes.link} href=\"https://fdc3.finos.org/docs/api/overview\" onClick={openAPIDocs}>\n\t\t\t\t\t\t\tFDC3 Standard and APIs\n\t\t\t\t\t\t</Link>{\" \"}\n\t\t\t\t\t\t| Proud member of the{\" \"}\n\t\t\t\t\t\t<Link className={classes.link} href=\"https://www.finos.org/\">\n\t\t\t\t\t\t\tFintech Open Source Foundation\n\t\t\t\t\t\t</Link>{\" \"}\n\t\t\t\t\t\t| Copyright © 2021 Cosaic, inc. &amp; Contributors to the FDC3 standards project\n\t\t\t\t\t</Typography>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\n\t\t\t<Snackbar key={snackbarStore.snackbarData?.id} open={openSnackbar} autoHideDuration={4000} onClose={handleClose}>\n\t\t\t\t<Alert elevation={6} variant=\"filled\" onClose={handleClose} severity={snackbarStore.snackbarData?.type}>\n\t\t\t\t\t{snackbarStore.snackbarData?.message}\n\t\t\t\t</Alert>\n\t\t\t</Snackbar>\n\t\t</ThemeProvider>\n\t);\n});\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\n//make sure URL ends with trailing / for resolution of image paths\nif (!window.location.href.endsWith(\"/\")){\n\twindow.location.href = `${window.location.href}/`;\n}\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById(\"root\")\n);\n"],"sourceRoot":""}